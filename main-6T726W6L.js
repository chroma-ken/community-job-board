var $k=Object.defineProperty,Hk=Object.defineProperties;var zk=Object.getOwnPropertyDescriptors;var AC=Object.getOwnPropertySymbols,qk=Object.getPrototypeOf,Wk=Object.prototype.hasOwnProperty,Gk=Object.prototype.propertyIsEnumerable,Jk=Reflect.get;var xC=(n,e,t)=>e in n?$k(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,V=(n,e)=>{for(var t in e||={})Wk.call(e,t)&&xC(n,t,e[t]);if(AC)for(var t of AC(e))Gk.call(e,t)&&xC(n,t,e[t]);return n},te=(n,e)=>Hk(n,zk(e));var Li=(n,e,t)=>Jk(qk(n),t,e);var b=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(u){i(u)}},s=l=>{try{a(t.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())});var jg;function Cd(){return jg}function br(n){let e=jg;return jg=n,e}var MC=Symbol("NotFound");function Ws(n){return n===MC||n?.name==="\u0275NotFound"}var Gt=null,Dd=!1,Ug=1,Kk=null,Jt=Symbol("SIGNAL");function fe(n){let e=Gt;return Gt=n,e}function xd(){return Gt}var Gs={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Js(n){if(Dd)throw new Error("");if(Gt===null)return;Gt.consumerOnSignalRead(n);let e=Gt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Gt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Gt.producers,t!==void 0&&t.producer===n)){Gt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Gt&&(!r||Yk(i,Gt)))return;let o=Qs(Gt),s={producer:n,consumer:Gt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Gt.producersTail=s,e!==void 0?e.nextProducer=s:Gt.producers=s,o&&kC(n,s)}function RC(){Ug++}function Md(n){if(!(Qs(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ug)){if(!n.producerMustRecompute(n)&&!Gc(n)){Ad(n);return}n.producerRecomputeValue(n),Ad(n)}}function Bg(n){if(n.consumers===void 0)return;let e=Dd;Dd=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||Qk(r)}}finally{Dd=e}}function $g(){return Gt?.consumerAllowSignalWrites!==!1}function Qk(n){n.dirty=!0,Bg(n),n.consumerMarkedDirty?.(n)}function Ad(n){n.dirty=!1,n.lastCleanEpoch=Ug}function Ks(n){return n&&PC(n),fe(n)}function PC(n){n.producersTail=void 0,n.recomputing=!0}function Wc(n,e){fe(e),n&&NC(n)}function NC(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(Qs(n))do t=Hg(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function Gc(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Md(t),r!==t.version))return!0}return!1}function Jc(n){if(Qs(n)){let e=n.producers;for(;e!==void 0;)e=Hg(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function kC(n,e){let t=n.consumersTail,r=Qs(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)kC(i.producer,i)}function Hg(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!Qs(e)){let o=e.producers;for(;o!==void 0;)o=Hg(o)}return t}function Qs(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function Rd(n){Kk?.(n)}function Yk(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Pd(n,e){return Object.is(n,e)}function Nd(n,e){let t=Object.create(Zk);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Md(t),Js(t),t.value===qc)throw t.error;return t.value};return r[Jt]=t,Rd(t),r}var Td=Symbol("UNSET"),Sd=Symbol("COMPUTING"),qc=Symbol("ERRORED"),Zk=te(V({},Gs),{value:Td,dirty:!0,error:null,equal:Pd,kind:"computed",producerMustRecompute(n){return n.value===Td||n.value===Sd},producerRecomputeValue(n){if(n.value===Sd)throw new Error("");let e=n.value;n.value=Sd;let t=Ks(n),r,i=!1;try{r=n.computation(),fe(null),i=e!==Td&&e!==qc&&r!==qc&&n.equal(e,r)}catch(o){r=qc,n.error=o}finally{Wc(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function Xk(){throw new Error}var OC=Xk;function FC(n){OC(n)}function zg(n){OC=n}var eO=null;function qg(n,e){let t=Object.create(kd);t.value=n,e!==void 0&&(t.equal=e);let r=()=>LC(t);return r[Jt]=t,Rd(t),[r,s=>Ys(t,s),s=>Wg(t,s)]}function LC(n){return Js(n),n.value}function Ys(n,e){$g()||FC(n),n.equal(n.value,e)||(n.value=e,tO(n))}function Wg(n,e){$g()||FC(n),Ys(n,e(n.value))}var kd=te(V({},Gs),{equal:Pd,value:void 0,kind:"signal"});function tO(n){n.version++,RC(),Bg(n),eO?.(n)}function ge(n){return typeof n=="function"}function Zs(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Od=Zs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Lo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var st=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(ge(r))try{r()}catch(o){e=o instanceof Od?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{VC(o)}catch(s){e=e??[],s instanceof Od?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Od(e)}}add(e){var t;if(e&&e!==this)if(this.closed)VC(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Lo(t,e)}remove(e){let{_finalizers:t}=this;t&&Lo(t,e),e instanceof n&&e._removeParent(this)}};st.EMPTY=(()=>{let n=new st;return n.closed=!0,n})();var Gg=st.EMPTY;function Fd(n){return n instanceof st||n&&"closed"in n&&ge(n.remove)&&ge(n.add)&&ge(n.unsubscribe)}function VC(n){ge(n)?n():n.unsubscribe()}var Yn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Xs={setTimeout(n,e,...t){let{delegate:r}=Xs;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Xs;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ld(n){Xs.setTimeout(()=>{let{onUnhandledError:e}=Yn;if(e)e(n);else throw n})}function Kc(){}var jC=Jg("C",void 0,void 0);function UC(n){return Jg("E",void 0,n)}function BC(n){return Jg("N",n,void 0)}function Jg(n,e,t){return{kind:n,value:e,error:t}}var Vo=null;function ea(n){if(Yn.useDeprecatedSynchronousErrorHandling){let e=!Vo;if(e&&(Vo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Vo;if(Vo=null,t)throw r}}else n()}function $C(n){Yn.useDeprecatedSynchronousErrorHandling&&Vo&&(Vo.errorThrown=!0,Vo.error=n)}var jo=class extends st{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Fd(e)&&e.add(this)):this.destination=iO}static create(e,t,r){return new ta(e,t,r)}next(e){this.isStopped?Qg(BC(e),this):this._next(e)}error(e){this.isStopped?Qg(UC(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qg(jC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},nO=Function.prototype.bind;function Kg(n,e){return nO.call(n,e)}var Yg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Vd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Vd(r)}else Vd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Vd(t)}}},ta=class extends jo{constructor(e,t,r){super();let i;if(ge(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Yn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Kg(e.next,o),error:e.error&&Kg(e.error,o),complete:e.complete&&Kg(e.complete,o)}):i=e}this.destination=new Yg(i)}};function Vd(n){Yn.useDeprecatedSynchronousErrorHandling?$C(n):Ld(n)}function rO(n){throw n}function Qg(n,e){let{onStoppedNotification:t}=Yn;t&&Xs.setTimeout(()=>t(n,e))}var iO={closed:!0,next:Kc,error:rO,complete:Kc};var na=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Cn(n){return n}function Zg(...n){return Xg(n)}function Xg(n){return n.length===0?Cn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var we=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=sO(t)?t:new ta(t,r,i);return ea(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=HC(r),new r((i,o)=>{let s=new ta({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[na](){return this}pipe(...t){return Xg(t)(this)}toPromise(t){return t=HC(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function HC(n){var e;return(e=n??Yn.Promise)!==null&&e!==void 0?e:Promise}function oO(n){return n&&ge(n.next)&&ge(n.error)&&ge(n.complete)}function sO(n){return n&&n instanceof jo||oO(n)&&Fd(n)}function ey(n){return ge(n?.lift)}function Re(n){return e=>{if(ey(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ae(n,e,t,r,i){return new ty(n,e,t,r,i)}var ty=class extends jo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ra(){return Re((n,e)=>{let t=null;n._refCount++;let r=Ae(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ia=class extends we{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,ey(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new st;let t=this.getSubject();e.add(this.source.subscribe(Ae(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=st.EMPTY)}return e}refCount(){return ra()(this)}};var zC=Zs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var vt=(()=>{class n extends we{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new jd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new zC}next(t){ea(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ea(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ea(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Gg:(this.currentObservers=null,o.push(t),new st(()=>{this.currentObservers=null,Lo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new we;return t.source=this,t}}return n.create=(e,t)=>new jd(e,t),n})(),jd=class extends vt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Gg}};var jt=class extends vt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var ny={now(){return(ny.delegate||Date).now()},delegate:void 0};var Ud=class extends st{constructor(e,t){super()}schedule(e,t=0){return this}};var Qc={setInterval(n,e,...t){let{delegate:r}=Qc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Qc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var oa=class extends Ud{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Qc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Qc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Lo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var sa=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};sa.now=ny.now;var aa=class extends sa{constructor(e,t=sa.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var ry=new aa(oa);var Bd=class extends oa{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var $d=class extends aa{};var iy=new $d(Bd);var pn=new we(n=>n.complete());function qC(n){return n&&ge(n.schedule)}function WC(n){return n[n.length-1]}function Hd(n){return ge(WC(n))?n.pop():void 0}function Vi(n){return qC(WC(n))?n.pop():void 0}function oy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function JC(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(f){try{u(r.next(f))}catch(g){s(g)}}function l(f){try{u(r.throw(f))}catch(g){s(g)}}function u(f){f.done?o(f.value):i(f.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function GC(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Uo(n){return this instanceof Uo?(this.v=n,this):new Uo(n)}function KC(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(E){return function(M){return Promise.resolve(M).then(E,g)}}function a(E,M){r[E]&&(i[E]=function(F){return new Promise(function(O,q){o.push([E,F,O,q])>1||l(E,F)})},M&&(i[E]=M(i[E])))}function l(E,M){try{u(r[E](M))}catch(F){v(o[0][3],F)}}function u(E){E.value instanceof Uo?Promise.resolve(E.value.v).then(f,g):v(o[0][2],E)}function f(E){l("next",E)}function g(E){l("throw",E)}function v(E,M){E(M),o.shift(),o.length&&l(o[0][0],o[0][1])}}function QC(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof GC=="function"?GC(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var zd=n=>n&&typeof n.length=="number"&&typeof n!="function";function qd(n){return ge(n?.then)}function Wd(n){return ge(n[na])}function Gd(n){return Symbol.asyncIterator&&ge(n?.[Symbol.asyncIterator])}function Jd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function aO(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Kd=aO();function Qd(n){return ge(n?.[Kd])}function Yd(n){return KC(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Uo(t.read());if(i)return yield Uo(void 0);yield yield Uo(r)}}finally{t.releaseLock()}})}function Zd(n){return ge(n?.getReader)}function _t(n){if(n instanceof we)return n;if(n!=null){if(Wd(n))return cO(n);if(zd(n))return lO(n);if(qd(n))return uO(n);if(Gd(n))return YC(n);if(Qd(n))return dO(n);if(Zd(n))return fO(n)}throw Jd(n)}function cO(n){return new we(e=>{let t=n[na]();if(ge(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function lO(n){return new we(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function uO(n){return new we(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ld)})}function dO(n){return new we(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function YC(n){return new we(e=>{hO(n,e).catch(t=>e.error(t))})}function fO(n){return YC(Yd(n))}function hO(n,e){var t,r,i,o;return JC(this,void 0,void 0,function*(){try{for(t=QC(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function mn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function ji(n,e=0){return Re((t,r)=>{t.subscribe(Ae(r,i=>mn(r,n,()=>r.next(i),e),()=>mn(r,n,()=>r.complete(),e),i=>mn(r,n,()=>r.error(i),e)))})}function Ui(n,e=0){return Re((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ZC(n,e){return _t(n).pipe(Ui(e),ji(e))}function XC(n,e){return _t(n).pipe(Ui(e),ji(e))}function eD(n,e){return new we(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function tD(n,e){return new we(t=>{let r;return mn(t,e,()=>{r=n[Kd](),mn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>ge(r?.return)&&r.return()})}function Xd(n,e){if(!n)throw new Error("Iterable cannot be null");return new we(t=>{mn(t,e,()=>{let r=n[Symbol.asyncIterator]();mn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function nD(n,e){return Xd(Yd(n),e)}function rD(n,e){if(n!=null){if(Wd(n))return ZC(n,e);if(zd(n))return eD(n,e);if(qd(n))return XC(n,e);if(Gd(n))return Xd(n,e);if(Qd(n))return tD(n,e);if(Zd(n))return nD(n,e)}throw Jd(n)}function Qe(n,e){return e?rD(n,e):_t(n)}function ce(...n){let e=Vi(n);return Qe(n,e)}function ca(n,e){let t=ge(n)?n:()=>n,r=i=>i.error(t());return new we(e?i=>e.schedule(r,0,i):r)}function sy(n){return!!n&&(n instanceof we||ge(n.lift)&&ge(n.subscribe))}var Zr=Zs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function xe(n,e){return Re((t,r)=>{let i=0;t.subscribe(Ae(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:pO}=Array;function mO(n,e){return pO(e)?n(...e):n(e)}function ef(n){return xe(e=>mO(n,e))}var{isArray:gO}=Array,{getPrototypeOf:yO,prototype:vO,keys:_O}=Object;function tf(n){if(n.length===1){let e=n[0];if(gO(e))return{args:e,keys:null};if(bO(e)){let t=_O(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function bO(n){return n&&typeof n=="object"&&yO(n)===vO}function nf(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Yc(...n){let e=Vi(n),t=Hd(n),{args:r,keys:i}=tf(n);if(r.length===0)return Qe([],e);let o=new we(EO(r,e,i?s=>nf(i,s):Cn));return t?o.pipe(ef(t)):o}function EO(n,e,t=Cn){return r=>{iD(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)iD(e,()=>{let u=Qe(n[l],e),f=!1;u.subscribe(Ae(r,g=>{o[l]=g,f||(f=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function iD(n,e,t){n?mn(t,n,e):e()}function oD(n,e,t,r,i,o,s,a){let l=[],u=0,f=0,g=!1,v=()=>{g&&!l.length&&!u&&e.complete()},E=F=>u<r?M(F):l.push(F),M=F=>{o&&e.next(F),u++;let O=!1;_t(t(F,f++)).subscribe(Ae(e,q=>{i?.(q),o?E(q):e.next(q)},()=>{O=!0},void 0,()=>{if(O)try{for(u--;l.length&&u<r;){let q=l.shift();s?mn(e,s,()=>M(q)):M(q)}v()}catch(q){e.error(q)}}))};return n.subscribe(Ae(e,E,()=>{g=!0,v()})),()=>{a?.()}}function ft(n,e,t=1/0){return ge(e)?ft((r,i)=>xe((o,s)=>e(r,o,i,s))(_t(n(r,i))),t):(typeof e=="number"&&(t=e),Re((r,i)=>oD(r,i,n,t)))}function la(n=1/0){return ft(Cn,n)}function sD(){return la(1)}function ua(...n){return sD()(Qe(n,Vi(n)))}function Zc(n){return new we(e=>{_t(n()).subscribe(e)})}function ay(...n){let e=Hd(n),{args:t,keys:r}=tf(n),i=new we(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let f=0;f<s;f++){let g=!1;_t(t[f]).subscribe(Ae(o,v=>{g||(g=!0,u--),a[f]=v},()=>l--,void 0,()=>{(!l||!g)&&(u||o.next(r?nf(r,a):a),o.complete())}))}});return e?i.pipe(ef(e)):i}function gn(n,e){return Re((t,r)=>{let i=0;t.subscribe(Ae(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Xr(n){return Re((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ae(t,void 0,void 0,s=>{o=_t(n(s,Xr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function aD(n,e,t,r,i){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(Ae(s,f=>{let g=u++;l=a?n(l,f,g):(a=!0,f),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Bi(n,e){return ge(e)?ft(n,e,1):ft(n,1)}function $i(n){return Re((e,t)=>{let r=!1;e.subscribe(Ae(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ei(n){return n<=0?()=>pn:Re((e,t)=>{let r=0;e.subscribe(Ae(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function rf(n=wO){return Re((e,t)=>{let r=!1;e.subscribe(Ae(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function wO(){return new Zr}function Xc(n){return Re((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ti(n,e){let t=arguments.length>=2;return r=>r.pipe(n?gn((i,o)=>n(i,o,r)):Cn,ei(1),t?$i(e):rf(()=>new Zr))}function da(n){return n<=0?()=>pn:Re((e,t)=>{let r=[];e.subscribe(Ae(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function cy(n,e){let t=arguments.length>=2;return r=>r.pipe(n?gn((i,o)=>n(i,o,r)):Cn,da(1),t?$i(e):rf(()=>new Zr))}function ly(n,e){return Re(aD(n,e,arguments.length>=2,!0))}function uy(...n){let e=Vi(n);return Re((t,r)=>{(e?ua(n,t,e):ua(n,t)).subscribe(r)})}function sn(n,e){return Re((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ae(r,l=>{i?.unsubscribe();let u=0,f=o++;_t(n(l,f)).subscribe(i=Ae(r,g=>r.next(e?e(l,g,f,u++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function of(n){return Re((e,t)=>{_t(n).subscribe(Ae(t,()=>t.complete(),Kc)),!t.closed&&e.subscribe(t)})}function Mt(n,e,t){let r=ge(n)||e||t?{next:n,error:e,complete:t}:n;return r?Re((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ae(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Cn}function cD(n){let e=fe(null);try{return n()}finally{fe(e)}}var Hi=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Iy=new Hi("20.3.13");var lf="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Q=class extends Error{code;constructor(e,t){super(Wi(e,t)),this.code=e}};function IO(n){return`NG0${Math.abs(n)}`}function Wi(n,e){return`${IO(n)}${e?": "+e:""}`}var oi=globalThis;function Fe(n){for(let e in n)if(n[e]===Fe)return e;throw Error("")}function dD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ri(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(ri).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Cy(n,e){return n?e?`${n} ${e}`:n:e||""}var CO=Fe({__forward_ref__:Fe});function Xn(n){return n.__forward_ref__=Xn,n.toString=function(){return ri(this())},n}function Ut(n){return Dy(n)?n():n}function Dy(n){return typeof n=="function"&&n.hasOwnProperty(CO)&&n.__forward_ref__===Xn}function X(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function er(n){return{providers:n.providers||[],imports:n.imports||[]}}function rl(n){return DO(n,uf)}function Ty(n){return rl(n)!==null}function DO(n,e){return n.hasOwnProperty(e)&&n[e]||null}function TO(n){let e=n?.[uf]??null;return e||null}function fy(n){return n&&n.hasOwnProperty(af)?n[af]:null}var uf=Fe({\u0275prov:Fe}),af=Fe({\u0275inj:Fe}),Z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=X({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Sy(n){return n&&!!n.\u0275providers}var Ay=Fe({\u0275cmp:Fe}),xy=Fe({\u0275dir:Fe}),My=Fe({\u0275pipe:Fe}),Ry=Fe({\u0275mod:Fe}),tl=Fe({\u0275fac:Fe}),qo=Fe({__NG_ELEMENT_ID__:Fe}),lD=Fe({__NG_ENV_ID__:Fe});function Wo(n){return typeof n=="string"?n:n==null?"":String(n)}function fD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Wo(n)}var hD=Fe({ngErrorCode:Fe}),SO=Fe({ngErrorMessage:Fe}),AO=Fe({ngTokenPath:Fe});function Py(n,e){return pD("",-200,e)}function df(n,e){throw new Q(-201,!1)}function pD(n,e,t){let r=new Q(e,n);return r[hD]=e,r[SO]=n,t&&(r[AO]=t),r}function xO(n){return n[hD]}var hy;function mD(){return hy}function an(n){let e=hy;return hy=n,e}function Ny(n,e,t){let r=rl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;df(n,"Injector")}var MO={},Bo=MO,py="__NG_DI_FLAG__",my=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=$o(t)||0;try{return this.injector.get(e,r&8?null:Bo,r)}catch(i){if(Ws(i))return i;throw i}}};function RO(n,e=0){let t=Cd();if(t===void 0)throw new Q(-203,!1);if(t===null)return Ny(n,void 0,e);{let r=PO(e),i=t.retrieve(n,r);if(Ws(i)){if(r.optional)return null;throw i}return i}}function le(n,e=0){return(mD()||RO)(Ut(n),e)}function P(n,e){return le(n,$o(e))}function $o(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function PO(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function gy(n){let e=[];for(let t=0;t<n.length;t++){let r=Ut(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=NO(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(le(i,o))}else e.push(le(r))}return e}function gD(n,e){return n[py]=e,n.prototype[py]=e,n}function NO(n){return n[py]}function zi(n,e){let t=n.hasOwnProperty(tl);return t?n[tl]:null}function ff(n,e){n.forEach(t=>Array.isArray(t)?ff(t,e):e(t))}function ky(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function il(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function yD(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function vD(n,e,t){let r=ha(n,e);return r>=0?n[r|1]=t:(r=~r,yD(n,r,e,t)),r}function hf(n,e){let t=ha(n,e);if(t>=0)return n[t|1]}function ha(n,e){return kO(n,e,1)}function kO(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Gi={},Dn=[],si=new Z(""),Oy=new Z("",-1),Fy=new Z(""),nl=class{get(e,t=Bo){if(t===Bo){let i=pD("",-201);throw i.name="\u0275NotFound",i}return t}};function Ly(n){return n[Ry]||null}function ai(n){return n[Ay]||null}function Vy(n){return n[xy]||null}function _D(n){return n[My]||null}function yn(n){return{\u0275providers:n}}function bD(n){return yn([{provide:si,multi:!0,useValue:n}])}function ED(...n){return{\u0275providers:jy(!0,n),\u0275fromNgModule:!0}}function jy(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return ff(e,s=>{let a=s;cf(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&wD(i,o),t}function wD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Uy(i,o=>{e(o,r)})}}function cf(n,e,t,r){if(n=Ut(n),!n)return!1;let i=null,o=fy(n),s=!o&&ai(n);if(!o&&!s){let l=n.ngModule;if(o=fy(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)cf(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{ff(o.imports,f=>{cf(f,e,t,r)&&(u||=[],u.push(f))})}finally{}u!==void 0&&wD(u,e)}if(!a){let u=zi(i)||(()=>new i);e({provide:i,useFactory:u,deps:Dn},i),e({provide:Fy,useValue:i,multi:!0},i),e({provide:si,useValue:()=>le(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=n;Uy(l,f=>{e(f,u)})}}else return!1;return i!==n&&n.providers!==void 0}function Uy(n,e){for(let t of n)Sy(t)&&(t=t.\u0275providers),Array.isArray(t)?Uy(t,e):e(t)}var OO=Fe({provide:String,useValue:Fe});function ID(n){return n!==null&&typeof n=="object"&&OO in n}function FO(n){return!!(n&&n.useExisting)}function LO(n){return!!(n&&n.useFactory)}function Ho(n){return typeof n=="function"}function CD(n){return!!n.useClass}var ol=new Z(""),sf={},uD={},dy;function sl(){return dy===void 0&&(dy=new nl),dy}var ht=class{},zo=class extends ht{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,vy(e,s=>this.processProvider(s)),this.records.set(Oy,fa(void 0,this)),i.has("environment")&&this.records.set(ht,fa(void 0,this));let o=this.records.get(ol);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Fy,Dn,{self:!0}))}retrieve(e,t){let r=$o(t)||0;try{return this.get(e,Bo,r)}catch(i){if(Ws(i))return i;throw i}}destroy(){el(this),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return el(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){el(this);let t=br(this),r=an(void 0),i;try{return e()}finally{br(t),an(r)}}get(e,t=Bo,r){if(el(this),e.hasOwnProperty(lD))return e[lD](this);let i=$o(r),o,s=br(this),a=an(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let f=$O(e)&&rl(e);f&&this.injectableDefInScope(f)?u=fa(yy(e),sf):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let l=i&2?sl():this.parent;return t=i&8&&t===Bo?null:t,l.get(e,t)}catch(l){let u=xO(l);throw u===-200||u===-201?new Q(u,null):l}finally{an(a),br(s)}}resolveInjectorInitializers(){let e=fe(null),t=br(this),r=an(void 0),i;try{let o=this.get(si,Dn,{self:!0});for(let s of o)s()}finally{br(t),an(r),fe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ri(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ut(e);let t=Ho(e)?e:Ut(e&&e.provide),r=jO(e);if(!Ho(e)&&e.multi===!0){let i=this.records.get(t);i||(i=fa(void 0,sf,!0),i.factory=()=>gy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=fe(null);try{if(t.value===uD)throw Py(ri(e));return t.value===sf&&(t.value=uD,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&BO(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{fe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ut(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function yy(n){let e=rl(n),t=e!==null?e.factory:zi(n);if(t!==null)return t;if(n instanceof Z)throw new Q(204,!1);if(n instanceof Function)return VO(n);throw new Q(204,!1)}function VO(n){if(n.length>0)throw new Q(204,!1);let t=TO(n);return t!==null?()=>t.factory(n):()=>new n}function jO(n){if(ID(n))return fa(void 0,n.useValue);{let e=By(n);return fa(e,sf)}}function By(n,e,t){let r;if(Ho(n)){let i=Ut(n);return zi(i)||yy(i)}else if(ID(n))r=()=>Ut(n.useValue);else if(LO(n))r=()=>n.useFactory(...gy(n.deps||[]));else if(FO(n))r=(i,o)=>le(Ut(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ut(n&&(n.useClass||n.provide));if(UO(n))r=()=>new i(...gy(n.deps));else return zi(i)||yy(i)}return r}function el(n){if(n.destroyed)throw new Q(205,!1)}function fa(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function UO(n){return!!n.deps}function BO(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function $O(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function vy(n,e){for(let t of n)Array.isArray(t)?vy(t,e):t&&Sy(t)?vy(t.\u0275providers,e):e(t)}function bt(n,e){let t;n instanceof zo?(el(n),t=n):t=new my(n);let r,i=br(t),o=an(void 0);try{return e()}finally{br(i),an(o)}}function DD(){return mD()!==void 0||Cd()!=null}var tr=0,ue=1,he=2,Rt=3,Fn=4,Ln=5,pa=6,ma=7,pt=8,ci=9,Er=10,rt=11,ga=12,$y=13,Go=14,Tn=15,Jo=16,Ko=17,Qo=18,al=19,Hy=20,ni=21,pf=22,cl=23,Sn=24,Yo=25,Zo=26,Et=27,TD=1,zy=6,Ji=7,ll=8,ul=9,mt=10;function wr(n){return Array.isArray(n)&&typeof n[TD]=="object"}function nr(n){return Array.isArray(n)&&n[TD]===!0}function qy(n){return(n.flags&4)!==0}function Ki(n){return n.componentOffset>-1}function dl(n){return(n.flags&1)===1}function Ir(n){return!!n.template}function ya(n){return(n[he]&512)!==0}function Xo(n){return(n[he]&256)===256}var SD="svg",AD="math";function Vn(n){for(;Array.isArray(n);)n=n[tr];return n}function Wy(n,e){return Vn(e[n])}function rr(n,e){return Vn(e[n.index])}function fl(n,e){return n.data[e]}function Gy(n,e){return n[e]}function Jy(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function jn(n,e){let t=e[n];return wr(t)?t:t[tr]}function mf(n){return(n[he]&128)===128}function xD(n){return nr(n[Rt])}function Cr(n,e){return e==null?null:n[e]}function Ky(n){n[Ko]=0}function Qy(n){n[he]&1024||(n[he]|=1024,mf(n)&&va(n))}function MD(n,e){for(;n>0;)e=e[Go],n--;return e}function hl(n){return!!(n[he]&9216||n[Sn]?.dirty)}function gf(n){n[Er].changeDetectionScheduler?.notify(8),n[he]&64&&(n[he]|=1024),hl(n)&&va(n)}function va(n){n[Er].changeDetectionScheduler?.notify(0);let e=qi(n);for(;e!==null&&!(e[he]&8192||(e[he]|=8192,!mf(e)));)e=qi(e)}function Yy(n,e){if(Xo(n))throw new Q(911,!1);n[ni]===null&&(n[ni]=[]),n[ni].push(e)}function RD(n,e){if(n[ni]===null)return;let t=n[ni].indexOf(e);t!==-1&&n[ni].splice(t,1)}function qi(n){let e=n[Rt];return nr(e)?e[Rt]:e}function PD(n){return n[ma]??=[]}function ND(n){return n.cleanup??=[]}var Te={lFrame:KD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var _y=!1;function kD(){return Te.lFrame.elementDepthCount}function OD(){Te.lFrame.elementDepthCount++}function FD(){Te.lFrame.elementDepthCount--}function Zy(){return Te.bindingsEnabled}function LD(){return Te.skipHydrationRootTNode!==null}function VD(n){return Te.skipHydrationRootTNode===n}function jD(){Te.skipHydrationRootTNode=null}function Ce(){return Te.lFrame.lView}function Bt(){return Te.lFrame.tView}function j(n){return Te.lFrame.contextLView=n,n[pt]}function U(n){return Te.lFrame.contextLView=null,n}function Kt(){let n=Xy();for(;n!==null&&n.type===64;)n=n.parent;return n}function Xy(){return Te.lFrame.currentTNode}function UD(){let n=Te.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function _a(n,e){let t=Te.lFrame;t.currentTNode=n,t.isParent=e}function ev(){return Te.lFrame.isParent}function BD(){Te.lFrame.isParent=!1}function tv(){return _y}function nv(n){let e=_y;return _y=n,e}function pl(){let n=Te.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function $D(){return Te.lFrame.bindingIndex}function HD(n){return Te.lFrame.bindingIndex=n}function es(){return Te.lFrame.bindingIndex++}function rv(n){let e=Te.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function zD(){return Te.lFrame.inI18n}function qD(n,e){let t=Te.lFrame;t.bindingIndex=t.bindingRootIndex=n,yf(e)}function WD(){return Te.lFrame.currentDirectiveIndex}function yf(n){Te.lFrame.currentDirectiveIndex=n}function GD(n){let e=Te.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function iv(n){Te.lFrame.currentQueryIndex=n}function HO(n){let e=n[ue];return e.type===2?e.declTNode:e.type===1?n[Ln]:null}function ov(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=HO(o),i===null||(o=o[Go],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Te.lFrame=JD();return r.currentTNode=e,r.lView=n,!0}function vf(n){let e=JD(),t=n[ue];Te.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function JD(){let n=Te.lFrame,e=n===null?null:n.child;return e===null?KD(n):e}function KD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function QD(){let n=Te.lFrame;return Te.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var sv=QD;function _f(){let n=QD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function YD(n){return(Te.lFrame.contextLView=MD(n,Te.lFrame.contextLView))[pt]}function li(){return Te.lFrame.selectedIndex}function Qi(n){Te.lFrame.selectedIndex=n}function bf(){let n=Te.lFrame;return fl(n.tView,n.selectedIndex)}function ZD(){return Te.lFrame.currentNamespace}var XD=!0;function Ef(){return XD}function wf(n){XD=n}function by(n,e=null,t=null,r){let i=av(n,e,t,r);return i.resolveInjectorInitializers(),i}function av(n,e=null,t=null,r,i=new Set){let o=[t||Dn,ED(n)];return r=r||(typeof n=="object"?void 0:ri(n)),new zo(o,e||sl(),r||null,i)}var at=class n{static THROW_IF_NOT_FOUND=Bo;static NULL=new nl;static create(e,t){if(Array.isArray(e))return by({name:""},t,e,"");{let r=e.name??"";return by({name:r},e.parent,e.providers,r)}}static \u0275prov=X({token:n,providedIn:"any",factory:()=>le(Oy)});static __NG_ELEMENT_ID__=-1},gt=new Z(""),Un=(()=>{class n{static __NG_ELEMENT_ID__=zO;static __NG_ENV_ID__=t=>t}return n})(),Ey=class extends Un{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Xo(this._lView)}onDestroy(e){let t=this._lView;return Yy(t,e),()=>RD(t,e)}};function zO(){return new Ey(Ce())}var Zn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},cn=new Z("",{providedIn:"root",factory:()=>{let n=P(ht),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Zn),e.handleError(t))}}}),eT={provide:si,useValue:()=>void P(Zn),multi:!0},qO=new Z("",{providedIn:"root",factory:()=>{let n=P(gt).defaultView;if(!n)return;let e=P(cn),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),P(Un).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function cv(){return yn([bD(()=>void P(qO))])}function lv(n){return typeof n=="function"&&n[Jt]!==void 0}function ee(n,e){let[t,r,i]=qg(n,e?.equal),o=t,s=o[Jt];return o.set=r,o.update=i,o.asReadonly=tT.bind(o),o}function tT(){let n=this[Jt];if(n.readonlyFn===void 0){let e=()=>this();e[Jt]=n,n.readonlyFn=e}return n.readonlyFn}function uv(n){return lv(n)&&typeof n.set=="function"}var If=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=WO}return n})();function WO(){return new If(Ce(),Kt())}var ii=class{},ml=new Z("",{providedIn:"root",factory:()=>!1});var dv=new Z(""),fv=new Z(""),Dr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new jt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new we(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=X({token:n,providedIn:"root",factory:()=>new n})}return n})(),ba=(()=>{class n{internalPendingTasks=P(Dr);scheduler=P(ii);errorHandler=P(cn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=X({token:n,providedIn:"root",factory:()=>new n})}return n})();function gl(...n){}var hv=(()=>{class n{static \u0275prov=X({token:n,providedIn:"root",factory:()=>new wy})}return n})(),wy=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Da(n){return{toString:n}.toString()}var Cf="__parameters__";function eF(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function tF(n,e,t){return Da(()=>{let r=eF(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,f){let g=l.hasOwnProperty(Cf)?l[Cf]:Object.defineProperty(l,Cf,{value:[]})[Cf];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var An=gD(tF("Optional"),8);function nF(n){return typeof n=="function"}var Rf=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function kT(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Zi=(()=>{let n=()=>OT;return n.ngInherit=!0,n})();function OT(n){return n.type.prototype.ngOnChanges&&(n.setInput=iF),rF}function rF(){let n=LT(this),e=n?.current;if(e){let t=n.previous;if(t===Gi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function iF(n,e,t,r,i){let o=this.declaredInputs[r],s=LT(n)||oF(n,{previous:Gi,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Rf(u&&u.currentValue,t,l===Gi),kT(n,e,i,t)}var FT="__ngSimpleChanges__";function LT(n){return n[FT]||null}function oF(n,e){return n[FT]=e}var nT=[];var je=function(n,e=null,t){for(let r=0;r<nT.length;r++){let i=nT[r];i(n,e,t)}};function sF(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=OT(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function VT(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:f}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function Af(n,e,t){jT(n,e,3,t)}function xf(n,e,t,r){(n[he]&3)===t&&jT(n,e,t,r)}function pv(n,e){let t=n[he];(t&3)===e&&(t&=16383,t+=1,n[he]=t)}function jT(n,e,t,r){let i=r!==void 0?n[Ko]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[Ko]+=65536),(a<o||o==-1)&&(aF(n,t,e,l),n[Ko]=(n[Ko]&4294901760)+l+2),l++}function rT(n,e){je(4,n,e);let t=fe(null);try{e.call(n)}finally{fe(t),je(5,n,e)}}function aF(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[he]>>14<n[Ko]>>16&&(n[he]&3)===e&&(n[he]+=16384,rT(a,o)):rT(a,o)}var wa=-1,ns=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function cF(n){return(n.flags&8)!==0}function lF(n){return(n.flags&16)!==0}function uF(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];dF(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function UT(n){return n===3||n===4||n===6}function dF(n){return n.charCodeAt(0)===64}function _l(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?iT(n,t,i,null,e[++r]):iT(n,t,i,null,null))}}return n}function iT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function BT(n){return n!==wa}function Pf(n){return n&32767}function fF(n){return n>>16}function Nf(n,e){let t=fF(n),r=e;for(;t>0;)r=r[Go],t--;return r}var Tv=!0;function kf(n){let e=Tv;return Tv=n,e}var hF=256,$T=hF-1,HT=5,pF=0,Tr={};function mF(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(qo)&&(r=t[qo]),r==null&&(r=t[qo]=pF++);let i=r&$T,o=1<<i;e.data[n+(i>>HT)]|=o}function Of(n,e){let t=zT(n,e);if(t!==-1)return t;let r=e[ue];r.firstCreatePass&&(n.injectorIndex=e.length,mv(r.data,n),mv(e,null),mv(r.blueprint,null));let i=Yv(n,e),o=n.injectorIndex;if(BT(i)){let s=Pf(i),a=Nf(i,e),l=a[ue].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function mv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function zT(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Yv(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=KT(i),r===null)return wa;if(t++,i=i[Go],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return wa}function Sv(n,e,t){mF(n,e,t)}function gF(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(UT(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function qT(n,e,t){if(t&8||n!==void 0)return n;df(e,"NodeInjector")}function WT(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[ci],o=an(void 0);try{return i?i.get(e,r,t&8):Ny(e,r,t&8)}finally{an(o)}}return qT(r,e,t)}function GT(n,e,t,r=0,i){if(n!==null){if(e[he]&2048&&!(r&2)){let s=EF(n,e,t,r,Tr);if(s!==Tr)return s}let o=JT(n,e,t,r,Tr);if(o!==Tr)return o}return WT(e,t,r,i)}function JT(n,e,t,r,i){let o=_F(t);if(typeof o=="function"){if(!ov(e,n,r))return r&1?qT(i,t,r):WT(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))df(t);else return s}finally{sv()}}else if(typeof o=="number"){let s=null,a=zT(n,e),l=wa,u=r&1?e[Tn][Ln]:null;for((a===-1||r&4)&&(l=a===-1?Yv(n,e):e[a+8],l===wa||!sT(r,!1)?a=-1:(s=e[ue],a=Pf(l),e=Nf(l,e)));a!==-1;){let f=e[ue];if(oT(o,a,f.data)){let g=yF(a,e,t,s,r,u);if(g!==Tr)return g}l=e[a+8],l!==wa&&sT(r,e[ue].data[a+8]===u)&&oT(o,a,e)?(s=f,a=Pf(l),e=Nf(l,e)):a=-1}}return i}function yF(n,e,t,r,i,o){let s=e[ue],a=s.data[n+8],l=r==null?Ki(a)&&Tv:r!=s&&(a.type&3)!==0,u=i&1&&o===a,f=vF(a,s,t,l,u);return f!==null?Ff(e,s,f,a,i):Tr}function vF(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,f=o>>20,g=r?a:a+f,v=i?a+f:u;for(let E=g;E<v;E++){let M=s[E];if(E<l&&t===M||E>=l&&M.type===t)return E}if(i){let E=s[l];if(E&&Ir(E)&&E.type===t)return l}return null}function Ff(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof ns){let a=o;if(a.resolving){let E=fD(s[t]);throw Py(E)}let l=kf(a.canSeeViewProviders);a.resolving=!0;let u=s[t].type||s[t],f,g=a.injectImpl?an(a.injectImpl):null,v=ov(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&sF(t,s[t],e)}finally{g!==null&&an(g),kf(l),a.resolving=!1,sv()}}return o}function _F(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(qo)?n[qo]:void 0;return typeof e=="number"?e>=0?e&$T:bF:e}function oT(n,e,t){let r=1<<n;return!!(t[e+(n>>HT)]&r)}function sT(n,e){return!(n&2)&&!(n&1&&e)}var ts=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return GT(this._tNode,this._lView,e,$o(r),t)}};function bF(){return new ts(Kt(),Ce())}function di(n){return Da(()=>{let e=n.prototype.constructor,t=e[tl]||Av(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[tl]||Av(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Av(n){return Dy(n)?()=>{let e=Av(Ut(n));return e&&e()}:zi(n)}function EF(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[he]&2048&&!ya(s);){let a=JT(o,s,t,r|2,Tr);if(a!==Tr)return a;let l=o.parent;if(!l){let u=s[Hy];if(u){let f=u.get(t,Tr,r);if(f!==Tr)return f}l=KT(s),s=s[Go]}o=l}return i}function KT(n){let e=n[ue],t=e.type;return t===2?e.declTNode:t===1?n[Ln]:null}function Dl(n){return gF(Kt(),n)}function wF(){return Yf(Kt(),Ce())}function Yf(n,e){return new Bn(rr(n,e))}var Bn=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=wF}return n})();function QT(n){return(n.flags&128)===128}var Zv=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(Zv||{}),YT=new Map,IF=0;function CF(){return IF++}function DF(n){YT.set(n[al],n)}function xv(n){YT.delete(n[al])}var aT="__ngContext__";function Ia(n,e){wr(e)?(n[aT]=e[al],DF(e)):n[aT]=e}function ZT(n){return eS(n[ga])}function XT(n){return eS(n[Fn])}function eS(n){for(;n!==null&&!nr(n);)n=n[Fn];return n}var Mv;function Xv(n){Mv=n}function tS(){if(Mv!==void 0)return Mv;if(typeof document<"u")return document;throw new Q(210,!1)}var Zf=new Z("",{providedIn:"root",factory:()=>TF}),TF="ng",Xf=new Z(""),cs=new Z("",{providedIn:"platform",factory:()=>"unknown"});var eh=new Z("",{providedIn:"root",factory:()=>tS().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var SF="h",AF="b";var nS="r";var rS="di";var iS=!1,oS=new Z("",{providedIn:"root",factory:()=>iS});var e_=new Z("");var xF=(n,e,t,r)=>{};function MF(n,e,t,r){xF(n,e,t,r)}function t_(n){return(n.flags&32)===32}var RF=()=>null;function sS(n,e,t=!1){return RF(n,e,t)}function aS(n,e){let t=n.contentQueries;if(t!==null){let r=fe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];iv(o),a.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function Rv(n,e,t){iv(0);let r=fe(null);try{e(n,t)}finally{fe(r)}}function cS(n,e,t){if(qy(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{fe(r)}}}var ui=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(ui||{});var Df;function PF(){if(Df===void 0&&(Df=null,oi.trustedTypes))try{Df=oi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Df}function cT(n){return PF()?.createScriptURL(n)||n}var Lf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${lf})`}};function Tl(n){return n instanceof Lf?n.changingThisBreaksApplicationSecurity:n}function n_(n,e){let t=lS(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${lf})`)}return t===e}function lS(n){return n instanceof Lf&&n.getTypeName()||null}var NF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function uS(n){return n=String(n),n.match(NF)?n:"unsafe:"+n}var th=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(th||{});function nh(n){let e=fS();return e?e.sanitize(th.URL,n)||"":n_(n,"URL")?Tl(n):uS(Wo(n))}function dS(n){let e=fS();if(e)return cT(e.sanitize(th.RESOURCE_URL,n)||"");if(n_(n,"ResourceURL"))return cT(Tl(n));throw new Q(904,!1)}function kF(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?dS:nh}function r_(n,e,t){return kF(e,t)(n)}function fS(){let n=Ce();return n&&n[Er].sanitizer}function hS(n){return n instanceof Function?n():n}function OF(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var pS="ng-template";function FF(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&OF(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(i_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function i_(n){return n.type===4&&n.value!==pS}function LF(n,e,t){let r=n.type===4&&!t?pS:n.value;return e===r}function VF(n,e,t){let r=4,i=n.attrs,o=i!==null?BF(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!ir(r)&&!ir(l))return!1;if(s&&ir(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!LF(n,l,t)||l===""&&e.length===1){if(ir(r))return!1;s=!0}}else if(r&8){if(i===null||!FF(n,i,l,t)){if(ir(r))return!1;s=!0}}else{let u=e[++a],f=jF(l,i,i_(n),t);if(f===-1){if(ir(r))return!1;s=!0;continue}if(u!==""){let g;if(f>o?g="":g=i[f+1].toLowerCase(),r&2&&u!==g){if(ir(r))return!1;s=!0}}}}return ir(r)||s}function ir(n){return(n&1)===0}function jF(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return $F(e,n)}function UF(n,e,t=!1){for(let r=0;r<e.length;r++)if(VF(n,e[r],t))return!0;return!1}function BF(n){for(let e=0;e<n.length;e++){let t=n[e];if(UT(t))return e}return n.length}function $F(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function lT(n,e){return n?":not("+e.trim()+")":e}function HF(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ir(s)&&(e+=lT(o,i),i=""),r=s,o=o||!ir(r);t++}return i!==""&&(e+=lT(o,i)),e}function zF(n){return n.map(HF).join(",")}function qF(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!ir(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var xn={};function WF(n,e){return n.createText(e)}function GF(n,e,t){n.setValue(e,t)}function mS(n,e,t){return n.createElement(e,t)}function Vf(n,e,t,r,i){n.insertBefore(e,t,r,i)}function gS(n,e,t){n.appendChild(e,t)}function uT(n,e,t,r,i){r!==null?Vf(n,e,t,r,i):gS(n,e,t)}function yS(n,e,t,r){n.removeChild(null,e,t,r)}function JF(n,e,t){n.setAttribute(e,"style",t)}function KF(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function vS(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&uF(n,e,r),i!==null&&KF(n,e,i),o!==null&&JF(n,e,o)}function o_(n,e,t,r,i,o,s,a,l,u,f){let g=Et+r,v=g+i,E=QF(g,v),M=typeof u=="function"?u():u;return E[ue]={type:n,blueprint:E,template:t,queries:null,viewQuery:a,declTNode:e,data:E.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:M,incompleteFirstPass:!1,ssrId:f}}function QF(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:xn);return t}function YF(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=o_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function s_(n,e,t,r,i,o,s,a,l,u,f){let g=e.blueprint.slice();return g[tr]=i,g[he]=r|4|128|8|64|1024,(u!==null||n&&n[he]&2048)&&(g[he]|=2048),Ky(g),g[Rt]=g[Go]=n,g[pt]=t,g[Er]=s||n&&n[Er],g[rt]=a||n&&n[rt],g[ci]=l||n&&n[ci]||null,g[Ln]=o,g[al]=CF(),g[pa]=f,g[Hy]=u,g[Tn]=e.type==2?n[Tn]:g,g}function ZF(n,e,t){let r=rr(e,n),i=YF(t),o=n[Er].rendererFactory,s=a_(n,s_(n,i,null,_S(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function _S(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function bS(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function a_(n,e){return n[ga]?n[$y][Fn]=e:n[ga]=e,n[$y]=e,e}function w(n=1){ES(Bt(),Ce(),li()+n,!1)}function ES(n,e,t,r){if(!r)if((e[he]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Af(e,o,t)}else{let o=n.preOrderHooks;o!==null&&xf(e,o,0,t)}Qi(t)}var rh=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(rh||{});function Pv(n,e,t,r){let i=fe(null);try{let[o,s,a]=n.inputs[t],l=null;(s&rh.SignalBased)!==0&&(l=e[o][Jt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):kT(e,l,o,r)}finally{fe(i)}}var Sr=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(Sr||{}),XF;function c_(n,e){return XF(n,e)}var rs=new Set,ih=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(ih||{}),ls=new Z(""),dT=new Set;function sr(n){dT.has(n)||(dT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var wS=!1,Nv=class extends vt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,DD()&&(this.destroyRef=P(Un,{optional:!0})??void 0,this.pendingTasks=P(Dr,{optional:!0})??void 0)}emit(e){let t=fe(null);try{super.next(e)}finally{fe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof st&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},wt=Nv;function IS(n){let e,t;function r(){n=gl;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function fT(n){return queueMicrotask(()=>n()),()=>{n=gl}}var l_="isAngularZone",jf=l_+"_ID",eL=0,ke=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new wt(!1);onMicrotaskEmpty=new wt(!1);onStable=new wt(!1);onError=new wt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=wS}=e;if(typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,rL(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(l_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Q(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,tL,gl,gl);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},tL={};function u_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function nL(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){IS(()=>{n.callbackScheduled=!1,kv(n),n.isCheckStableRunning=!0,u_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),kv(n)}function rL(n){let e=()=>{nL(n)},t=eL++;n._inner=n._inner.fork({name:"angular",properties:{[l_]:!0,[jf]:t,[jf+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(iL(l))return r.invokeTask(o,s,a,l);try{return hT(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),pT(n)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return hT(n),r.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!oL(l)&&e(),pT(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,kv(n),u_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function kv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function hT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function pT(n){n._nesting--,u_(n)}var Uf=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new wt;onMicrotaskEmpty=new wt;onStable=new wt;onError=new wt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function iL(n){return CS(n,"__ignore_ng_zone__")}function oL(n){return CS(n,"__scheduler_tick__")}function CS(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var d_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=X({token:n,providedIn:"root",factory:()=>new n})}return n})(),DS=[0,1,2,3],TS=(()=>{class n{ngZone=P(ke);scheduler=P(ii);errorHandler=P(Zn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){P(ls,{optional:!0})}execute(){let t=this.sequences.size>0;t&&je(16),this.executing=!0;for(let r of DS)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&je(17)}register(t){let{view:r}=t;r!==void 0?((r[Yo]??=[]).push(t),va(r),r[he]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(ih.AFTER_NEXT_RENDER,t):t()}static \u0275prov=X({token:n,providedIn:"root",factory:()=>new n})}return n})(),Bf=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Yo];e&&(this.view[Yo]=e.filter(t=>t!==this))}};function Sl(n,e){let t=e?.injector??P(at);return sr("NgAfterNextRender"),aL(n,t,e,!0)}function sL(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function aL(n,e,t,r){let i=e.get(d_);i.impl??=e.get(TS);let o=e.get(ls,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Un):null,a=e.get(If,null,{optional:!0}),l=new Bf(i.impl,sL(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}var SS=new Z("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function AS(n,e,t){let r=n.get(SS);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function cL(n,e){let t=n.get(SS);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)t.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function lL(n,e){for(let[t,r]of e)AS(n,r.animateFns)}function mT(n,e,t,r){let i=n?.[Zo]?.enter;e!==null&&i&&i.has(t.index)&&lL(r,i)}function Ea(n,e,t,r,i,o,s,a){if(i!=null){let l,u=!1;nr(i)?l=i:wr(i)&&(u=!0,i=i[tr]);let f=Vn(i);n===0&&r!==null?(mT(a,r,o,t),s==null?gS(e,r,f):Vf(e,r,f,s||null,!0)):n===1&&r!==null?(mT(a,r,o,t),Vf(e,r,f,s||null,!0)):n===2?gT(a,o,t,g=>{yS(e,f,u,g)}):n===3&&gT(a,o,t,()=>{e.destroyNode(f)}),l!=null&&wL(e,n,t,l,o,r,s)}}function uL(n,e){xS(n,e),e[tr]=null,e[Ln]=null}function dL(n,e,t,r,i,o){r[tr]=i,r[Ln]=e,sh(n,r,t,1,i,o)}function xS(n,e){e[Er].changeDetectionScheduler?.notify(9),sh(n,e,e[rt],2,null,null)}function fL(n){let e=n[ga];if(!e)return gv(n[ue],n);for(;e;){let t=null;if(wr(e))t=e[ga];else{let r=e[mt];r&&(t=r)}if(!t){for(;e&&!e[Fn]&&e!==n;)wr(e)&&gv(e[ue],e),e=e[Rt];e===null&&(e=n),wr(e)&&gv(e[ue],e),t=e&&e[Fn]}e=t}}function f_(n,e){let t=n[ul],r=t.indexOf(e);t.splice(r,1)}function oh(n,e){if(Xo(e))return;let t=e[rt];t.destroyNode&&sh(n,e,t,3,null,null),fL(e)}function gv(n,e){if(Xo(e))return;let t=fe(null);try{e[he]&=-129,e[he]|=256,e[Sn]&&Jc(e[Sn]),mL(n,e),pL(n,e),e[ue].type===1&&e[rt].destroy();let r=e[Jo];if(r!==null&&nr(e[Rt])){r!==e[Rt]&&f_(r,e);let i=e[Qo];i!==null&&i.detachView(n)}xv(e)}finally{fe(t)}}function gT(n,e,t,r){let i=n?.[Zo];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&rs.add(n),AS(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let u=s.animateFns[l],{promise:f}=u();a.push(f)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),hL(n,r)}else n&&rs.delete(n),r(!1)},i)}function hL(n,e){let t=n[Zo]?.running;if(t){t.then(()=>{n[Zo].running=void 0,rs.delete(n),e(!0)});return}e(!1)}function pL(n,e){let t=n.cleanup,r=e[ma];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[ma]=null);let i=e[ni];if(i!==null){e[ni]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[cl];if(o!==null){e[cl]=null;for(let s of o)s.destroy()}}function mL(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof ns)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];je(4,a,l);try{l.call(a)}finally{je(5,a,l)}}else{je(4,i,o);try{o.call(i)}finally{je(5,i,o)}}}}}function gL(n,e,t){return yL(n,e.parent,t)}function yL(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[tr];if(Ki(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===ui.None||i===ui.Emulated)return null}return rr(r,t)}function vL(n,e,t){return bL(n,e,t)}function _L(n,e,t){return n.type&40?rr(n,t):null}var bL=_L,yT;function h_(n,e,t,r){let i=gL(n,r,e),o=e[rt],s=r.parent||e[Ln],a=vL(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)uT(o,i,t[l],a,!1);else uT(o,i,t,a,!1);yT!==void 0&&yT(o,r,e,t,i)}function yl(n,e){if(e!==null){let t=e.type;if(t&3)return rr(e,n);if(t&4)return Ov(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return yl(n,r);{let i=n[e.index];return nr(i)?Ov(-1,i):Vn(i)}}else{if(t&128)return yl(n,e.next);if(t&32)return c_(e,n)()||Vn(n[e.index]);{let r=MS(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=qi(n[Tn]);return yl(i,r)}else return yl(n,e.next)}}}return null}function MS(n,e){if(e!==null){let r=n[Tn][Ln],i=e.projection;return r.projection[i]}return null}function Ov(n,e){let t=mt+n+1;if(t<e.length){let r=e[t],i=r[ue].firstChild;if(i!==null)return yl(r,i)}return e[Ji]}function p_(n,e,t,r,i,o,s){for(;t!=null;){let a=r[ci];if(t.type===128){t=t.next;continue}let l=r[t.index],u=t.type;if(s&&e===0&&(l&&Ia(Vn(l),r),t.flags|=2),!t_(t))if(u&8)p_(n,e,t.child,r,i,o,!1),Ea(e,n,a,i,l,t,o,r);else if(u&32){let f=c_(t,r),g;for(;g=f();)Ea(e,n,a,i,g,t,o,r);Ea(e,n,a,i,l,t,o,r)}else u&16?EL(n,e,r,t,i,o):Ea(e,n,a,i,l,t,o,r);t=s?t.projectionNext:t.next}}function sh(n,e,t,r,i,o){p_(t,r,n.firstChild,e,i,o,!1)}function EL(n,e,t,r,i,o){let s=t[Tn],l=s[Ln].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let f=l[u];Ea(e,n,t[ci],i,f,r,o,t)}else{let u=l,f=s[Rt];QT(r)&&(u.flags|=128),p_(n,e,u,f,i,o,!0)}}function wL(n,e,t,r,i,o,s){let a=r[Ji],l=Vn(r);a!==l&&Ea(e,n,t,o,a,i,s);for(let u=mt;u<r.length;u++){let f=r[u];sh(f[ue],f,n,e,o,a)}}function IL(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:Sr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Sr.Important),n.setStyle(t,r,i,o))}}function RS(n,e,t,r,i){let o=li(),s=r&2;try{Qi(-1),s&&e.length>Et&&ES(n,e,Et,!1),je(s?2:0,i,t),t(r,i)}finally{Qi(o),je(s?3:1,i,t)}}function m_(n,e,t){ML(n,e,t),(t.flags&64)===64&&RL(n,e,t)}function g_(n,e,t=rr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function CL(n,e,t,r){let o=r.get(oS,iS)||t===ui.ShadowDom,s=n.selectRootElement(e,o);return DL(s),s}function DL(n){TL(n)}var TL=()=>null;function SL(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function PS(n,e,t,r,i,o){let s=e[ue];if(y_(n,s,e,t,r)){Ki(n)&&xL(e,n.index);return}n.type&3&&(t=SL(t)),AL(n,e,t,r,i,o)}function AL(n,e,t,r,i,o){if(n.type&3){let s=rr(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function xL(n,e){let t=jn(e,n);t[he]&16||(t[he]|=64)}function ML(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Ki(t)&&ZF(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Of(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=Ff(e,n,s,t);if(Ia(l,e),o!==null&&OL(e,s-r,l,a,t,o),Ir(a)){let u=jn(t.index,e);u[pt]=Ff(e,n,s,t)}}}function RL(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=WD();try{Qi(o);for(let a=r;a<i;a++){let l=n.data[a],u=e[a];yf(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&PL(l,u)}}finally{Qi(-1),yf(s)}}function PL(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function NS(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];UF(e,o.selectors,!1)&&(r??=[],Ir(o)?r.unshift(o):r.push(o))}return r}function NL(n,e,t,r,i,o){let s=rr(n,e);kL(e[rt],s,o,n.value,t,r,i)}function kL(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Wo(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function OL(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];Pv(r,t,l,u)}}function FL(n,e,t,r,i){let o=Et+t,s=e[ue],a=i(s,e,n,r,t);e[o]=a,_a(n,!0);let l=n.type===2;return l?(vS(e[rt],a,n),(kD()===0||dl(n))&&Ia(a,e),OD()):Ia(a,e),Ef()&&(!l||!t_(n))&&h_(s,e,a,n),n}function LL(n){let e=n;return ev()?BD():(e=e.parent,_a(e,!1)),e}function VL(n,e){let t=n[ci];if(!t)return;let r;try{r=t.get(cn,null)}catch{r=null}r?.(e)}function y_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],f=s[l+1],g=e.data[u];Pv(g,t[u],f,i),a=!0}if(o)for(let l of o){let u=t[l],f=e.data[l];Pv(f,u,r,i),a=!0}return a}function jL(n,e){let t=jn(e,n),r=t[ue];UL(r,t);let i=t[tr];i!==null&&t[pa]===null&&(t[pa]=sS(i,t[ci])),je(18),v_(r,t,t[pt]),je(19,t[pt])}function UL(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function v_(n,e,t){vf(e);try{let r=n.viewQuery;r!==null&&Rv(1,r,t);let i=n.template;i!==null&&RS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Qo]?.finishViewCreation(n),n.staticContentQueries&&aS(n,e),n.staticViewQueries&&Rv(2,n.viewQuery,t);let o=n.components;o!==null&&BL(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[he]&=-5,_f()}}function BL(n,e){for(let t=0;t<e.length;t++)jL(n,e[t])}function ah(n,e,t,r){let i=fe(null);try{let o=e.tView,a=n[he]&4096?4096:16,l=s_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];l[Jo]=u;let f=n[Qo];return f!==null&&(l[Qo]=f.createEmbeddedView(o)),v_(o,l,t),l}finally{fe(i)}}function bl(n,e){return!e||e.firstChild===null||QT(n)}function El(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Vn(o)),nr(o)&&kS(o,r);let s=t.type;if(s&8)El(n,e,t.child,r);else if(s&32){let a=c_(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=MS(e,t);if(Array.isArray(a))r.push(...a);else{let l=qi(e[Tn]);El(l[ue],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function kS(n,e){for(let t=mt;t<n.length;t++){let r=n[t],i=r[ue].firstChild;i!==null&&El(r[ue],r,i,e)}n[Ji]!==n[tr]&&e.push(n[Ji])}function OS(n){if(n[Yo]!==null){for(let e of n[Yo])e.impl.addSequence(e);n[Yo].length=0}}var FS=[];function $L(n){return n[Sn]??HL(n)}function HL(n){let e=FS.pop()??Object.create(qL);return e.lView=n,e}function zL(n){n.lView[Sn]!==n&&(n.lView=null,FS.push(n))}var qL=te(V({},Gs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{va(n.lView)},consumerOnSignalRead(){this.lView[Sn]=this}});function WL(n){let e=n[Sn]??Object.create(GL);return e.lView=n,e}var GL=te(V({},Gs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=qi(n.lView);for(;e&&!LS(e[ue]);)e=qi(e);e&&Qy(e)},consumerOnSignalRead(){this.lView[Sn]=this}});function LS(n){return n.type!==2}function VS(n){if(n[cl]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[cl])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[he]&8192)}}var JL=100;function jS(n,e=0){let r=n[Er].rendererFactory,i=!1;i||r.begin?.();try{KL(n,e)}finally{i||r.end?.()}}function KL(n,e){let t=tv();try{nv(!0),Fv(n,e);let r=0;for(;hl(n);){if(r===JL)throw new Q(103,!1);r++,Fv(n,1)}}finally{nv(t)}}function QL(n,e,t,r){if(Xo(e))return;let i=e[he],o=!1,s=!1;vf(e);let a=!0,l=null,u=null;o||(LS(n)?(u=$L(e),l=Ks(u)):xd()===null?(a=!1,u=WL(e),l=Ks(u)):e[Sn]&&(Jc(e[Sn]),e[Sn]=null));try{Ky(e),HD(n.bindingStartIndex),t!==null&&RS(n,e,t,2,r);let f=(i&3)===3;if(!o)if(f){let E=n.preOrderCheckHooks;E!==null&&Af(e,E,null)}else{let E=n.preOrderHooks;E!==null&&xf(e,E,0,null),pv(e,0)}if(s||YL(e),VS(e),US(e,0),n.contentQueries!==null&&aS(n,e),!o)if(f){let E=n.contentCheckHooks;E!==null&&Af(e,E)}else{let E=n.contentHooks;E!==null&&xf(e,E,1),pv(e,1)}XL(n,e);let g=n.components;g!==null&&$S(e,g,0);let v=n.viewQuery;if(v!==null&&Rv(2,v,r),!o)if(f){let E=n.viewCheckHooks;E!==null&&Af(e,E)}else{let E=n.viewHooks;E!==null&&xf(e,E,2),pv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[pf]){for(let E of e[pf])E();e[pf]=null}o||(OS(e),e[he]&=-73)}catch(f){throw o||va(e),f}finally{u!==null&&(Wc(u,l),a&&zL(u)),_f()}}function US(n,e){for(let t=ZT(n);t!==null;t=XT(t))for(let r=mt;r<t.length;r++){let i=t[r];BS(i,e)}}function YL(n){for(let e=ZT(n);e!==null;e=XT(e)){if(!(e[he]&2))continue;let t=e[ul];for(let r=0;r<t.length;r++){let i=t[r];Qy(i)}}}function ZL(n,e,t){je(18);let r=jn(e,n);BS(r,t),je(19,r[pt])}function BS(n,e){mf(n)&&Fv(n,e)}function Fv(n,e){let r=n[ue],i=n[he],o=n[Sn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Gc(o)),s||=!1,o&&(o.dirty=!1),n[he]&=-9217,s)QL(r,n,r.template,n[pt]);else if(i&8192){let a=fe(null);try{VS(n),US(n,1);let l=r.components;l!==null&&$S(n,l,1),OS(n)}finally{fe(a)}}}function $S(n,e,t){for(let r=0;r<e.length;r++)ZL(n,e[r],t)}function XL(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Qi(~i);else{let o=i,s=t[++r],a=t[++r];qD(s,o);let l=e[o];je(24,l),a(2,l),je(25,l)}}}finally{Qi(-1)}}function __(n,e){let t=tv()?64:1088;for(n[Er].changeDetectionScheduler?.notify(e);n;){n[he]|=t;let r=qi(n);if(ya(n)&&!r)return n;n=r}return null}function HS(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function zS(n,e){let t=mt+e;if(t<n.length)return n[t]}function ch(n,e,t,r=!0){let i=e[ue];if(e2(i,e,n,t),r){let s=Ov(t,n),a=e[rt],l=a.parentNode(n[Ji]);l!==null&&dL(i,n[Ln],a,e,l,s)}let o=e[pa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function qS(n,e){let t=wl(n,e);return t!==void 0&&oh(t[ue],t),t}function wl(n,e){if(n.length<=mt)return;let t=mt+e,r=n[t];if(r){let i=r[Jo];i!==null&&i!==n&&f_(i,r),e>0&&(n[t-1][Fn]=r[Fn]);let o=il(n,mt+e);uL(r[ue],r);let s=o[Qo];s!==null&&s.detachView(o[ue]),r[Rt]=null,r[Fn]=null,r[he]&=-129}return r}function e2(n,e,t,r){let i=mt+r,o=t.length;r>0&&(t[i-1][Fn]=e),r<o-mt?(e[Fn]=t[i],ky(t,mt+r,e)):(t.push(e),e[Fn]=null),e[Rt]=t;let s=e[Jo];s!==null&&t!==s&&WS(s,e);let a=e[Qo];a!==null&&a.insertView(n),gf(e),e[he]|=128}function WS(n,e){let t=n[ul],r=e[Rt];if(wr(r))n[he]|=2;else{let i=r[Rt][Tn];e[Tn]!==i&&(n[he]|=2)}t===null?n[ul]=[e]:t.push(e)}var Yi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ue];return El(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[pt]}set context(e){this._lView[pt]=e}get destroyed(){return Xo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Rt];if(nr(e)){let t=e[ll],r=t?t.indexOf(this):-1;r>-1&&(wl(e,r),il(t,r))}this._attachedToViewContainer=!1}oh(this._lView[ue],this._lView)}onDestroy(e){Yy(this._lView,e)}markForCheck(){__(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[he]&=-129}reattach(){gf(this._lView),this._lView[he]|=128}detectChanges(){this._lView[he]|=1024,jS(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ya(this._lView),t=this._lView[Jo];t!==null&&!e&&f_(t,this._lView),xS(this._lView[ue],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let t=ya(this._lView),r=this._lView[Jo];r!==null&&!t&&WS(r,this._lView),gf(this._lView)}};var lh=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=t2;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=ah(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new Yi(o)}}return n})();function t2(){return n2(Kt(),Ce())}function n2(n,e){return n.type&4?new lh(e,n,Yf(n,e)):null}function uh(n,e,t,r,i){let o=n.data[e];if(o===null)o=r2(n,e,t,r,i),zD()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=UD();o.injectorIndex=s===null?-1:s.injectorIndex}return _a(o,!0),o}function r2(n,e,t,r,i){let o=Xy(),s=ev(),a=s?o:o&&o.parent,l=n.data[e]=o2(n,a,t,e,r,i);return i2(n,l,o,s),l}function i2(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function o2(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return LD()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var GY=new RegExp(`^(\\d+)*(${AF}|${SF})*(.*)`);function s2(n){let e=n[zy]??[],r=n[Rt][rt],i=[];for(let o of e)o.data[rS]!==void 0?i.push(o):a2(o,r);n[zy]=i}function a2(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[nS];for(;t<i;){let o=r.nextSibling;yS(e,r,!1),r=o,t++}}}var c2=()=>null,l2=()=>null;function Lv(n,e){return c2(n,e)}function GS(n,e,t){return l2(n,e,t)}var JS=class{},dh=class{},Vv=class{resolveComponentFactory(e){throw new Q(917,!1)}},Al=class{static NULL=new Vv},is=class{},ar=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>u2()}return n})();function u2(){let n=Ce(),e=Kt(),t=jn(e.index,n);return(wr(t)?t:n)[rt]}var KS=(()=>{class n{static \u0275prov=X({token:n,providedIn:"root",factory:()=>null})}return n})();var Mf={},jv=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Mf,r);return i!==Mf||t===Mf?i:this.parentInjector.get(e,t,r)}};function vT(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Cy(i,a);else if(o==2){let l=a,u=e[++s];r=Cy(r,l+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function ve(n,e=0){let t=Ce();if(t===null)return le(n,e);let r=Kt();return GT(r,t,Ut(n),e)}function b_(){let n="invalid";throw new Error(n)}function QS(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,l=null,u=null;for(let f of s)if(f.resolveHostDirectives!==null){[a,l,u]=f.resolveHostDirectives(s);break}h2(n,e,t,a,o,l,u)}o!==null&&r!==null&&d2(t,r,o)}function d2(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new Q(-301,!1);r.push(e[i],o)}}function f2(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function h2(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let v=0;v<a;v++){let E=r[v];!l&&Ir(E)&&(l=!0,f2(n,t,v)),Sv(Of(t,e),n,E.type)}_2(t,n.data.length,a);for(let v=0;v<a;v++){let E=r[v];E.providersResolver&&E.providersResolver(E)}let u=!1,f=!1,g=bS(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let v=0;v<a;v++){let E=r[v];if(t.mergedAttrs=_l(t.mergedAttrs,E.hostAttrs),m2(n,t,e,g,E),v2(g,E,i),s!==null&&s.has(E)){let[F,O]=s.get(E);t.directiveToIndex.set(E.type,[g,F+t.directiveStart,O+t.directiveStart])}else(o===null||!o.has(E))&&t.directiveToIndex.set(E.type,g);E.contentQueries!==null&&(t.flags|=4),(E.hostBindings!==null||E.hostAttrs!==null||E.hostVars!==0)&&(t.flags|=64);let M=E.type.prototype;!u&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!f&&(M.ngOnChanges||M.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),f=!0),g++}p2(n,t,o)}function p2(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))_T(0,e,i,r),_T(1,e,i,r),ET(e,r,!1);else{let o=t.get(i);bT(0,e,o,r),bT(1,e,o,r),ET(e,r,!0)}}}function _T(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),YS(e,o)}}function bT(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),YS(e,s)}}function YS(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function ET(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||i_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let u=i[l];for(let f of u)if(f===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let u=o[l];for(let f=0;f<u.length;f+=2)if(u[f]===e){s??=[],s.push(u[f+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function m2(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=zi(i.type,!0)),s=new ns(o,Ir(i),ve,null);n.blueprint[r]=s,t[r]=s,g2(n,e,r,bS(n,t,i.hostVars,xn),i)}function g2(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;y2(s)!=a&&s.push(a),s.push(t,r,o)}}function y2(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function v2(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ir(e)&&(t[""]=n)}}function _2(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function ZS(n,e,t,r,i,o,s,a){let l=e[ue],u=l.consts,f=Cr(u,s),g=uh(l,n,t,r,f);return o&&QS(l,e,g,Cr(u,a),i),g.mergedAttrs=_l(g.mergedAttrs,g.attrs),g.attrs!==null&&vT(g,g.attrs,!1),g.mergedAttrs!==null&&vT(g,g.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,g),g}function XS(n,e){VT(n,e),qy(e)&&n.queries.elementEnd(e)}function fh(n,e,t){return n[e]=t}function b2(n,e){return n[e]}function or(n,e,t){if(t===xn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function E_(n,e,t,r){let i=or(n,e,t);return or(n,e+1,r)||i}function E2(n,e,t,r,i){let o=E_(n,e,t,r);return or(n,e+2,i)||o}function yv(n,e,t){return function r(i){let o=Ki(n)?jn(n.index,e):e;__(o,5);let s=e[pt],a=wT(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=wT(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function wT(n,e,t,r){let i=fe(null);try{return je(6,e,t),t(r)!==!1}catch(o){return VL(n,o),!1}finally{je(7,e,t),fe(i)}}function w2(n,e,t,r,i,o,s,a){let l=dl(n),u=!1,f=null;if(!r&&l&&(f=C2(e,t,o,n.index)),f!==null){let g=f.__ngLastListenerFn__||f;g.__ngNextListenerFn__=s,f.__ngLastListenerFn__=s,u=!0}else{let g=rr(n,t),v=r?r(g):g;MF(t,v,o,a);let E=i.listen(v,o,a);if(!I2(o)){let M=r?F=>r(Vn(F[n.index])):n.index;eA(M,e,t,o,a,E,!1)}}return u}function I2(n){return n.startsWith("animation")||n.startsWith("transition")}function C2(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[ma],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function eA(n,e,t,r,i,o,s){let a=e.firstCreatePass?ND(e):null,l=PD(t),u=l.length;l.push(i,o),a&&a.push(r,n,u,(u+1)*(s?-1:1))}function IT(n,e,t,r,i,o){let s=e[t],a=e[ue],u=a.data[t].outputs[r],g=s[u].subscribe(o);eA(n.index,a,e,i,o,g,!0)}var Uv=Symbol("BINDING");var $f=class extends Al{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ai(e);return new os(t,this.ngModule)}};function D2(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&rh.SignalBased)!==0};return i&&(o.transform=i),o})}function T2(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function S2(n,e,t){let r=e instanceof ht?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new jv(t,r):t}function A2(n){let e=n.get(is,null);if(e===null)throw new Q(407,!1);let t=n.get(KS,null),r=n.get(ii,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function x2(n,e){let t=tA(n);return mS(e,t,t==="svg"?SD:t==="math"?AD:null)}function tA(n){return(n.selectors[0][0]||"div").toLowerCase()}var os=class extends dh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=D2(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=T2(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=zF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){je(22);let a=fe(null);try{let l=this.componentDef,u=M2(r,l,s,o),f=S2(l,i||this.ngModule,e),g=A2(f),v=g.rendererFactory.createRenderer(null,l),E=r?CL(v,r,l.encapsulation,f):x2(l,v),M=s?.some(CT)||o?.some(q=>typeof q!="function"&&q.bindings.some(CT)),F=s_(null,u,null,512|_S(l),null,null,g,v,f,null,sS(E,f,!0));F[Et]=E,vf(F);let O=null;try{let q=ZS(Et,F,2,"#host",()=>u.directiveRegistry,!0,0);vS(v,E,q),Ia(E,F),m_(u,F,q),cS(u,q,F),XS(u,q),t!==void 0&&P2(q,this.ngContentSelectors,t),O=jn(q.index,F),F[pt]=O[pt],v_(u,F,null)}catch(q){throw O!==null&&xv(O),xv(F),q}finally{je(23),_f()}return new Hf(this.componentType,F,!!M)}finally{fe(a)}}};function M2(n,e,t,r){let i=n?["ng-version","20.3.13"]:qF(e.selectors[0]),o=null,s=null,a=0;if(t)for(let f of t)a+=f[Uv].requiredVars,f.create&&(f.targetIdx=0,(o??=[]).push(f)),f.update&&(f.targetIdx=0,(s??=[]).push(f));if(r)for(let f=0;f<r.length;f++){let g=r[f];if(typeof g!="function")for(let v of g.bindings){a+=v[Uv].requiredVars;let E=f+1;v.create&&(v.targetIdx=E,(o??=[]).push(v)),v.update&&(v.targetIdx=E,(s??=[]).push(v))}}let l=[e];if(r)for(let f of r){let g=typeof f=="function"?f:f.type,v=Vy(g);l.push(v)}return o_(0,null,R2(o,s),1,a,l,null,null,null,[i],null)}function R2(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function CT(n){let e=n[Uv].kind;return e==="input"||e==="twoWay"}var Hf=class extends JS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=fl(t[ue],Et),this.location=Yf(this._tNode,t),this.instance=jn(this._tNode.index,t)[pt],this.hostView=this.changeDetectorRef=new Yi(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=y_(r,i[ue],i,e,t);this.previousInputValues.set(e,t);let s=jn(r.index,i);__(s,1)}get injector(){return new ts(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function P2(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Ta=(()=>{class n{static __NG_ELEMENT_ID__=N2}return n})();function N2(){let n=Kt();return O2(n,Ce())}var k2=Ta,nA=class extends k2{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Yf(this._hostTNode,this._hostLView)}get injector(){return new ts(this._hostTNode,this._hostLView)}get parentInjector(){let e=Yv(this._hostTNode,this._hostLView);if(BT(e)){let t=Nf(e,this._hostLView),r=Pf(e),i=t[ue].data[r+8];return new ts(i,t)}else return new ts(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=DT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-mt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Lv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,bl(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let l=e&&!nF(e),u;if(l)u=t;else{let O=t||{};u=O.index,r=O.injector,i=O.projectableNodes,o=O.environmentInjector||O.ngModuleRef,s=O.directives,a=O.bindings}let f=l?e:new os(ai(e)),g=r||this.parentInjector;if(!o&&f.ngModule==null){let q=(l?g:this.parentInjector).get(ht,null);q&&(o=q)}let v=ai(f.componentType??{}),E=Lv(this._lContainer,v?.id??null),M=E?.firstChild??null,F=f.create(g,i,M,o,s,a);return this.insertImpl(F.hostView,u,bl(this._hostTNode,E)),F}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(xD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Rt],u=new nA(l,l[Ln],l[Rt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return ch(s,i,o,r),e.attachToViewContainerRef(),ky(vv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=DT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=wl(this._lContainer,t);r&&(il(vv(this._lContainer),t),oh(r[ue],r))}detach(e){let t=this._adjustIndex(e,-1),r=wl(this._lContainer,t);return r&&il(vv(this._lContainer),t)!=null?new Yi(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function DT(n){return n[ll]}function vv(n){return n[ll]||(n[ll]=[])}function O2(n,e){let t,r=e[n.index];return nr(r)?t=r:(t=HS(r,e,null,n),e[n.index]=t,a_(e,t)),L2(t,e,n,r),new nA(t,n,e)}function F2(n,e){let t=n[rt],r=t.createComment(""),i=rr(e,n),o=t.parentNode(i);return Vf(t,o,r,t.nextSibling(i),!1),r}var L2=U2,V2=()=>!1;function j2(n,e,t){return V2(n,e,t)}function U2(n,e,t,r){if(n[Ji])return;let i;t.type&8?i=Vn(r):i=F2(e,t),n[Ji]=i}var ss=class{},hh=class{};var zf=class extends ss{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new $f(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Ly(e);this._bootstrapComponents=hS(o.bootstrap),this._r3Injector=av(e,t,[{provide:ss,useValue:this},{provide:Al,useValue:this.componentFactoryResolver},...r],ri(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},qf=class extends hh{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new zf(this.moduleType,e,[])}};var Il=class extends ss{injector;componentFactoryResolver=new $f(this);instance=null;constructor(e){super();let t=new zo([...e.providers,{provide:ss,useValue:this},{provide:Al,useValue:this.componentFactoryResolver}],e.parent||sl(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Sa(n,e,t=null){return new Il({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var B2=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=jy(!1,t.type),i=r.length>0?Sa([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=X({token:n,providedIn:"environment",factory:()=>new n(le(ht))})}return n})();function Ke(n){return Da(()=>{let e=rA(n),t=te(V({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Zv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(B2).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||ui.Emulated,styles:n.styles||Dn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&sr("NgStandalone"),iA(t);let r=n.dependencies;return t.directiveDefs=TT(r,$2),t.pipeDefs=TT(r,_D),t.id=q2(t),t})}function $2(n){return ai(n)||Vy(n)}function Ar(n){return Da(()=>({type:n.type,bootstrap:n.bootstrap||Dn,declarations:n.declarations||Dn,imports:n.imports||Dn,exports:n.exports||Dn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function H2(n,e){if(n==null)return Gi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=rh.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function z2(n){if(n==null)return Gi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function ct(n){return Da(()=>{let e=rA(n);return iA(e),e})}function ph(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function rA(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Gi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Dn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:H2(n.inputs,e),outputs:z2(n.outputs),debugInfo:null}}function iA(n){n.features?.forEach(e=>e(n))}function TT(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function q2(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function W2(n){return Object.getPrototypeOf(n.prototype).constructor}function $n(n){let e=W2(n.type),t=!0,r=[n];for(;e;){let i;if(Ir(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=_v(n.inputs),s.declaredInputs=_v(n.declaredInputs),s.outputs=_v(n.outputs);let a=i.hostBindings;a&&Y2(n,a);let l=i.viewQuery,u=i.contentQueries;if(l&&K2(n,l),u&&Q2(n,u),G2(n,i),dD(n.outputs,i.outputs),Ir(i)&&i.data.animation){let f=n.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===$n&&(t=!1)}}e=Object.getPrototypeOf(e)}J2(r)}function G2(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function J2(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=_l(i.hostAttrs,t=_l(t,i.hostAttrs))}}function _v(n){return n===Gi?{}:n===Dn?[]:n}function K2(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Q2(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Y2(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function oA(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=_l(n.mergedAttrs,n.attrs);let f=n.tView=o_(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),f.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),_a(n,!1);let l=X2(t,e,n,r);Ef()&&h_(t,e,l,n),Ia(l,e);let u=HS(l,e,l,n);e[r+Et]=u,a_(e,u),j2(u,n,e)}function Z2(n,e,t,r,i,o,s,a,l,u,f){let g=t+Et,v;return e.firstCreatePass?(v=uh(e,g,4,s||null,a||null),Zy()&&QS(e,n,v,Cr(e.consts,u),NS),VT(e,v)):v=e.data[g],oA(v,n,e,t,r,i,o,l),dl(v)&&m_(e,n,v),u!=null&&g_(n,v,f),v}function Wf(n,e,t,r,i,o,s,a,l,u,f){let g=t+Et,v;if(e.firstCreatePass){if(v=uh(e,g,4,s||null,a||null),u!=null){let E=Cr(e.consts,u);v.localNames=[];for(let M=0;M<E.length;M+=2)v.localNames.push(E[M],-1)}}else v=e.data[g];return oA(v,n,e,t,r,i,o,l),u!=null&&g_(n,v,f),v}function mh(n,e,t,r,i,o,s,a){let l=Ce(),u=Bt(),f=Cr(u.consts,o);return Z2(l,u,n,e,t,r,i,f,void 0,s,a),mh}var X2=eV;function eV(n,e,t,r){return wf(!0),e[rt].createComment("")}var w_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var I_=new Z("");function Xi(n){return!!n&&typeof n.then=="function"}function C_(n){return!!n&&typeof n.subscribe=="function"}var D_=new Z("");function gh(n){return yn([{provide:D_,multi:!0,useValue:n}])}var T_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=P(D_,{optional:!0})??[];injector=P(at);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=bt(this.injector,i);if(Xi(o))t.push(o);else if(C_(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xl=new Z("");function sA(){zg(()=>{let n="";throw new Q(600,n)})}function aA(n){return n.isBoundToModule}var tV=10;var fi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(cn);afterRenderManager=P(d_);zonelessEnabled=P(ml);rootEffectScheduler=P(hv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new vt;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P(Dr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(xe(t=>!t))}constructor(){P(ls,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=P(ht);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=at.NULL){return this._injector.get(ke).run(()=>{je(10);let s=t instanceof dh;if(!this._injector.get(T_).done){let M="";throw new Q(405,M)}let l;s?l=t:l=this._injector.get(Al).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let u=aA(l)?void 0:this._injector.get(ss),f=r||l.selector,g=l.create(i,[],f,u),v=g.location.nativeElement,E=g.injector.get(I_,null);return E?.registerApplication(v),g.onDestroy(()=>{this.detachView(g.hostView),vl(this.components,g),E?.unregisterApplication(v)}),this._loadComponent(g),je(11,g),g})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){je(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ih.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Q(101,!1);let t=fe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,fe(t),this.afterTick.next(),je(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(is,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<tV;)je(14),this.synchronizeOnce(),je(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!hl(i))continue;let o=r&&!this.zonelessEnabled?0:1;jS(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>hl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;vl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(xl,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>vl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Q(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ml(n,e,t,r){let i=Ce(),o=es();if(or(i,o,e)){let s=Bt(),a=bf();NL(a,i,n,e,t,r)}return Ml}var eZ=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var Bv=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function bv(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function nV(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let u=n.at(o),f=e[o],g=bv(o,u,o,f,t);if(g!==0){g<0&&n.updateValue(o,f),o++;continue}let v=n.at(s),E=e[l],M=bv(s,v,l,E,t);if(M!==0){M<0&&n.updateValue(s,E),s--,l--;continue}let F=t(o,u),O=t(s,v),q=t(o,f);if(Object.is(q,O)){let oe=t(l,E);Object.is(oe,F)?(n.swap(o,s),n.updateValue(s,E),l--,s--):n.move(s,o),n.updateValue(o,f),o++;continue}if(r??=new Gf,i??=AT(n,o,s,t),$v(n,r,o,q))n.updateValue(o,f),o++,s++;else if(i.has(q))r.set(F,n.detach(o)),s--;else{let oe=n.create(o,e[o]);n.attach(o,oe),o++,s++}}for(;o<=l;)ST(n,r,t,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),u=l.next();for(;!u.done&&o<=s;){let f=n.at(o),g=u.value,v=bv(o,f,o,g,t);if(v!==0)v<0&&n.updateValue(o,g),o++,u=l.next();else{r??=new Gf,i??=AT(n,o,s,t);let E=t(o,g);if($v(n,r,o,E))n.updateValue(o,g),o++,s++,u=l.next();else if(!i.has(E))n.attach(o,n.create(o,g)),o++,s++,u=l.next();else{let M=t(o,f);r.set(M,n.detach(o)),s--}}}for(;!u.done;)ST(n,r,t,n.length,u.value),u=l.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(l=>{n.destroy(l)})}function $v(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function ST(n,e,t,r,i){if($v(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function AT(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Gf=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function W(n,e,t,r,i,o,s,a){sr("NgControlFlow");let l=Ce(),u=Bt(),f=Cr(u.consts,o);return Wf(l,u,n,e,t,r,i,f,256,s,a),S_}function S_(n,e,t,r,i,o,s,a){sr("NgControlFlow");let l=Ce(),u=Bt(),f=Cr(u.consts,o);return Wf(l,u,n,e,t,r,i,f,512,s,a),S_}function G(n,e){sr("NgControlFlow");let t=Ce(),r=es(),i=t[r]!==xn?t[r]:-1,o=i!==-1?Jf(t,Et+i):void 0,s=0;if(or(t,r,n)){let a=fe(null);try{if(o!==void 0&&qS(o,s),n!==-1){let l=Et+n,u=Jf(t,l),f=Wv(t[ue],l),g=GS(u,f,t),v=ah(t,f,e,{dehydratedView:g});ch(u,v,s,bl(f,g))}}finally{fe(a)}}else if(o!==void 0){let a=zS(o,s);a!==void 0&&(a[pt]=e)}}var Hv=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-mt}};function hi(n){return n}function Rl(n,e){return e}var zv=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function qe(n,e,t,r,i,o,s,a,l,u,f,g,v){sr("NgControlFlow");let E=Ce(),M=Bt(),F=l!==void 0,O=Ce(),q=a?s.bind(O[Tn][pt]):s,oe=new zv(F,q);O[Et+n]=oe,Wf(E,M,n+1,e,t,r,i,Cr(M.consts,o),256),F&&Wf(E,M,n+2,l,u,f,g,Cr(M.consts,v),512)}var qv=class extends Bv{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-mt}at(e){return this.getLView(e)[pt].$implicit}attach(e,t){let r=t[pa];this.needsIndexUpdate||=e!==this.length,ch(this.lContainer,t,e,bl(this.templateTNode,r)),rV(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,iV(this.lContainer,e),oV(this.lContainer,e)}create(e,t){let r=Lv(this.lContainer,this.templateTNode.tView.ssrId),i=ah(this.hostLView,this.templateTNode,new Hv(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){oh(e[ue],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[pt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[pt].$index=e}getLView(e){return sV(this.lContainer,e)}};function We(n){let e=fe(null),t=li();try{let r=Ce(),i=r[ue],o=r[t],s=t+1,a=Jf(r,s);if(o.liveCollection===void 0){let u=Wv(i,s);o.liveCollection=new qv(a,r,u)}else o.liveCollection.reset();let l=o.liveCollection;if(nV(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let u=es(),f=l.length===0;if(or(r,u,f)){let g=t+2,v=Jf(r,g);if(f){let E=Wv(i,g),M=GS(v,E,r),F=ah(r,E,void 0,{dehydratedView:M});ch(v,F,0,bl(E,M))}else i.firstUpdatePass&&s2(v),qS(v,0)}}}finally{fe(e)}}function Jf(n,e){return n[e]}function rV(n,e){if(n.length<=mt)return;let t=mt+e,r=n[t],i=r?r[Zo]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[ci];cL(o,i),rs.delete(r),i.detachedLeaveAnimationFns=void 0}}function iV(n,e){if(n.length<=mt)return;let t=mt+e,r=n[t],i=r?r[Zo]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function oV(n,e){return wl(n,e)}function sV(n,e){return zS(n,e)}function Wv(n,e){return fl(n,e)}function J(n,e,t){let r=Ce(),i=es();if(or(r,i,e)){let o=Bt(),s=bf();PS(s,r,n,e,r[rt],t)}return J}function xT(n,e,t,r,i){y_(e,n,t,i?"class":"style",r)}function p(n,e,t,r){let i=Ce(),o=i[ue],s=n+Et,a=o.firstCreatePass?ZS(s,i,2,e,NS,Zy(),t,r):o.data[s];if(FL(a,i,n,e,aV),dl(a)){let l=i[ue];m_(l,i,a),cS(l,a,i)}return r!=null&&g_(i,a),p}function m(){let n=Bt(),e=Kt(),t=LL(e);return n.firstCreatePass&&XS(n,t),VD(t)&&jD(),FD(),t.classesWithoutHost!=null&&cF(t)&&xT(n,t,Ce(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&lF(t)&&xT(n,t,Ce(),t.stylesWithoutHost,!1),m}function ne(n,e,t,r){return p(n,e,t,r),m(),ne}var aV=(n,e,t,r,i)=>(wf(!0),mS(e[rt],r,ZD()));function se(){return Ce()}var Tf=void 0;function cV(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var lV=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Tf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Tf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Tf,"{1} 'at' {0}",Tf],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",cV],Ev={};function Mn(n){let e=uV(n),t=MT(e);if(t)return t;let r=e.split("-")[0];if(t=MT(r),t)return t;if(r==="en")return lV;throw new Q(701,!1)}function MT(n){return n in Ev||(Ev[n]=oi.ng&&oi.ng.common&&oi.ng.common.locales&&oi.ng.common.locales[n]),Ev[n]}var yt=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(yt||{});function uV(n){return n.toLowerCase().replace(/_/g,"-")}var Pl="en-US";var dV=Pl;function cA(n){typeof n=="string"&&(dV=n.toLowerCase().replace(/_/g,"-"))}function B(n,e,t){let r=Ce(),i=Bt(),o=Kt();return lA(i,r,r[rt],o,n,e,t),B}function lA(n,e,t,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=yv(r,e,o),w2(r,n,e,s,t,i,o,l)&&(a=!1)),a){let u=r.outputs?.[i],f=r.hostDirectiveOutputs?.[i];if(f&&f.length)for(let g=0;g<f.length;g+=2){let v=f[g],E=f[g+1];l??=yv(r,e,o),IT(r,e,v,E,i,l)}if(u&&u.length)for(let g of u)l??=yv(r,e,o),IT(r,e,g,i,i,l)}}function x(n=1){return YD(n)}function Sf(n,e){return n<<17|e<<2}function as(n){return n>>17&32767}function fV(n){return(n&2)==2}function hV(n,e){return n&131071|e<<17}function Gv(n){return n|2}function Ca(n){return(n&131068)>>2}function wv(n,e){return n&-131069|e<<2}function pV(n){return(n&1)===1}function Jv(n){return n|1}function mV(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=as(s),l=Ca(s);n[r]=t;let u=!1,f;if(Array.isArray(t)){let g=t;f=g[1],(f===null||ha(g,f)>0)&&(u=!0)}else f=t;if(i)if(l!==0){let v=as(n[a+1]);n[r+1]=Sf(v,a),v!==0&&(n[v+1]=wv(n[v+1],r)),n[a+1]=hV(n[a+1],r)}else n[r+1]=Sf(a,0),a!==0&&(n[a+1]=wv(n[a+1],r)),a=r;else n[r+1]=Sf(l,0),a===0?a=r:n[l+1]=wv(n[l+1],r),l=r;u&&(n[r+1]=Gv(n[r+1])),RT(n,f,r,!0),RT(n,f,r,!1),gV(e,f,n,r,o),s=Sf(a,l),o?e.classBindings=s:e.styleBindings=s}function gV(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&ha(o,e)>=0&&(t[r+1]=Jv(t[r+1]))}function RT(n,e,t,r){let i=n[t+1],o=e===null,s=r?as(i):Ca(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];yV(l,e)&&(a=!0,n[s+1]=r?Jv(u):Gv(u)),s=r?as(u):Ca(u)}a&&(n[t+1]=r?Gv(i):Jv(i))}function yV(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ha(n,e)>=0:!1}function It(n,e){return vV(n,e,null,!0),It}function vV(n,e,t,r){let i=Ce(),o=Bt(),s=rv(2);if(o.firstUpdatePass&&bV(o,n,s,r),e!==xn&&or(i,s,e)){let a=o.data[li()];DV(o,a,i,i[rt],n,i[s+1]=TV(e,t),r,s)}}function _V(n,e){return e>=n.expandoStartIndex}function bV(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[li()],s=_V(n,t);SV(o,r)&&e===null&&!s&&(e=!1),e=EV(i,o,e,r),mV(i,o,e,t,s,r)}}function EV(n,e,t,r){let i=GD(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Iv(null,n,e,t,r),t=Cl(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Iv(i,n,e,t,r),o===null){let l=wV(n,e,r);l!==void 0&&Array.isArray(l)&&(l=Iv(null,n,e,l[1],r),l=Cl(l,e.attrs,r),IV(n,e,r,l))}else o=CV(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function wV(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ca(r)!==0)return n[as(r)]}function IV(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[as(i)]=r}function CV(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Cl(r,s,t)}return Cl(r,e.attrs,t)}function Iv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Cl(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Cl(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),vD(n,s,t?!0:e[++o]))}return n===void 0?null:n}function DV(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],f=pV(u)?PT(l,e,t,i,Ca(u),s):void 0;if(!Kf(f)){Kf(o)||fV(u)&&(o=PT(l,null,t,i,a,s));let g=Wy(li(),t);IL(r,s,g,i,o)}}function PT(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],u=Array.isArray(l),f=u?l[1]:l,g=f===null,v=t[i+1];v===xn&&(v=g?Dn:void 0);let E=g?hf(v,r):f===r?v:void 0;if(u&&!Kf(E)&&(E=hf(l,r)),Kf(E)&&(a=E,s))return a;let M=n[i+1];i=s?as(M):Ca(M)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=hf(l,r))}return a}function Kf(n){return n!==void 0}function TV(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ri(Tl(n)))),n}function SV(n,e){return(n.flags&(e?8:16))!==0}function y(n,e=""){let t=Ce(),r=Bt(),i=n+Et,o=r.firstCreatePass?uh(r,i,1,e,null):r.data[i],s=AV(r,t,o,e,n);t[i]=s,Ef()&&h_(r,t,s,o),_a(o,!1)}var AV=(n,e,t,r,i)=>(wf(!0),WF(e[rt],r));function xV(n,e,t,r=""){return or(n,es(),t)?e+Wo(t)+r:xn}function MV(n,e,t,r,i,o=""){let s=$D(),a=E_(n,s,t,i);return rv(2),a?e+Wo(t)+r+Wo(i)+o:xn}function H(n){return Ie("",n),H}function Ie(n,e,t){let r=Ce(),i=xV(r,n,e,t);return i!==xn&&uA(r,li(),i),Ie}function vn(n,e,t,r,i){let o=Ce(),s=MV(o,n,e,t,r,i);return s!==xn&&uA(o,li(),s),vn}function uA(n,e,t){let r=Wy(e,n);GF(n[rt],r,t)}function _e(n,e,t){uv(e)&&(e=e());let r=Ce(),i=es();if(or(r,i,e)){let o=Bt(),s=bf();PS(s,r,n,e,r[rt],t)}return _e}function Ee(n,e){let t=uv(n);return t&&n.set(e),t}function be(n,e){let t=Ce(),r=Bt(),i=Kt();return lA(r,t,t[rt],i,n,e),be}function RV(n,e,t){let r=Bt();if(r.firstCreatePass){let i=Ir(n);Kv(t,r.data,r.blueprint,i,!0),Kv(e,r.data,r.blueprint,i,!1)}}function Kv(n,e,t,r,i){if(n=Ut(n),Array.isArray(n))for(let o=0;o<n.length;o++)Kv(n[o],e,t,r,i);else{let o=Bt(),s=Ce(),a=Kt(),l=Ho(n)?n:Ut(n.provide),u=By(n),f=a.providerIndexes&1048575,g=a.directiveStart,v=a.providerIndexes>>20;if(Ho(n)||!n.multi){let E=new ns(u,i,ve,null),M=Dv(l,e,i?f:f+v,g);M===-1?(Sv(Of(a,s),o,l),Cv(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(E),s.push(E)):(t[M]=E,s[M]=E)}else{let E=Dv(l,e,f+v,g),M=Dv(l,e,f,f+v),F=E>=0&&t[E],O=M>=0&&t[M];if(i&&!O||!i&&!F){Sv(Of(a,s),o,l);let q=kV(i?NV:PV,t.length,i,r,u,n);!i&&O&&(t[M].providerFactory=q),Cv(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(q),s.push(q)}else{let q=dA(t[i?M:E],u,!i&&r);Cv(o,n,E>-1?E:M,q)}!i&&r&&O&&t[M].componentProviders++}}}function Cv(n,e,t,r){let i=Ho(e),o=CD(e);if(i||o){let l=(o?Ut(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let f=u.indexOf(t);f===-1?u.push(t,[r,l]):u[f+1].push(r,l)}else u.push(t,l)}}}function dA(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Dv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function PV(n,e,t,r,i){return Qv(this.multi,[])}function NV(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Ff(r,r[ue],this.providerFactory.index,i);s=l.slice(0,a),Qv(o,s);for(let u=a;u<l.length;u++)s.push(l[u])}else s=[],Qv(o,s);return s}function Qv(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function kV(n,e,t,r,i,o){let s=new ns(n,t,ve,null);return s.multi=[],s.index=e,s.componentProviders=0,dA(s,i,r&&!t),s}function eo(n,e=[]){return t=>{t.providersResolver=(r,i)=>RV(r,i?i(n):n,e)}}function Nl(n,e,t){let r=pl()+n,i=Ce();return i[r]===xn?fh(i,r,t?e.call(t):e()):b2(i,r)}function yh(n,e,t,r,i,o){return LV(Ce(),pl(),n,e,t,r,i,o)}function A_(n,e){let t=n[e];return t===xn?void 0:t}function OV(n,e,t,r,i,o){let s=e+t;return or(n,s,i)?fh(n,s+1,o?r.call(o,i):r(i)):A_(n,s+1)}function FV(n,e,t,r,i,o,s){let a=e+t;return E_(n,a,i,o)?fh(n,a+2,s?r.call(s,i,o):r(i,o)):A_(n,a+2)}function LV(n,e,t,r,i,o,s,a){let l=e+t;return E2(n,l,i,o,s)?fh(n,l+3,a?r.call(a,i,o,s):r(i,o,s)):A_(n,l+3)}function Hn(n,e){let t=Bt(),r,i=n+Et;t.firstCreatePass?(r=VV(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=zi(r.type,!0)),s,a=an(ve);try{let l=kf(!1),u=o();return kf(l),Jy(t,Ce(),i,u),u}finally{an(a)}}function VV(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function Aa(n,e,t){let r=n+Et,i=Ce(),o=Gy(i,r);return fA(i,r)?OV(i,pl(),e,o.transform,t,o):o.transform(t)}function to(n,e,t,r){let i=n+Et,o=Ce(),s=Gy(o,i);return fA(o,i)?FV(o,pl(),e,s.transform,t,r,s):s.transform(t,r)}function fA(n,e){return n[ue].data[e].pure}var Qf=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},x_=(()=>{class n{compileModuleSync(t){return new qf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Ly(t),o=hS(i.declarations).reduce((s,a)=>{let l=ai(a);return l&&s.push(new os(l)),s},[]);return new Qf(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var jV=(()=>{class n{zone=P(ke);changeDetectionScheduler=P(ii);applicationRef=P(fi);applicationErrorHandler=P(cn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hA=new Z("",{factory:()=>!1});function M_({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ke(te(V({},P_()),{scheduleInRootZone:t})),[{provide:ke,useFactory:n},{provide:si,multi:!0,useFactory:()=>{let r=P(jV,{optional:!0});return()=>r.initialize()}},{provide:si,multi:!0,useFactory:()=>{let r=P(UV);return()=>{r.initialize()}}},e===!0?{provide:dv,useValue:!0}:[],{provide:fv,useValue:t??wS},{provide:cn,useFactory:()=>{let r=P(ke),i=P(ht),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Zn),o.handleError(s))})}}}]}function R_(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=M_({ngZoneFactory:()=>{let i=P_(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&sr("NgZone_CoalesceEvent"),new ke(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return yn([{provide:hA,useValue:!0},{provide:ml,useValue:!1},r])}function P_(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var UV=(()=>{class n{subscription=new st;initialized=!1;zone=P(ke);pendingTasks=P(Dr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ke.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pA=(()=>{class n{applicationErrorHandler=P(cn);appRef=P(fi);taskService=P(Dr);ngZone=P(ke);zonelessEnabled=P(ml);tracing=P(ls,{optional:!0});disableScheduling=P(dv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new st;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(jf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(fv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Uf||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?fT:IS;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(jf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,fT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function BV(){return typeof $localize<"u"&&$localize.locale||Pl}var kl=new Z("",{providedIn:"root",factory:()=>P(kl,{optional:!0,skipSelf:!0})||BV()});function Pt(n){return cD(n)}function _n(n,e){return Nd(n,e?.equal)}var mA=class{[Jt];constructor(e){this[Jt]=e}destroy(){this[Jt].destroy()}};var vA=Symbol("InputSignalNode#UNSET"),nj=te(V({},kd),{transformFn:void 0,applyValueToInputSignal(n,e){Ys(n,e)}});function _A(n,e){let t=Object.create(nj);t.value=n,t.transformFn=e?.transform;function r(){if(Js(t),t.value===vA){let i=null;throw new Q(-950,i)}return t.value}return r[Jt]=t,r}var _h=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Dl(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},rj=new Z("");rj.__NG_ELEMENT_ID__=n=>{let e=Kt();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new Q(204,!1)};function gA(n,e){return _A(n,e)}function ij(n){return _A(vA,n)}var bA=(gA.required=ij,gA);var N_=new Z(""),oj=new Z("");function Ol(n){return!n.moduleRef}function sj(n){let e=Ol(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ke);return t.run(()=>{Ol(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(cn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Ol(n)){let o=()=>e.destroy(),s=n.platformInjector.get(N_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(N_);s.add(o),n.moduleRef.onDestroy(()=>{vl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return cj(r,t,()=>{let o=e.get(Dr),s=o.add(),a=e.get(T_);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get(kl,Pl);if(cA(l||Pl),!e.get(oj,!0))return Ol(n)?e.get(fi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Ol(n)){let f=e.get(fi);return n.rootComponent!==void 0&&f.bootstrap(n.rootComponent),f}else return aj?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var aj;function cj(n,e,t){try{let r=t();return Xi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var vh=null;function lj(n=[],e){return at.create({name:e,providers:[{provide:ol,useValue:"platform"},{provide:N_,useValue:new Set([()=>vh=null])},...n]})}function uj(n=[]){if(vh)return vh;let e=lj(n);return vh=e,sA(),dj(e),e}function dj(n){let e=n.get(Xf,null);bt(n,()=>{e?.forEach(t=>t())})}function k_(){return!1}var no=(()=>{class n{static __NG_ELEMENT_ID__=fj}return n})();function fj(n){return hj(Kt(),Ce(),(n&16)===16)}function hj(n,e,t){if(Ki(n)&&!t){let r=jn(n.index,e);return new Yi(r,r)}else if(n.type&175){let r=e[Tn];return new Yi(r,e)}return null}function EA(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;je(8);try{let o=i?.injector??uj(r),s=[M_({}),{provide:ii,useExisting:pA},eT,...t||[]],a=new Il({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return sj({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{je(9)}}function us(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function wA(n){let e=ai(n);if(!e)return null;let t=new os(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var DA=null;function zn(){return DA}function O_(n){DA??=n}var Fl=class{},Ll=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>P(TA),providedIn:"platform"})}return n})(),F_=new Z(""),TA=(()=>{class n extends Ll{_location;_history;_doc=P(gt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zn().getBaseHref(this._doc)}onPopState(t){let r=zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function bh(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function IA(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function lr(n){return n&&n[0]!=="?"?`?${n}`:n}var ur=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>P(wh),providedIn:"root"})}return n})(),Eh=new Z(""),wh=(()=>{class n extends ur{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(gt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bh(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+lr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+lr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+lr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(le(Ll),le(Eh,8))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ro=(()=>{class n{_subject=new vt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=gj(IA(CA(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+lr(r))}normalize(t){return n.stripTrailingSlash(mj(this._basePath,CA(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+lr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=lr;static joinWithSlash=bh;static stripTrailingSlash=IA;static \u0275fac=function(r){return new(r||n)(le(ur))};static \u0275prov=X({token:n,factory:()=>pj(),providedIn:"root"})}return n})();function pj(){return new ro(le(ur))}function mj(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function CA(n){return n.replace(/\/index.html$/,"")}function gj(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var B_=(()=>{class n extends ur{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=bh(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+lr(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+lr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(le(Ll),le(Eh,8))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})();var Qt=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(Qt||{}),Ue=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Ue||{}),bn=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(bn||{}),mi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function MA(n){return Mn(n)[yt.LocaleId]}function RA(n,e,t){let r=Mn(n),i=[r[yt.DayPeriodsFormat],r[yt.DayPeriodsStandalone]],o=qn(i,e);return qn(o,t)}function PA(n,e,t){let r=Mn(n),i=[r[yt.DaysFormat],r[yt.DaysStandalone]],o=qn(i,e);return qn(o,t)}function NA(n,e,t){let r=Mn(n),i=[r[yt.MonthsFormat],r[yt.MonthsStandalone]],o=qn(i,e);return qn(o,t)}function kA(n,e){let r=Mn(n)[yt.Eras];return qn(r,e)}function Vl(n,e){let t=Mn(n);return qn(t[yt.DateFormat],e)}function jl(n,e){let t=Mn(n);return qn(t[yt.TimeFormat],e)}function Ul(n,e){let r=Mn(n)[yt.DateTimeFormat];return qn(r,e)}function Bl(n,e){let t=Mn(n),r=t[yt.NumberSymbols][e];if(typeof r>"u"){if(e===mi.CurrencyDecimal)return t[yt.NumberSymbols][mi.Decimal];if(e===mi.CurrencyGroup)return t[yt.NumberSymbols][mi.Group]}return r}function OA(n){if(!n[yt.ExtraData])throw new Q(2303,!1)}function FA(n){let e=Mn(n);return OA(e),(e[yt.ExtraData][2]||[]).map(r=>typeof r=="string"?L_(r):[L_(r[0]),L_(r[1])])}function LA(n,e,t){let r=Mn(n);OA(r);let i=[r[yt.ExtraData][0],r[yt.ExtraData][1]],o=qn(i,e)||[];return qn(o,t)||[]}function qn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Q(2304,!1)}function L_(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var yj=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ih={},vj=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function VA(n,e,t,r){let i=Sj(n);e=pi(t,e)||e;let s=[],a;for(;e;)if(a=vj.exec(e),a){s=s.concat(a.slice(1));let f=s.pop();if(!f)break;e=f}else{s.push(e);break}let l=i.getTimezoneOffset();r&&(l=UA(r,l),i=Tj(i,r));let u="";return s.forEach(f=>{let g=Cj(f);u+=g?g(i,t,l):f==="''"?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Ah(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function pi(n,e){let t=MA(n);if(Ih[t]??={},Ih[t][e])return Ih[t][e];let r="";switch(e){case"shortDate":r=Vl(n,bn.Short);break;case"mediumDate":r=Vl(n,bn.Medium);break;case"longDate":r=Vl(n,bn.Long);break;case"fullDate":r=Vl(n,bn.Full);break;case"shortTime":r=jl(n,bn.Short);break;case"mediumTime":r=jl(n,bn.Medium);break;case"longTime":r=jl(n,bn.Long);break;case"fullTime":r=jl(n,bn.Full);break;case"short":let i=pi(n,"shortTime"),o=pi(n,"shortDate");r=Ch(Ul(n,bn.Short),[i,o]);break;case"medium":let s=pi(n,"mediumTime"),a=pi(n,"mediumDate");r=Ch(Ul(n,bn.Medium),[s,a]);break;case"long":let l=pi(n,"longTime"),u=pi(n,"longDate");r=Ch(Ul(n,bn.Long),[l,u]);break;case"full":let f=pi(n,"fullTime"),g=pi(n,"fullDate");r=Ch(Ul(n,bn.Full),[f,g]);break}return r&&(Ih[t][e]=r),r}function Ch(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function dr(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function _j(n,e){return dr(n,3).substring(0,e)}function Ct(n,e,t=0,r=!1,i=!1){return function(o,s){let a=bj(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return _j(a,e);let l=Bl(s,mi.MinusSign);return dr(a,e,l,r,i)}}function bj(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Q(2301,!1)}}function Ge(n,e,t=Qt.Format,r=!1){return function(i,o){return Ej(i,o,n,e,t,r)}}function Ej(n,e,t,r,i,o){switch(t){case 2:return NA(e,i,r)[n.getMonth()];case 1:return PA(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=FA(e),f=LA(e,i,r),g=u.findIndex(v=>{if(Array.isArray(v)){let[E,M]=v,F=s>=E.hours&&a>=E.minutes,O=s<M.hours||s===M.hours&&a<M.minutes;if(E.hours<M.hours){if(F&&O)return!0}else if(F||O)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(g!==-1)return f[g]}return RA(e,i,r)[s<12?0:1];case 3:return kA(e,r)[n.getFullYear()<=0?0:1];default:let l=t;throw new Q(2302,!1)}}function Dh(n){return function(e,t,r){let i=-1*r,o=Bl(t,mi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+dr(s,2,o)+dr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+dr(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+dr(s,2,o)+":"+dr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+dr(s,2,o)+":"+dr(Math.abs(i%60),2,o);default:throw new Q(2310,!1)}}}var wj=0,Sh=4;function Ij(n){let e=Ah(n,wj,1).getDay();return Ah(n,0,1+(e<=Sh?Sh:Sh+7)-e)}function jA(n){let e=n.getDay(),t=e===0?-3:Sh-e;return Ah(n.getFullYear(),n.getMonth(),n.getDate()+t)}function V_(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=jA(t),s=Ij(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return dr(i,n,Bl(r,mi.MinusSign))}}function Th(n,e=!1){return function(t,r){let o=jA(t).getFullYear();return dr(o,n,Bl(r,mi.MinusSign),e)}}var j_={};function Cj(n){if(j_[n])return j_[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ge(3,Ue.Abbreviated);break;case"GGGG":e=Ge(3,Ue.Wide);break;case"GGGGG":e=Ge(3,Ue.Narrow);break;case"y":e=Ct(0,1,0,!1,!0);break;case"yy":e=Ct(0,2,0,!0,!0);break;case"yyy":e=Ct(0,3,0,!1,!0);break;case"yyyy":e=Ct(0,4,0,!1,!0);break;case"Y":e=Th(1);break;case"YY":e=Th(2,!0);break;case"YYY":e=Th(3);break;case"YYYY":e=Th(4);break;case"M":case"L":e=Ct(1,1,1);break;case"MM":case"LL":e=Ct(1,2,1);break;case"MMM":e=Ge(2,Ue.Abbreviated);break;case"MMMM":e=Ge(2,Ue.Wide);break;case"MMMMM":e=Ge(2,Ue.Narrow);break;case"LLL":e=Ge(2,Ue.Abbreviated,Qt.Standalone);break;case"LLLL":e=Ge(2,Ue.Wide,Qt.Standalone);break;case"LLLLL":e=Ge(2,Ue.Narrow,Qt.Standalone);break;case"w":e=V_(1);break;case"ww":e=V_(2);break;case"W":e=V_(1,!0);break;case"d":e=Ct(2,1);break;case"dd":e=Ct(2,2);break;case"c":case"cc":e=Ct(7,1);break;case"ccc":e=Ge(1,Ue.Abbreviated,Qt.Standalone);break;case"cccc":e=Ge(1,Ue.Wide,Qt.Standalone);break;case"ccccc":e=Ge(1,Ue.Narrow,Qt.Standalone);break;case"cccccc":e=Ge(1,Ue.Short,Qt.Standalone);break;case"E":case"EE":case"EEE":e=Ge(1,Ue.Abbreviated);break;case"EEEE":e=Ge(1,Ue.Wide);break;case"EEEEE":e=Ge(1,Ue.Narrow);break;case"EEEEEE":e=Ge(1,Ue.Short);break;case"a":case"aa":case"aaa":e=Ge(0,Ue.Abbreviated);break;case"aaaa":e=Ge(0,Ue.Wide);break;case"aaaaa":e=Ge(0,Ue.Narrow);break;case"b":case"bb":case"bbb":e=Ge(0,Ue.Abbreviated,Qt.Standalone,!0);break;case"bbbb":e=Ge(0,Ue.Wide,Qt.Standalone,!0);break;case"bbbbb":e=Ge(0,Ue.Narrow,Qt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ge(0,Ue.Abbreviated,Qt.Format,!0);break;case"BBBB":e=Ge(0,Ue.Wide,Qt.Format,!0);break;case"BBBBB":e=Ge(0,Ue.Narrow,Qt.Format,!0);break;case"h":e=Ct(3,1,-12);break;case"hh":e=Ct(3,2,-12);break;case"H":e=Ct(3,1);break;case"HH":e=Ct(3,2);break;case"m":e=Ct(4,1);break;case"mm":e=Ct(4,2);break;case"s":e=Ct(5,1);break;case"ss":e=Ct(5,2);break;case"S":e=Ct(6,1);break;case"SS":e=Ct(6,2);break;case"SSS":e=Ct(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Dh(0);break;case"ZZZZZ":e=Dh(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Dh(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Dh(2);break;default:return null}return j_[n]=e,e}function UA(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Dj(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function Tj(n,e,t){let i=n.getTimezoneOffset(),o=UA(e,i);return Dj(n,-1*(o-i))}function Sj(n){if(SA(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return Ah(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(yj))return Aj(r)}let e=new Date(n);if(!SA(e))throw new Q(2311,!1);return e}function Aj(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,l,u),e}function SA(n){return n instanceof Date&&!isNaN(n.valueOf())}var U_=/\s+/,AA=[],gi=(()=>{class n{_ngEl;_renderer;initialClasses=AA;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(U_):AA}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(U_):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(U_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(ve(Bn),ve(ar))};static \u0275dir=ct({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var $_=(()=>{class n{_viewContainer;_context=new xh;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){xA(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){xA(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(ve(Ta),ve(lh))};static \u0275dir=ct({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),xh=class{$implicit=null;ngIf=null};function xA(n,e){if(n&&!n.createEmbeddedView)throw new Q(2020,!1)}function BA(n,e){return new Q(2100,!1)}var xj=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,$l=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw BA(n,t);return t.replace(xj,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=ph({name:"titlecase",type:n,pure:!0})}return n})();var Mj="mediumDate",$A=new Z(""),HA=new Z(""),Hl=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??Mj,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return VA(t,s,o||this.locale,a)}catch(s){throw BA(n,s.message)}}static \u0275fac=function(r){return new(r||n)(ve(kl,16),ve($A,24),ve(HA,24))};static \u0275pipe=ph({name:"date",type:n,pure:!0})}return n})();var lt=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ar({type:n});static \u0275inj=er({})}return n})();function H_(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var zl=class{};var zA="browser";var qA=(()=>{class n{static \u0275prov=X({token:n,providedIn:"root",factory:()=>new z_(P(gt),window)})}return n})(),z_=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(te(V({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=Pj(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Wi(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(te(V({},t),{left:i-s[0],top:o-s[1]}))}};function Pj(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Wl=class{_doc;constructor(e){this._doc=e}manager},Mh=(()=>{class n extends Wl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(le(gt))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),Ph=new Z(""),K_=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Mh));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Mh);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(le(Ph),le(ke))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),q_="ng-app-id";function WA(n){for(let e of n)e.remove()}function GA(n,e){let t=e.createElement("style");return t.textContent=n,t}function Nj(n,e,t,r){let i=n.head?.querySelectorAll(`style[${q_}="${e}"],link[${q_}="${e}"]`);if(i)for(let o of i)o.removeAttribute(q_),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function G_(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Q_=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,Nj(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,GA);r?.forEach(i=>this.addUsage(i,this.external,G_))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(WA(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])WA(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,GA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,G_(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(le(gt),le(Zf),le(eh,8),le(cs))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),W_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Y_=/%COMP%/g;var KA="%COMP%",kj=`_nghost-${KA}`,Oj=`_ngcontent-${KA}`,Fj=!0,Lj=new Z("",{providedIn:"root",factory:()=>Fj});function Vj(n){return Oj.replace(Y_,n)}function jj(n){return kj.replace(Y_,n)}function QA(n,e){return e.map(t=>t.replace(Y_,n))}var Z_=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new Gl(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Rh?i.applyToHost(t):i instanceof Jl&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,g=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case ui.Emulated:o=new Rh(l,u,r,this.appId,f,s,a,g,v);break;case ui.ShadowDom:return new J_(l,u,t,r,s,a,this.nonce,g,v);default:o=new Jl(l,u,r,f,s,a,g,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(le(K_),le(Q_),le(Zf),le(Lj),le(gt),le(ke),le(eh),le(ls,8))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),Gl=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(W_[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(JA(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(JA(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=W_[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=W_[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Sr.DashCase|Sr.Important)?e.style.setProperty(t,r,i&Sr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Sr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=zn().getGlobalEventTarget(this.doc,e),!e))throw new Q(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function JA(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var J_=class extends Gl{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,u){super(e,o,s,l,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let f=i.styles;f=QA(i.id,f);for(let v of f){let E=document.createElement("style");a&&E.setAttribute("nonce",a),E.textContent=v,this.shadowRoot.appendChild(E)}let g=i.getExternalStyles?.();if(g)for(let v of g){let E=G_(v,o);a&&E.setAttribute("nonce",a),this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Jl=class extends Gl{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,u){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let f=r.styles;this.styles=u?QA(u,f):f,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&rs.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Rh=class extends Jl{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,u){let f=i+"-"+r.id;super(e,t,r,o,s,a,l,u,f),this.contentAttr=Vj(f),this.hostAttr=jj(f)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Nh=class n extends Fl{supportsDOMEvents=!0;static makeCurrent(){O_(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Uj();return t==null?null:Bj(t)}resetBaseElement(){Kl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return H_(document.cookie,e)}},Kl=null;function Uj(){return Kl=Kl||document.head.querySelector("base"),Kl?Kl.getAttribute("href"):null}function Bj(n){return new URL(n,document.baseURI).pathname}var $j=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),YA=["alt","control","meta","shift"],Hj={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zj={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},ZA=(()=>{class n extends Wl{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),YA.forEach(u=>{let f=r.indexOf(u);f>-1&&(r.splice(f,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=Hj[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),YA.forEach(s=>{if(s!==i){let a=zj[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(le(gt))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})();function X_(n,e,t){let r=V({rootComponent:n,platformRef:t?.platformRef},qj(e));return EA(r)}function qj(n){return{appProviders:[...Qj,...n?.providers??[]],platformProviders:Kj}}function Wj(){Nh.makeCurrent()}function Gj(){return new Zn}function Jj(){return Xv(document),document}var Kj=[{provide:cs,useValue:zA},{provide:Xf,useValue:Wj,multi:!0},{provide:gt,useFactory:Jj}];var Qj=[{provide:ol,useValue:"root"},{provide:Zn,useFactory:Gj},{provide:Ph,useClass:Mh,multi:!0,deps:[gt]},{provide:Ph,useClass:ZA,multi:!0,deps:[gt]},Z_,Q_,K_,{provide:is,useExisting:Z_},{provide:zl,useClass:$j},[]];var XA=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(le(gt))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pe="primary",cu=Symbol("RouteTitle"),i0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function hs(n){return new i0(n)}function ax(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Zj(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!xr(n[t],e[t]))return!1;return!0}function xr(n,e){let t=n?o0(n):void 0,r=e?o0(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!cx(n[i],e[i]))return!1;return!0}function o0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function cx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function lx(n){return n.length>0?n[n.length-1]:null}function yi(n){return sy(n)?n:Xi(n)?Qe(Promise.resolve(n)):ce(n)}var Xj={exact:dx,subset:fx},ux={exact:eU,subset:tU,ignored:()=>!0};function ex(n,e,t){return Xj[t.paths](n.root,e.root,t.matrixParams)&&ux[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function eU(n,e){return xr(n,e)}function dx(n,e,t){if(!ds(n.segments,e.segments)||!Fh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!dx(n.children[r],e.children[r],t))return!1;return!0}function tU(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>cx(n[t],e[t]))}function fx(n,e,t){return hx(n,e,e.segments,t)}function hx(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ds(i,t)||e.hasChildren()||!Fh(i,t,r))}else if(n.segments.length===t.length){if(!ds(n.segments,t)||!Fh(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!fx(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ds(n.segments,i)||!Fh(n.segments,i,r)||!n.children[pe]?!1:hx(n.children[pe],e,o,r)}}function Fh(n,e,t){return e.every((r,i)=>ux[t](n[i].parameters,r.parameters))}var Rr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Oe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=hs(this.queryParams),this._queryParamMap}toString(){return iU.serialize(this)}},Oe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lh(this)}},io=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=hs(this.parameters),this._parameterMap}toString(){return mx(this)}};function nU(n,e){return ds(n,e)&&n.every((t,r)=>xr(t.parameters,e[r].parameters))}function ds(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function rU(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===pe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==pe&&(t=t.concat(e(i,r)))}),t}var ps=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>new oo,providedIn:"root"})}return n})(),oo=class{parse(e){let t=new a0(e);return new Rr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ql(e.root,!0)}`,r=aU(e.queryParams),i=typeof e.fragment=="string"?`#${oU(e.fragment)}`:"";return`${t}${r}${i}`}},iU=new oo;function Lh(n){return n.segments.map(e=>mx(e)).join("/")}function Ql(n,e){if(!n.hasChildren())return Lh(n);if(e){let t=n.children[pe]?Ql(n.children[pe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==pe&&r.push(`${i}:${Ql(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=rU(n,(r,i)=>i===pe?[Ql(n.children[pe],!1)]:[`${i}:${Ql(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[pe]!=null?`${Lh(n)}/${t[0]}`:`${Lh(n)}/(${t.join("//")})`}}function px(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kh(n){return px(n).replace(/%3B/gi,";")}function oU(n){return encodeURI(n)}function s0(n){return px(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vh(n){return decodeURIComponent(n)}function tx(n){return Vh(n.replace(/\+/g,"%20"))}function mx(n){return`${s0(n.path)}${sU(n.parameters)}`}function sU(n){return Object.entries(n).map(([e,t])=>`;${s0(e)}=${s0(t)}`).join("")}function aU(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${kh(t)}=${kh(i)}`).join("&"):`${kh(t)}=${kh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var cU=/^[^\/()?;#]+/;function e0(n){let e=n.match(cU);return e?e[0]:""}var lU=/^[^\/()?;=#]+/;function uU(n){let e=n.match(lU);return e?e[0]:""}var dU=/^[^=?&#]+/;function fU(n){let e=n.match(dU);return e?e[0]:""}var hU=/^[^&#]+/;function pU(n){let e=n.match(hU);return e?e[0]:""}var a0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pe]=new Oe(e,t)),r}parseSegment(){let e=e0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new io(Vh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=uU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=e0(this.remaining);i&&(r=i,this.capture(r))}e[Vh(t)]=Vh(r)}parseQueryParam(e){let t=fU(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=pU(this.remaining);s&&(r=s,this.capture(r))}let i=tx(t),o=tx(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=e0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=pe);let s=this.parseChildren();t[o??pe]=Object.keys(s).length===1&&s[pe]?s[pe]:new Oe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function gx(n){return n.segments.length>0?new Oe([],{[pe]:n}):n}function yx(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=yx(i);if(r===pe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Oe(n.segments,e);return mU(t)}function mU(n){if(n.numberOfChildren===1&&n.children[pe]){let e=n.children[pe];return new Oe(n.segments.concat(e.segments),e.children)}return n}function so(n){return n instanceof Rr}function vx(n,e,t=null,r=null){let i=_x(n);return bx(i,e,t,r)}function _x(n){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new Oe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=gx(r);return e??i}function bx(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return t0(i,i,i,t,r);let o=gU(e);if(o.toRoot())return t0(i,i,new Oe([],{}),t,r);let s=yU(o,i,n),a=s.processChildren?Zl(s.segmentGroup,s.index,o.commands):wx(s.segmentGroup,s.index,o.commands);return t0(i,s.segmentGroup,a,t,r)}function jh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function eu(n){return typeof n=="object"&&n!=null&&n.outlets}function t0(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`});let s;n===e?s=t:s=Ex(n,e,t);let a=gx(yx(s));return new Rr(a,o,i)}function Ex(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=Ex(o,e,t)}),new Oe(n.segments,r)}var Uh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&jh(r[0]))throw new Q(4003,!1);let i=r.find(eu);if(i&&i!==lx(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gU(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Uh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Uh(t,e,r)}var Ra=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function yU(n,e,t){if(n.isAbsolute)return new Ra(e,!0,0);if(!t)return new Ra(e,!1,NaN);if(t.parent===null)return new Ra(t,!0,0);let r=jh(n.commands[0])?0:1,i=t.segments.length-1+r;return vU(t,i,n.numberOfDoubleDots)}function vU(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new Ra(r,!1,i-o)}function _U(n){return eu(n[0])?n[0].outlets:{[pe]:n}}function wx(n,e,t){if(n??=new Oe([],{}),n.segments.length===0&&n.hasChildren())return Zl(n,e,t);let r=bU(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Oe(n.segments.slice(0,r.pathIndex),{});return o.children[pe]=new Oe(n.segments.slice(r.pathIndex),n.children),Zl(o,0,i)}else return r.match&&i.length===0?new Oe(n.segments,{}):r.match&&!n.hasChildren()?c0(n,e,t):r.match?Zl(n,0,i):c0(n,e,t)}function Zl(n,e,t){if(t.length===0)return new Oe(n.segments,{});{let r=_U(t),i={};if(Object.keys(r).some(o=>o!==pe)&&n.children[pe]&&n.numberOfChildren===1&&n.children[pe].segments.length===0){let o=Zl(n.children[pe],e,t);return new Oe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=wx(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Oe(n.segments,i)}}function bU(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(eu(a))break;let l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!rx(l,u,s))return o;r+=2}else{if(!rx(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function c0(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(eu(o)){let l=EU(o.outlets);return new Oe(r,l)}if(i===0&&jh(t[0])){let l=n.segments[e];r.push(new io(l.path,nx(t[0]))),i++;continue}let s=eu(o)?o.outlets[pe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&jh(a)?(r.push(new io(s,nx(a))),i+=2):(r.push(new io(s,{})),i++)}return new Oe(r,{})}function EU(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=c0(new Oe([],{}),0,r))}),e}function nx(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function rx(n,e,t){return n==t.path&&xr(e,t.parameters)}var Pa="imperative",xt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(xt||{}),Pn=class{id;url;constructor(e,t){this.id=e,this.url=t}},ao=class extends Pn{type=xt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wn=class extends Pn{urlAfterRedirects;type=xt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ln=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(ln||{}),ka=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(ka||{}),Mr=class extends Pn{reason;code;type=xt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pr=class extends Pn{reason;code;type=xt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Oa=class extends Pn{error;target;type=xt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},tu=class extends Pn{urlAfterRedirects;state;type=xt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bh=class extends Pn{urlAfterRedirects;state;type=xt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$h=class extends Pn{urlAfterRedirects;state;shouldActivate;type=xt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Hh=class extends Pn{urlAfterRedirects;state;type=xt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zh=class extends Pn{urlAfterRedirects;state;type=xt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qh=class{route;type=xt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wh=class{route;type=xt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Gh=class{snapshot;type=xt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jh=class{snapshot;type=xt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kh=class{snapshot;type=xt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qh=class{snapshot;type=xt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fa=class{routerEvent;position;anchor;type=xt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},nu=class{},La=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function wU(n){return!(n instanceof nu)&&!(n instanceof La)}function IU(n,e){return n.providers&&!n._injector&&(n._injector=Sa(n.providers,e,`Route: ${n.path}`)),n._injector??e}function fr(n){return n.outlet||pe}function CU(n,e){let t=n.filter(r=>fr(r)===e);return t.push(...n.filter(r=>fr(r)!==e)),t}function Ua(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Yh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ua(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ms(this.rootInjector)}},ms=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Yh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(le(ht))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=l0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=l0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=u0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return u0(e,this._root).map(t=>t.value)}};function l0(n,e){if(n===e.value)return e;for(let t of e.children){let r=l0(n,t);if(r)return r}return null}function u0(n,e){if(n===e.value)return[e];for(let t of e.children){let r=u0(n,t);if(r.length)return r.unshift(e),r}return[]}var Rn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ma(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var ru=class extends Zh{snapshot;constructor(e,t){super(e),this.snapshot=t,v0(this,e)}toString(){return this.snapshot.toString()}};function Ix(n){let e=DU(n),t=new jt([new io("",{})]),r=new jt({}),i=new jt({}),o=new jt({}),s=new jt(""),a=new Nr(t,r,o,s,i,pe,n,e.root);return a.snapshot=e.root,new ru(new Rn(a,[]),e)}function DU(n){let e={},t={},r={},o=new fs([],e,r,"",t,pe,n,null,{});return new iu("",new Rn(o,[]))}var Nr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(xe(u=>u[cu]))??ce(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(xe(e=>hs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(xe(e=>hs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Xh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:V(V({},e.params),n.params),data:V(V({},e.data),n.data),resolve:V(V(V(V({},n.data),e.data),i?.data),n._resolvedData)}:r={params:V({},n.params),data:V({},n.data),resolve:V(V({},n.data),n._resolvedData??{})},i&&Dx(i)&&(r.resolve[cu]=i.title),r}var fs=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[cu]}constructor(e,t,r,i,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=hs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=hs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},iu=class extends Zh{url;constructor(e,t){super(t),this.url=e,v0(this,t)}toString(){return Cx(this._root)}};function v0(n,e){e.value._routerState=n,e.children.forEach(t=>v0(n,t))}function Cx(n){let e=n.children.length>0?` { ${n.children.map(Cx).join(", ")} } `:"";return`${n.value}${e}`}function n0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,xr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),xr(e.params,t.params)||n.paramsSubject.next(t.params),Zj(e.url,t.url)||n.urlSubject.next(t.url),xr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function d0(n,e){let t=xr(n.params,e.params)&&nU(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||d0(n.parent,e.parent))}function Dx(n){return typeof n.title=="string"||n.title===null}var Tx=new Z(""),lu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=pe;activateEvents=new wt;deactivateEvents=new wt;attachEvents=new wt;detachEvents=new wt;routerOutletData=bA();parentContexts=P(ms);location=P(Ta);changeDetector=P(no);inputBinder=P(uu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new f0(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=ct({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Zi]})}return n})(),f0=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Nr?this.route:e===ms?this.childContexts:e===Tx?this.outletData:this.parent.get(e,t)}},uu=new Z(""),_0=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Yc([r.queryParams,r.params,r.data]).pipe(sn(([o,s,a],l)=>(a=V(V(V({},o),s),a),l===0?ce(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=wA(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),b0=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Ke({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ne(0,"router-outlet")},dependencies:[lu],encapsulation:2})}return n})();function E0(n){let e=n.children&&n.children.map(E0),t=e?te(V({},n),{children:e}):V({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pe&&(t.component=b0),t}function TU(n,e,t){let r=ou(n,e._root,t?t._root:void 0);return new ru(r,e)}function ou(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=SU(n,e,t);return new Rn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ou(n,a)),s}}let r=AU(e.value),i=e.children.map(o=>ou(n,o));return new Rn(r,i)}}function SU(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ou(n,r,i);return ou(n,r)})}function AU(n){return new Nr(new jt(n.url),new jt(n.params),new jt(n.queryParams),new jt(n.fragment),new jt(n.data),n.outlet,n.component,n)}var Va=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Sx="ngNavigationCancelingError";function ep(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=so(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ax(!1,ln.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Ax(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Sx]=!0,t.cancellationCode=e,t}function xU(n){return xx(n)&&so(n.url)}function xx(n){return!!n&&n[Sx]}var MU=(n,e,t,r)=>xe(i=>(new h0(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),h0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),n0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Ma(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ma(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Ma(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Ma(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Qh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Jh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(n0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),n0(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},tp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Na=class{component;route;constructor(e,t){this.component=e,this.route=t}};function RU(n,e,t){let r=n._root,i=e?e._root:null;return Yl(r,i,t,[r.value])}function PU(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ba(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Ty(n)?n:e.get(n):r}function Yl(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ma(e);return n.children.forEach(s=>{NU(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Xl(a,t.getContext(s),i)),i}function NU(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=kU(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new tp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Yl(n,e,a?a.children:null,r,i):Yl(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Na(a.outlet.component,s))}else s&&Xl(e,a,i),i.canActivateChecks.push(new tp(r)),o.component?Yl(n,null,a?a.children:null,r,i):Yl(n,null,t,r,i);return i}function kU(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ds(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ds(n.url,e.url)||!xr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!d0(n,e)||!xr(n.queryParams,e.queryParams);case"paramsChange":default:return!d0(n,e)}}function Xl(n,e,t){let r=Ma(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Xl(s,e.children.getContext(o),t):Xl(s,null,t):Xl(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Na(e.outlet.component,i)):t.canDeactivateChecks.push(new Na(null,i)):t.canDeactivateChecks.push(new Na(null,i))}function du(n){return typeof n=="function"}function OU(n){return typeof n=="boolean"}function FU(n){return n&&du(n.canLoad)}function LU(n){return n&&du(n.canActivate)}function VU(n){return n&&du(n.canActivateChild)}function jU(n){return n&&du(n.canDeactivate)}function UU(n){return n&&du(n.canMatch)}function Mx(n){return n instanceof Zr||n?.name==="EmptyError"}var Oh=Symbol("INITIAL_VALUE");function ja(){return sn(n=>Yc(n.map(e=>e.pipe(ei(1),uy(Oh)))).pipe(xe(e=>{for(let t of e)if(t!==!0){if(t===Oh)return Oh;if(t===!1||BU(t))return t}return!0}),gn(e=>e!==Oh),ei(1)))}function BU(n){return so(n)||n instanceof Va}function $U(n,e){return ft(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ce(te(V({},t),{guardsResult:!0})):HU(s,r,i,n).pipe(ft(a=>a&&OU(a)?zU(r,o,n,e):ce(a)),xe(a=>te(V({},t),{guardsResult:a})))})}function HU(n,e,t,r){return Qe(n).pipe(ft(i=>KU(i.component,i.route,t,e,r)),ti(i=>i!==!0,!0))}function zU(n,e,t,r){return Qe(e).pipe(Bi(i=>ua(WU(i.route.parent,r),qU(i.route,r),JU(n,i.path,t),GU(n,i.route,t))),ti(i=>i!==!0,!0))}function qU(n,e){return n!==null&&e&&e(new Kh(n)),ce(!0)}function WU(n,e){return n!==null&&e&&e(new Gh(n)),ce(!0)}function GU(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ce(!0);let i=r.map(o=>Zc(()=>{let s=Ua(e)??t,a=Ba(o,s),l=LU(a)?a.canActivate(e,n):bt(s,()=>a(e,n));return yi(l).pipe(ti())}));return ce(i).pipe(ja())}function JU(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>PU(s)).filter(s=>s!==null).map(s=>Zc(()=>{let a=s.guards.map(l=>{let u=Ua(s.node)??t,f=Ba(l,u),g=VU(f)?f.canActivateChild(r,n):bt(u,()=>f(r,n));return yi(g).pipe(ti())});return ce(a).pipe(ja())}));return ce(o).pipe(ja())}function KU(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ce(!0);let s=o.map(a=>{let l=Ua(e)??i,u=Ba(a,l),f=jU(u)?u.canDeactivate(n,e,t,r):bt(l,()=>u(n,e,t,r));return yi(f).pipe(ti())});return ce(s).pipe(ja())}function QU(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ce(!0);let o=i.map(s=>{let a=Ba(s,n),l=FU(a)?a.canLoad(e,t):bt(n,()=>a(e,t));return yi(l)});return ce(o).pipe(ja(),Rx(r))}function Rx(n){return Zg(Mt(e=>{if(typeof e!="boolean")throw ep(n,e)}),xe(e=>e===!0))}function YU(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ce(!0);let o=i.map(s=>{let a=Ba(s,n),l=UU(a)?a.canMatch(e,t):bt(n,()=>a(e,t));return yi(l)});return ce(o).pipe(ja(),Rx(r))}var su=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},au=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function xa(n){return ca(new su(n))}function ZU(n){return ca(new Q(4e3,!1))}function XU(n){return ca(Ax(!1,ln.GuardRejected))}var p0=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ce(r);if(i.numberOfChildren>1||!i.children[pe])return ZU(`${e.redirectTo}`);i=i.children[pe]}}applyRedirectCommands(e,t,r,i,o){return e3(t,i,o).pipe(xe(s=>{if(s instanceof Rr)throw new au(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new au(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Rr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Oe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function e3(n,e,t){if(typeof n=="string")return ce(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:u,data:f,title:g}=e;return yi(bt(t,()=>r({params:u,data:f,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:g})))}var m0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function t3(n,e,t,r,i){let o=Px(n,e,t);return o.matched?(r=IU(e,r),YU(r,e,t,i).pipe(xe(s=>s===!0?o:V({},m0)))):ce(o)}function Px(n,e,t){if(e.path==="**")return n3(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?V({},m0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ax)(t,n,e);if(!i)return V({},m0);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?V(V({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function n3(n){return{matched:!0,parameters:n.length>0?lx(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function ix(n,e,t,r){return t.length>0&&o3(n,t,r)?{segmentGroup:new Oe(e,i3(r,new Oe(t,n.children))),slicedSegments:[]}:t.length===0&&s3(n,t,r)?{segmentGroup:new Oe(n.segments,r3(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Oe(n.segments,n.children),slicedSegments:t}}function r3(n,e,t,r){let i={};for(let o of t)if(rp(n,e,o)&&!r[fr(o)]){let s=new Oe([],{});i[fr(o)]=s}return V(V({},r),i)}function i3(n,e){let t={};t[pe]=e;for(let r of n)if(r.path===""&&fr(r)!==pe){let i=new Oe([],{});t[fr(r)]=i}return t}function o3(n,e,t){return t.some(r=>rp(n,e,r)&&fr(r)!==pe)}function s3(n,e,t){return t.some(r=>rp(n,e,r))}function rp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function a3(n,e,t){return e.length===0&&!n.children[t]}var g0=class{};function c3(n,e,t,r,i,o,s="emptyOnly"){return new y0(n,e,t,r,i,s,o).recognize()}var l3=31,y0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new p0(this.urlSerializer,this.urlTree)}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=ix(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(xe(({children:t,rootSnapshot:r})=>{let i=new Rn(r,t),o=new iu("",i),s=vx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new fs([],Object.freeze({}),Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,pe,t).pipe(xe(r=>({children:r,rootSnapshot:t})),Xr(r=>{if(r instanceof au)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof su?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(xe(s=>s instanceof Rn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Qe(o).pipe(Bi(s=>{let a=r.children[s],l=CU(t,s);return this.processSegmentGroup(e,l,a,s,i)}),ly((s,a)=>(s.push(...a),s)),$i(null),cy(),ft(s=>{if(s===null)return xa(r);let a=Nx(s);return u3(a),ce(a)}))}processSegment(e,t,r,i,o,s,a){return Qe(t).pipe(Bi(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(Xr(u=>{if(u instanceof su)return ce(null);throw u}))),ti(l=>!!l),Xr(l=>{if(Mx(l))return a3(r,i,o)?ce(new g0):xa(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return fr(r)!==s&&(s===pe||!rp(i,o,r))?xa(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):xa(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:f,positionalParamSegments:g,remainingSegments:v}=Px(t,i,o);if(!l)return xa(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>l3&&(this.allowRedirects=!1));let E=new fs(o,u,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,ox(i),fr(i),i.component??i._loadedComponent??null,i,sx(i)),M=Xh(E,a,this.paramsInheritanceStrategy);return E.params=Object.freeze(M.params),E.data=Object.freeze(M.data),this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,E,e).pipe(sn(O=>this.applyRedirects.lineralizeSegments(i,O)),ft(O=>this.processSegment(e,r,t,O.concat(v),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=t3(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(sn(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(sn(({routes:u})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:v,remainingSegments:E}=l,M=new fs(v,g,Object.freeze(V({},this.urlTree.queryParams)),this.urlTree.fragment,ox(r),fr(r),r.component??r._loadedComponent??null,r,sx(r)),F=Xh(M,s,this.paramsInheritanceStrategy);M.params=Object.freeze(F.params),M.data=Object.freeze(F.data);let{segmentGroup:O,slicedSegments:q}=ix(t,v,E,u);if(q.length===0&&O.hasChildren())return this.processChildren(f,u,O,M).pipe(xe(de=>new Rn(M,de)));if(u.length===0&&q.length===0)return ce(new Rn(M,[]));let oe=fr(r)===o;return this.processSegment(f,u,O,q,oe?pe:o,!0,M).pipe(xe(de=>new Rn(M,de instanceof Rn?[de]:[])))}))):xa(t)))}getChildConfig(e,t,r){return t.children?ce({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ce({routes:t._loadedRoutes,injector:t._loadedInjector}):QU(e,t,r,this.urlSerializer).pipe(ft(i=>i?this.configLoader.loadChildren(e,t).pipe(Mt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):XU(t))):ce({routes:[],injector:e})}};function u3(n){n.sort((e,t)=>e.value.outlet===pe?-1:t.value.outlet===pe?1:e.value.outlet.localeCompare(t.value.outlet))}function d3(n){let e=n.value.routeConfig;return e&&e.path===""}function Nx(n){let e=[],t=new Set;for(let r of n){if(!d3(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Nx(r.children);e.push(new Rn(r.value,i))}return e.filter(r=>!t.has(r))}function ox(n){return n.data||{}}function sx(n){return n.resolve||{}}function f3(n,e,t,r,i,o){return ft(s=>c3(n,e,t,r,s.extractedUrl,i,o).pipe(xe(({state:a,tree:l})=>te(V({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function h3(n,e){return ft(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ce(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of kx(l))s.add(u);let a=0;return Qe(s).pipe(Bi(l=>o.has(l)?p3(l,r,n,e):(l.data=Xh(l,l.parent,n).resolve,ce(void 0))),Mt(()=>a++),da(1),ft(l=>a===s.size?ce(t):pn))})}function kx(n){let e=n.children.map(t=>kx(t)).flat();return[n,...e]}function p3(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!Dx(i)&&(o[cu]=i.title),Zc(()=>(n.data=Xh(n,n.parent,t).resolve,m3(o,n,e,r).pipe(xe(s=>(n._resolvedData=s,n.data=V(V({},n.data),s),null)))))}function m3(n,e,t,r){let i=o0(n);if(i.length===0)return ce({});let o={};return Qe(i).pipe(ft(s=>g3(n[s],e,t,r).pipe(ti(),Mt(a=>{if(a instanceof Va)throw ep(new oo,a);o[s]=a}))),da(1),xe(()=>o),Xr(s=>Mx(s)?pn:ca(s)))}function g3(n,e,t,r){let i=Ua(e)??r,o=Ba(n,i),s=o.resolve?o.resolve(e,t):bt(i,()=>o(e,t));return yi(s)}function r0(n){return sn(e=>{let t=n(e);return t?Qe(t).pipe(xe(()=>e)):ce(e)})}var w0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===pe);return r}getResolvedTitleForRoute(t){return t.data[cu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>P(Ox),providedIn:"root"})}return n})(),Ox=(()=>{class n extends w0{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(le(XA))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),co=new Z("",{providedIn:"root",factory:()=>({})}),gs=new Z(""),ip=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(x_);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ce(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=yi(bt(t,()=>r.loadComponent())).pipe(xe(Lx),sn(Vx),Mt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Xc(()=>{this.componentLoaders.delete(r)})),o=new ia(i,()=>new vt).pipe(ra());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ce({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Fx(r,this.compiler,t,this.onLoadEndListener).pipe(Xc(()=>{this.childrenLoaders.delete(r)})),s=new ia(o,()=>new vt).pipe(ra());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fx(n,e,t,r){return yi(bt(t,()=>n.loadChildren())).pipe(xe(Lx),sn(Vx),ft(i=>i instanceof hh||Array.isArray(i)?ce(i):Qe(e.compileModuleAsync(i))),xe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(gs,[],{optional:!0,self:!0}).flat()),{routes:s.map(E0),injector:o}}))}function y3(n){return n&&typeof n=="object"&&"default"in n}function Lx(n){return y3(n)?n.default:n}function Vx(n){return ce(n)}var op=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>P(v3),providedIn:"root"})}return n})(),v3=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),I0=new Z(""),C0=new Z("");function jx(n,e,t){let r=n.get(C0),i=n.get(gt);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),_3(n)));a.ready.catch(u=>{});let{onViewTransitionCreated:l}=r;return l&&bt(n,()=>l({transition:a,from:e,to:t})),s}function _3(n){return new Promise(e=>{Sl({read:()=>setTimeout(e)},{injector:n})})}var D0=new Z(""),sp=(()=>{class n{currentNavigation=ee(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new vt;transitionAbortWithErrorSubject=new vt;configLoader=P(ip);environmentInjector=P(ht);destroyRef=P(Un);urlSerializer=P(ps);rootContexts=P(ms);location=P(ro);inputBindingEnabled=P(uu,{optional:!0})!==null;titleStrategy=P(w0);options=P(co,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(op);createViewTransition=P(I0,{optional:!0});navigationErrorHandler=P(D0,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ce(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new qh(i)),r=i=>this.events.next(new Wh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Pt(()=>{this.transitions?.next(te(V({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new jt(null),this.transitions.pipe(gn(r=>r!==null),sn(r=>{let i=!1;return ce(r).pipe(sn(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",ln.SupersededByNewNavigation),pn;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?te(V({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Pr(o.id,this.urlSerializer.serialize(o.rawUrl),"",ka.IgnoredSameUrlNavigation)),o.resolve(!1),pn;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ce(o).pipe(sn(l=>(this.events.next(new ao(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?pn:Promise.resolve(l))),f3(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Mt(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(f=>(f.finalUrl=l.urlAfterRedirects,f));let u=new tu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:u,source:f,restoredState:g,extras:v}=o,E=new ao(l,this.urlSerializer.serialize(u),f,g);this.events.next(E);let M=Ix(this.rootComponentType).snapshot;return this.currentTransition=r=te(V({},o),{targetSnapshot:M,urlAfterRedirects:u,extras:te(V({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(F=>(F.finalUrl=u,F)),ce(r)}else return this.events.next(new Pr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",ka.IgnoredByUrlHandlingStrategy)),o.resolve(!1),pn}),Mt(o=>{let s=new Bh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),xe(o=>(this.currentTransition=r=te(V({},o),{guards:RU(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),$U(this.environmentInjector,o=>this.events.next(o)),Mt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw ep(this.urlSerializer,o.guardsResult);let s=new $h(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),gn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",ln.GuardRejected),!1)),r0(o=>{if(o.guards.canActivateChecks.length!==0)return ce(o).pipe(Mt(s=>{let a=new Hh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),sn(s=>{let a=!1;return ce(s).pipe(h3(this.paramsInheritanceStrategy,this.environmentInjector),Mt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",ln.NoDataFromResolver)}}))}),Mt(s=>{let a=new zh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),r0(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent){let u=Ua(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(Mt(f=>{a.component=f}),xe(()=>{})))}for(let u of a.children)l.push(...s(u));return l};return Yc(s(o.targetSnapshot.root)).pipe($i(null),ei(1))}),r0(()=>this.afterPreactivation()),sn(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Qe(a).pipe(xe(()=>r)):ce(r)}),xe(o=>{let s=TU(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=te(V({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Mt(()=>{this.events.next(new nu)}),MU(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ei(1),of(new we(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(gn(()=>!i&&!r.targetRouterState),Mt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",ln.Aborted)}))),Mt({next:o=>{i=!0,this.lastSuccessfulNavigation=Pt(this.currentNavigation),this.events.next(new Wn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),of(this.transitionAbortWithErrorSubject.pipe(Mt(o=>{throw o}))),Xc(()=>{i||this.cancelNavigationTransition(r,"",ln.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Xr(o=>{if(this.destroyed)return r.resolve(!1),pn;if(i=!0,xx(o))this.events.next(new Mr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),xU(o)?this.events.next(new La(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Oa(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=bt(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Va){let{message:l,cancellationCode:u}=ep(this.urlSerializer,a);this.events.next(new Mr(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new La(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return pn}))}))}cancelNavigationTransition(t,r,i){let o=new Mr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Pt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function b3(n){return n!==Pa}var Ux=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>P(E3),providedIn:"root"})}return n})(),np=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},E3=(()=>{class n extends np{static \u0275fac=(()=>{let t;return function(i){return(t||(t=di(n)))(i||n)}})();static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Bx=(()=>{class n{urlSerializer=P(ps);options=P(co,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(ro);urlHandlingStrategy=P(op);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Rr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Rr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=Ix(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>P(w3),providedIn:"root"})}return n})(),w3=(()=>{class n extends Bx{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ao?this.updateStateMemento():t instanceof Pr?this.commitTransition(r):t instanceof tu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof nu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Mr&&t.code!==ln.SupersededByNewNavigation&&t.code!==ln.Redirect?this.restoreHistory(r):t instanceof Oa?this.restoreHistory(r,!0):t instanceof Wn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=V(V({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=V(V({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=di(n)))(i||n)}})();static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ap(n,e){n.events.pipe(gn(t=>t instanceof Wn||t instanceof Mr||t instanceof Oa||t instanceof Pr),xe(t=>t instanceof Wn||t instanceof Pr?0:(t instanceof Mr?t.code===ln.Redirect||t.code===ln.SupersededByNewNavigation:!1)?2:1),gn(t=>t!==2),ei(1)).subscribe(()=>{e()})}var I3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},C3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},it=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(w_);stateManager=P(Bx);options=P(co,{optional:!0})||{};pendingTasks=P(Dr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(sp);urlSerializer=P(ps);location=P(ro);urlHandlingStrategy=P(op);injector=P(ht);_events=new vt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(Ux);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(gs,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(uu,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new st;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Pt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Mr&&r.code!==ln.Redirect&&r.code!==ln.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Wn)this.navigated=!0;else if(r instanceof La){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=V({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||b3(i.source)},s);this.scheduleNavigation(a,Pa,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}wU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Pa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=V({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(cn)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Pt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(E0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,f=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":f=V(V({},this.currentUrlTree.queryParams),o);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}f!==null&&(f=this.removeEmptyProps(f));let g;try{let v=i?i.snapshot:this.routerState.snapshot.root;g=_x(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return bx(g,t,f,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=so(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Pa,null,r)}navigate(t,r={skipLocationChange:!1}){return D3(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Wi(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=V({},I3):r===!1?i=V({},C3):i=r,so(t))return ex(this.currentUrlTree,t,i);let o=this.parseUrl(t);return ex(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((g,v)=>{a=g,l=v});let f=this.pendingTasks.add();return ap(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(g=>Promise.reject(g))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function D3(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Q(4008,!1)}var lo=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=ee(null);get href(){return Pt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new vt;applicationErrorHandler=P(cn);options=P(co,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(P(new _h("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Wn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(so(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:so(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(ve(it),ve(Nr),Dl("tabindex"),ve(ar),ve(Bn),ve(ur))};static \u0275dir=ct({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&B("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ml("href",i.reactiveHref(),r_)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",us],skipLocationChange:[2,"skipLocationChange","skipLocationChange",us],replaceUrl:[2,"replaceUrl","replaceUrl",us],routerLink:"routerLink"},features:[Zi]})}return n})();var fu=class{};var $x=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(gn(t=>t instanceof Wn),Bi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Sa(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Qe(i).pipe(la())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=ce(null);let o=i.pipe(ft(s=>s===null?ce(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return Qe([o,s]).pipe(la())}else return o})}static \u0275fac=function(r){return new(r||n)(le(it),le(ht),le(fu),le(ip))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hx=new Z(""),T3=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Pa;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ao?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Wn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Pr&&t.code===ka.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof Fa))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>b(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new Fa(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){b_()};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})();function S0(n,...e){return yn([{provide:gs,multi:!0,useValue:n},[],{provide:Nr,useFactory:zx,deps:[it]},{provide:xl,multi:!0,useFactory:qx},e.map(t=>t.\u0275providers)])}function zx(n){return n.routerState.root}function hu(n,e){return{\u0275kind:n,\u0275providers:e}}function qx(){let n=P(at);return e=>{let t=n.get(fi);if(e!==t.components[0])return;let r=n.get(it),i=n.get(Wx);n.get(A0)===1&&r.initialNavigation(),n.get(Kx,null,{optional:!0})?.setUpPreloading(),n.get(Hx,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Wx=new Z("",{factory:()=>new vt}),A0=new Z("",{providedIn:"root",factory:()=>1});function Gx(){let n=[{provide:e_,useValue:!0},{provide:A0,useValue:0},gh(()=>{let e=P(at);return e.get(F_,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(it),o=e.get(Wx);ap(i,()=>{r(!0)}),e.get(sp).afterPreactivation=()=>(r(!0),o.closed?ce(void 0):o),i.initialNavigation()}))})];return hu(2,n)}function Jx(){let n=[gh(()=>{P(it).setUpLocationChangeListener()}),{provide:A0,useValue:2}];return hu(3,n)}var Kx=new Z("");function Qx(n){return hu(0,[{provide:Kx,useExisting:$x},{provide:fu,useExisting:n}])}function Yx(){return hu(8,[_0,{provide:uu,useExisting:_0}])}function Zx(n){sr("NgRouterViewTransitions");let e=[{provide:I0,useValue:jx},{provide:C0,useValue:V({skipNextTransition:!!n?.skipInitialTransition},n)}];return hu(9,e)}var Xx=[ro,{provide:ps,useClass:oo},it,ms,{provide:Nr,useFactory:zx,deps:[it]},ip,[]],vi=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[Xx,[],{provide:gs,multi:!0,useValue:t},[],r?.errorHandler?{provide:D0,useValue:r.errorHandler}:[],{provide:co,useValue:r||{}},r?.useHash?A3():x3(),S3(),r?.preloadingStrategy?Qx(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?M3(r):[],r?.bindToComponentInputs?Yx().\u0275providers:[],r?.enableViewTransitions?Zx().\u0275providers:[],R3()]}}static forChild(t){return{ngModule:n,providers:[{provide:gs,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ar({type:n});static \u0275inj=er({})}return n})();function S3(){return{provide:Hx,useFactory:()=>{let n=P(qA),e=P(ke),t=P(co),r=P(sp),i=P(ps);return t.scrollOffset&&n.setOffset(t.scrollOffset),new T3(i,r,n,e,t)}}}function A3(){return{provide:ur,useClass:B_}}function x3(){return{provide:ur,useClass:wh}}function M3(n){return[n.initialNavigation==="disabled"?Jx().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Gx().\u0275providers:[]]}var T0=new Z("");function R3(){return[{provide:T0,useFactory:qx},{provide:xl,multi:!0,useExisting:T0}]}var e1=()=>{};var r1=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},P3=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},cp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,f=o>>2,g=(o&3)<<4|a>>4,v=(a&15)<<2|u>>6,E=u&63;l||(E=64,s||(v=64)),r.push(t[f],t[g],t[v],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(r1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):P3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||g==null)throw new R0;let v=o<<2|a>>4;if(r.push(v),u!==64){let E=a<<4&240|u>>2;if(r.push(E),g!==64){let M=u<<6&192|g;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},R0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},N3=function(n){let e=r1(n);return cp.encodeByteArray(e,!0)},mu=function(n){return N3(n).replace(/\./g,"")},lp=function(n){try{return cp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function N0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var k3=()=>N0().__FIREBASE_DEFAULTS__,O3=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},F3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&lp(n[1]);return e&&JSON.parse(e)},up=()=>{try{return e1()||k3()||O3()||F3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},k0=n=>{var e,t;return(t=(e=up())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},i1=n=>{let e=k0(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},O0=()=>{var n;return(n=up())===null||n===void 0?void 0:n.config},F0=n=>{var e;return(e=up())===null||e===void 0?void 0:e[`_${n}`]};var ys=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function uo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function dp(n){return b(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function o1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[mu(JSON.stringify(t)),mu(JSON.stringify(s)),""].join(".")}var pu={};function L3(){let n={prod:[],emulator:[]};for(let e of Object.keys(pu))pu[e]?n.emulator.push(e):n.prod.push(e);return n}function V3(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var t1=!1;function fp(n,e){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||pu[n]===e||pu[n]||t1)return;pu[n]=e;function t(v){return`__firebase__banner__${v}`}let r="__firebase__banner",o=L3().prod.length>0;function s(){let v=document.getElementById(r);v&&v.remove()}function a(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function l(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function u(){let v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{t1=!0,s()},v}function f(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){let v=V3(r),E=t("text"),M=document.getElementById(E)||document.createElement("span"),F=t("learnmore"),O=document.getElementById(F)||document.createElement("a"),q=t("preprendIcon"),oe=document.getElementById(q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){let de=v.element;a(de),f(O,F);let $e=u();l(oe,q),de.append(oe,M,O,$e),document.body.appendChild(de)}o?(M.innerText="Preview backend disconnected.",oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,M.innerText="Preview backend running in this workspace."),M.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function j3(){var n;let e=(n=up())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function a1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function c1(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function l1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u1(){let n=Nt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function d1(){return!j3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gu(){try{return typeof indexedDB=="object"}catch{return!1}}function f1(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var U3="FirebaseError",Nn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=U3,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hr.prototype.create)}},hr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?B3(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Nn(i,a,r)}};function B3(n,e){return n.replace($3,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var $3=/\{\$([^}]+)}/g;function h1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Gn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(n1(o)&&n1(s)){if(!Gn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function n1(n){return n!==null&&typeof n=="object"}function yu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $a(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ha(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function p1(n,e){let t=new P0(n,e);return t.subscribe.bind(t)}var P0=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");H3(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=M0),i.error===void 0&&(i.error=M0),i.complete===void 0&&(i.complete=M0);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function H3(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function M0(){}var nae=14400*1e3;function Ze(n){return n&&n._delegate?n._delegate:n}var un=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var vs="[DEFAULT]";var L0=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ys;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q3(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:z3(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function z3(n){return n===vs?void 0:n}function q3(n){return n.instantiationMode==="EAGER"}var hp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new L0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var W3=[],Se=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(Se||{}),G3={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},J3=Se.INFO,K3={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},Q3=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=K3[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},kr=class{constructor(e){this.name=e,this._logLevel=J3,this._logHandler=Q3,this._userLogHandler=null,W3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}};var Y3=(n,e)=>e.some(t=>n instanceof t),m1,g1;function Z3(){return m1||(m1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X3(){return g1||(g1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var y1=new WeakMap,j0=new WeakMap,v1=new WeakMap,V0=new WeakMap,B0=new WeakMap;function eB(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Or(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&y1.set(t,n)}).catch(()=>{}),B0.set(e,n),e}function tB(n){if(j0.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});j0.set(n,e)}var U0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return j0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||v1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Or(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _1(n){U0=n(U0)}function nB(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(pp(this),e,...t);return v1.set(r,e.sort?e.sort():[e]),Or(r)}:X3().includes(n)?function(...e){return n.apply(pp(this),e),Or(y1.get(this))}:function(...e){return Or(n.apply(pp(this),e))}}function rB(n){return typeof n=="function"?nB(n):(n instanceof IDBTransaction&&tB(n),Y3(n,Z3())?new Proxy(n,U0):n)}function Or(n){if(n instanceof IDBRequest)return eB(n);if(V0.has(n))return V0.get(n);let e=rB(n);return e!==n&&(V0.set(n,e),B0.set(e,n)),e}var pp=n=>B0.get(n);function E1(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Or(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Or(s.result),l.oldVersion,l.newVersion,Or(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var iB=["get","getKey","getAll","getAllKeys","count"],oB=["put","add","delete","clear"],$0=new Map;function b1(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if($0.get(e))return $0.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=oB.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iB.includes(t)))return;let o=function(s,...a){return b(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&l.done]))[0]})};return $0.set(e,o),o}_1(n=>te(V({},n),{get:(e,t,r)=>b1(e,t)||n.get(e,t,r),has:(e,t)=>!!b1(e,t)||n.has(e,t)}));var z0=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sB(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function sB(n){let e=n.getComponent();return e?.type==="VERSION"}var q0="@firebase/app",w1="0.13.2";var _i=new kr("@firebase/app"),aB="@firebase/app-compat",cB="@firebase/analytics-compat",lB="@firebase/analytics",uB="@firebase/app-check-compat",dB="@firebase/app-check",fB="@firebase/auth",hB="@firebase/auth-compat",pB="@firebase/database",mB="@firebase/data-connect",gB="@firebase/database-compat",yB="@firebase/functions",vB="@firebase/functions-compat",_B="@firebase/installations",bB="@firebase/installations-compat",EB="@firebase/messaging",wB="@firebase/messaging-compat",IB="@firebase/performance",CB="@firebase/performance-compat",DB="@firebase/remote-config",TB="@firebase/remote-config-compat",SB="@firebase/storage",AB="@firebase/storage-compat",xB="@firebase/firestore",MB="@firebase/ai",RB="@firebase/firestore-compat",PB="firebase",NB="11.10.0";var W0="[DEFAULT]",kB={[q0]:"fire-core",[aB]:"fire-core-compat",[lB]:"fire-analytics",[cB]:"fire-analytics-compat",[dB]:"fire-app-check",[uB]:"fire-app-check-compat",[fB]:"fire-auth",[hB]:"fire-auth-compat",[pB]:"fire-rtdb",[mB]:"fire-data-connect",[gB]:"fire-rtdb-compat",[yB]:"fire-fn",[vB]:"fire-fn-compat",[_B]:"fire-iid",[bB]:"fire-iid-compat",[EB]:"fire-fcm",[wB]:"fire-fcm-compat",[IB]:"fire-perf",[CB]:"fire-perf-compat",[DB]:"fire-rc",[TB]:"fire-rc-compat",[SB]:"fire-gcs",[AB]:"fire-gcs-compat",[xB]:"fire-fst",[RB]:"fire-fst-compat",[MB]:"fire-vertex","fire-js":"fire-js",[PB]:"fire-js-all"};var vu=new Map,OB=new Map,G0=new Map;function I1(n,e){try{n.container.addComponent(e)}catch(t){_i.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function pr(n){let e=n.name;if(G0.has(e))return _i.debug(`There were multiple attempts to register component ${e}.`),!1;G0.set(e,n);for(let t of vu.values())I1(t,n);for(let t of OB.values())I1(t,n);return!0}function za(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function dn(n){return n==null?!1:n.settings!==void 0}var FB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fo=new hr("app","Firebase",FB);var J0=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fo.create("app-deleted",{appName:this._name})}};var ho=NB;function Y0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:W0,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw fo.create("bad-app-name",{appName:String(i)});if(t||(t=O0()),!t)throw fo.create("no-options");let o=vu.get(i);if(o){if(Gn(t,o.options)&&Gn(r,o.config))return o;throw fo.create("duplicate-app",{appName:i})}let s=new hp(i);for(let l of G0.values())s.addComponent(l);let a=new J0(t,r,s);return vu.set(i,a),a}function _s(n=W0){let e=vu.get(n);if(!e&&n===W0&&O0())return Y0();if(!e)throw fo.create("no-app",{appName:n});return e}function mp(){return Array.from(vu.values())}function ut(n,e,t){var r;let i=(r=kB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_i.warn(a.join(" "));return}pr(new un(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var LB="firebase-heartbeat-database",VB=1,_u="firebase-heartbeat-store",H0=null;function S1(){return H0||(H0=E1(LB,VB,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_u)}catch(t){console.warn(t)}}}}).catch(n=>{throw fo.create("idb-open",{originalErrorMessage:n.message})})),H0}function jB(n){return b(this,null,function*(){try{let t=(yield S1()).transaction(_u),r=yield t.objectStore(_u).get(A1(n));return yield t.done,r}catch(e){if(e instanceof Nn)_i.warn(e.message);else{let t=fo.create("idb-get",{originalErrorMessage:e?.message});_i.warn(t.message)}}})}function C1(n,e){return b(this,null,function*(){try{let r=(yield S1()).transaction(_u,"readwrite");yield r.objectStore(_u).put(e,A1(n)),yield r.done}catch(t){if(t instanceof Nn)_i.warn(t.message);else{let r=fo.create("idb-set",{originalErrorMessage:t?.message});_i.warn(r.message)}}})}function A1(n){return`${n.name}!${n.options.appId}`}var UB=1024,BB=30,K0=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Q0(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return b(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=D1();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>BB){let s=HB(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_i.warn(r)}})}getHeartbeatsHeader(){return b(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=D1(),{heartbeatsToSend:r,unsentEntries:i}=$B(this._heartbeatsCache.heartbeats),o=mu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return _i.warn(t),""}})}};function D1(){return new Date().toISOString().substring(0,10)}function $B(n,e=UB){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),T1(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),T1(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Q0=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return gu()?f1().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield jB(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return C1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return C1(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function T1(n){return mu(JSON.stringify({version:2,heartbeats:n})).length}function HB(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function zB(n){pr(new un("platform-logger",e=>new z0(e),"PRIVATE")),pr(new un("heartbeat",e=>new K0(e),"PRIVATE")),ut(q0,w1,n),ut(q0,w1,"esm2017"),ut("fire-js","")}zB("");var qB="firebase",WB="11.10.0";ut(qB,WB,"app");function x1(n){n===void 0&&(n=P(at));let e=n.get(ba);return t=>new we(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var po=new Hi("ANGULARFIRE2_VERSION");function bu(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Wa=(n,e)=>{let t=e?[e]:mp(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},qa=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(qa||{}),M1=k_()&&typeof Zone<"u"?qa.WARN:qa.SILENT;var gp=class{zone;delegate;constructor(e,t=iy){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},mo=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=P(ke);this.outsideAngular=t.runOutsideAngular(()=>new gp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new gp(typeof Zone>"u"?void 0:Zone.current,ry))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),R1=!1;function GB(n,e){!R1&&(M1>qa.SILENT||k_())&&(R1=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),M1>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function JB(n){let e=P(ke,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function bs(n){let e=P(ke,{optional:!0});return e?e.run(()=>n()):n()}var KB=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),bt(t,()=>bs(()=>n.apply(void 0,r)))),Xe=(n,e,t)=>(t||=e?qa.WARN:qa.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=P(mo),s=P(ba),a=P(ht)}catch{return GB(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=bs(()=>s.add())),i[u]=KB(i[u],r,a));let l=JB(()=>n.apply(this,i));return e?l instanceof we?l.pipe(Ui(o.outsideAngular),ji(o.insideAngular),x1(a)):l instanceof Promise?bs(()=>{let u=s.add();return new Promise((f,g)=>{l.then(v=>bt(a,()=>bs(()=>f(v))),v=>bt(a,()=>bs(()=>g(v)))).finally(u)})}):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:bs(()=>l):l instanceof we?l.pipe(Ui(o.outsideAngular),ji(o.insideAngular)):bs(()=>l)});var bi=class{constructor(e){return e}},Es=class{constructor(){return mp()}};function QB(n){return n&&n.length===1?n[0]:new bi(_s())}var Z0=new Z("angularfire2._apps"),YB={provide:bi,useFactory:QB,deps:[[new An,Z0]]},ZB={provide:Es,deps:[[new An,Z0]]};function XB(n){return(e,t)=>{let r=t.get(cs);ut("angularfire",po.full,"core"),ut("angularfire",po.full,"app"),ut("angular",Iy.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new bi(i)}}function P1(n,...e){return yn([YB,ZB,{provide:Z0,useFactory:XB(n),multi:!0,deps:[ke,at,mo,...e]}])}var N1=Xe(Y0,!0);var e4=new Map,t4={activated:!1,tokenObservers:[]},n4={initialized:!1,enabled:!1};function mr(n){return e4.get(n)||Object.assign({},t4)}function L1(){return n4}var r4="https://content-firebaseappcheck.googleapis.com/v1";var i4="exchangeDebugToken",k1={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},oce=1440*60*1e3;var tb=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return b(this,null,function*(){this.stop();try{this.pending=new ys,this.pending.promise.catch(t=>{}),yield o4(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ys,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function o4(n){return new Promise(e=>{setTimeout(e,n)})}var s4={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},go=new hr("appCheck","AppCheck",s4);function V1(n){if(!mr(n).activated)throw go.create("use-before-activation",{appName:n.name})}function j1(r,i){return b(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let E=yield s.getHeartbeatsHeader();E&&(o["X-Firebase-Client"]=E)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(n,a)}catch(E){throw go.create("fetch-network-error",{originalErrorMessage:E?.message})}if(l.status!==200)throw go.create("fetch-status-error",{httpStatus:l.status});let u;try{u=yield l.json()}catch(E){throw go.create("fetch-parse-error",{originalErrorMessage:E?.message})}let f=u.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw go.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let g=Number(f[1])*1e3,v=Date.now();return{token:u.token,expireTimeMillis:v+g,issuedAtTimeMillis:v}})}function U1(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${r4}/projects/${t}/apps/${r}:${i4}?key=${i}`,body:{debug_token:e}}}var a4="firebase-app-check-database",c4=1,nb="firebase-app-check-store";var yp=null;function l4(){return yp||(yp=new Promise((n,e)=>{try{let t=indexedDB.open(a4,c4);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(go.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(nb,{keyPath:"compositeKey"})}}}catch(t){e(go.create("storage-open",{originalErrorMessage:t?.message}))}}),yp)}function u4(n,e){return d4(f4(n),e)}function d4(n,e){return b(this,null,function*(){let r=(yield l4()).transaction(nb,"readwrite"),o=r.objectStore(nb).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;a(go.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})})}function f4(n){return`${n.options.appId}-${n.name}`}var Eu=new kr("@firebase/app-check");function X0(n,e){return gu()?u4(n,e).catch(t=>{Eu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function B1(){return L1().enabled}function $1(){return b(this,null,function*(){let n=L1();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var h4={error:"UNKNOWN_ERROR"};function p4(n){return cp.encodeString(JSON.stringify(n),!1)}function rb(n,e=!1,t=!1){return b(this,null,function*(){let r=n.app;V1(r);let i=mr(r),o=i.token,s;if(o&&!wu(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(wu(u)?o=u:yield X0(r,void 0))}if(!e&&o&&wu(o))return{token:o.token};let a=!1;if(B1())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=j1(U1(r,yield $1()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield X0(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Eu.warn(u.message):t&&Eu.error(u),eb(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield mr(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Eu.warn(u.message):t&&Eu.error(u),s=u}let l;return o?s?wu(o)?l={token:o.token,internalError:s}:l=eb(s):(l={token:o.token},i.token=o,yield X0(r,o)):l=eb(s),a&&v4(r,l),l})}function m4(n){return b(this,null,function*(){let e=n.app;V1(e);let{provider:t}=mr(e);if(B1()){let r=yield $1(),{token:i}=yield j1(U1(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function g4(n,e,t,r){let{app:i}=n,o=mr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&wu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),O1(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>O1(n))}function H1(n,e){let t=mr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function O1(n){let{app:e}=n,t=mr(e),r=t.tokenRefresher;r||(r=y4(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function y4(n){let{app:e}=n;return new tb(()=>b(null,null,function*(){let t=mr(e),r;if(t.token?r=yield rb(n,!0):r=yield rb(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=mr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},k1.RETRIAL_MIN_WAIT,k1.RETRIAL_MAX_WAIT)}function v4(n,e){let t=mr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function wu(n){return n.expireTimeMillis-Date.now()>0}function eb(n){return{token:p4(h4),error:n}}var ib=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=mr(this.app);for(let t of e)H1(this.app,t.next);return Promise.resolve()}};function _4(n,e){return new ib(n,e)}function b4(n){return{getToken:e=>rb(n,e),getLimitedUseToken:()=>m4(n),addTokenListener:e=>g4(n,"INTERNAL",e),removeTokenListener:e=>H1(n.app,e)}}var E4="@firebase/app-check",w4="0.10.1";var I4="app-check",F1="app-check-internal";function C4(){pr(new un(I4,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return _4(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(F1).initialize()})),pr(new un(F1,n=>{let e=n.getProvider("app-check").getImmediate();return b4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ut(E4,w4)}C4();var D4="app-check";var Ga=class{constructor(){return Wa(D4)}};var T4=["localhost","0.0.0.0","127.0.0.1"],vce=typeof window<"u"&&T4.includes(window.location.hostname);function oM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var sM=oM,aM=new hr("auth","Firebase",oM());var Ip=new kr("@firebase/auth");function S4(n,...e){Ip.logLevel<=Se.WARN&&Ip.warn(`Auth (${ho}): ${n}`,...e)}function _p(n,...e){Ip.logLevel<=Se.ERROR&&Ip.error(`Auth (${ho}): ${n}`,...e)}function Vr(n,...e){throw Ab(n,...e)}function ws(n,...e){return Ab(n,...e)}function cM(n,e,t){let r=Object.assign(Object.assign({},sM()),{[e]:t});return new hr("auth","Firebase",r).create(e,{appName:n.name})}function Fr(n){return cM(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ab(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return aM.create(n,...e)}function re(n,e,...t){if(!n)throw Ab(e,...t)}function Ei(n){let e="INTERNAL ASSERTION FAILED: "+n;throw _p(e),new Error(e)}function _o(n,e){n||Ei(e)}function cb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function A4(){return z1()==="http:"||z1()==="https:"}function z1(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function x4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(A4()||c1()||"connection"in navigator)?navigator.onLine:!0}function M4(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Is=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,_o(t>e,"Short delay should be less than long delay!"),this.isMobile=s1()||l1()}get(){return x4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function xb(n,e){_o(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Cp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ei("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ei("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ei("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var R4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var P4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],N4=new Is(3e4,6e4);function Ii(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function jr(o,s,a,l){return b(this,arguments,function*(n,e,t,r,i={}){return lM(n,i,()=>b(null,null,function*(){let u={},f={};r&&(e==="GET"?f=r:u={body:JSON.stringify(r)});let g=yu(Object.assign({key:n.config.apiKey},f)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let E=Object.assign({method:e,headers:v},u);return a1()||(E.referrerPolicy="no-referrer"),n.emulatorConfig&&uo(n.emulatorConfig.host)&&(E.credentials="include"),Cp.fetch()(yield uM(n,n.config.apiHost,t,g),E)}))})}function lM(n,e,t){return b(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},R4),e);try{let i=new lb(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw vp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vp(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw vp(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw vp(n,"user-disabled",s);let f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw cM(n,f,u);Vr(n,f)}}catch(i){if(i instanceof Nn)throw i;Vr(n,"network-request-failed",{message:String(i)})}})}function Mu(o,s,a,l){return b(this,arguments,function*(n,e,t,r,i={}){let u=yield jr(n,e,t,r,i);return"mfaPendingCredential"in u&&Vr(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function uM(n,e,t,r){return b(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?xb(n.config,i):`${n.config.apiScheme}://${i}`;return P4.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function k4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var lb=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ws(this.auth,"network-request-failed")),N4.get())})}};function vp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ws(n,e,r);return i.customData._tokenResponse=t,i}function q1(n){return n!==void 0&&n.enterprise!==void 0}var ub=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return k4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function O4(n,e){return b(this,null,function*(){return jr(n,"GET","/v2/recaptchaConfig",Ii(n,e))})}function F4(n,e){return b(this,null,function*(){return jr(n,"POST","/v1/accounts:delete",e)})}function Dp(n,e){return b(this,null,function*(){return jr(n,"POST","/v1/accounts:lookup",e)})}function Cu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Mb(n,e=!1){return b(this,null,function*(){let t=Ze(n),r=yield t.getIdToken(e),i=Rb(r);re(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Cu(ob(i.auth_time)),issuedAtTime:Cu(ob(i.iat)),expirationTime:Cu(ob(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function ob(n){return Number(n)*1e3}function Rb(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return _p("JWT malformed, contained fewer than 3 sections"),null;try{let i=lp(t);return i?JSON.parse(i):(_p("Failed to decode base64 JWT payload"),null)}catch(i){return _p("Caught error parsing JWT payload as JSON",i?.toString()),null}}function W1(n){let e=Rb(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ja(n,e,t=!1){return b(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Nn&&L4(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function L4({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var db=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),t)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Tu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cu(this.lastLoginAt),this.creationTime=Cu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Tp(n){return b(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Ja(n,Dp(t,{idToken:r}));re(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?dM(o.providerUserInfo):[],a=V4(n.providerData,s),l=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,f=l?u:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Tu(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(n,g)})}function Pb(n){return b(this,null,function*(){let e=Ze(n);yield Tp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function V4(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function dM(n){return n.map(e=>{var{providerId:t}=e,r=oy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function j4(n,e){return b(this,null,function*(){let t=yield lM(n,{},()=>b(null,null,function*(){let r=yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield uM(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:r};return n.emulatorConfig&&uo(n.emulatorConfig.host)&&(l.credentials="include"),Cp.fetch()(s,l)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function U4(n,e){return b(this,null,function*(){return jr(n,"POST","/v2/accounts:revokeToken",Ii(n,e))})}var Du=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){re(e.length!==0,"internal-error");let t=W1(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return b(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return b(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield j4(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(re(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(re(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ei("not implemented")}};function yo(n,e){re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var vo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=oy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new db(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let t=yield Ja(this,this.stsTokenManager.getToken(this.auth,e));return re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Mb(this,e)}reload(){return Pb(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return b(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Tp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(dn(this.auth.app))return Promise.reject(Fr(this.auth));let e=yield this.getIdToken();return yield Ja(this,F4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,u,f;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,E=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,M=(s=t.photoURL)!==null&&s!==void 0?s:void 0,F=(a=t.tenantId)!==null&&a!==void 0?a:void 0,O=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,q=(u=t.createdAt)!==null&&u!==void 0?u:void 0,oe=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:de,emailVerified:$e,isAnonymous:nn,providerData:Ve,stsTokenManager:S}=t;re(de&&S,e,"internal-error");let I=Du.fromJSON(this.name,S);re(typeof de=="string",e,"internal-error"),yo(g,e.name),yo(v,e.name),re(typeof $e=="boolean",e,"internal-error"),re(typeof nn=="boolean",e,"internal-error"),yo(E,e.name),yo(M,e.name),yo(F,e.name),yo(O,e.name),yo(q,e.name),yo(oe,e.name);let D=new n({uid:de,auth:e,email:v,emailVerified:$e,displayName:g,isAnonymous:nn,photoURL:M,phoneNumber:E,tenantId:F,stsTokenManager:I,createdAt:q,lastLoginAt:oe});return Ve&&Array.isArray(Ve)&&(D.providerData=Ve.map(T=>Object.assign({},T))),O&&(D._redirectEventId=O),D}static _fromIdTokenResponse(e,t,r=!1){return b(this,null,function*(){let i=new Du;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Tp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return b(this,null,function*(){let i=t.users[0];re(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?dM(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Du;a.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Tu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,u),l})}};var G1=new Map;function wi(n){_o(n instanceof Function,"Expected a class definition");let e=G1.get(n);return e?(_o(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,G1.set(n,e),e)}var B4=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(t,r){return b(this,null,function*(){this.storage[t]=r})}_get(t){return b(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return b(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),fb=B4;function bp(n,e,t){return`firebase:${n}:${e}:${t}`}var Sp=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=bp(this.userKey,i.apiKey,o),this.fullPersistenceKey=bp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Dp(this.auth,{idToken:e}).catch(()=>{});return t?vo._fromGetAccountInfoResponse(this.auth,t,e):null}return vo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return b(this,null,function*(){if(!t.length)return new n(wi(fb),e,r);let i=(yield Promise.all(t.map(u=>b(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||wi(fb),s=bp(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let f=yield u._get(s);if(f){let g;if(typeof f=="string"){let v=yield Dp(e,{idToken:f}).catch(()=>{});if(!v)break;g=yield vo._fromGetAccountInfoResponse(e,v,f)}else g=vo._fromJSON(e,f);u!==o&&(a=g),o=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>b(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function J1(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mM(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fM(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yM(e))return"Blackberry";if(vM(e))return"Webos";if(hM(e))return"Safari";if((e.includes("chrome/")||pM(e))&&!e.includes("edge/"))return"Chrome";if(gM(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function fM(n=Nt()){return/firefox\//i.test(n)}function hM(n=Nt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pM(n=Nt()){return/crios\//i.test(n)}function mM(n=Nt()){return/iemobile/i.test(n)}function gM(n=Nt()){return/android/i.test(n)}function yM(n=Nt()){return/blackberry/i.test(n)}function vM(n=Nt()){return/webos/i.test(n)}function Nb(n=Nt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $4(n=Nt()){var e;return Nb(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function H4(){return u1()&&document.documentMode===10}function _M(n=Nt()){return Nb(n)||gM(n)||vM(n)||yM(n)||/windows phone/i.test(n)||mM(n)}function bM(n,e=[]){let t;switch(n){case"Browser":t=J1(Nt());break;case"Worker":t=`${J1(Nt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ho}/${r}`}var hb=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function z4(t){return b(this,arguments,function*(n,e={}){return jr(n,"GET","/v2/passwordPolicy",Ii(n,e))})}var q4=6,pb=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:q4,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var mb=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ap(this),this.idTokenSubscription=new Ap(this),this.beforeStateQueue=new hb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aM,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=wi(t)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Sp.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let t=yield Dp(this,{idToken:e}),r=yield vo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var t;if(dn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return b(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield Tp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=M4()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(dn(this.app))return Promise.reject(Fr(this));let t=e?Ze(e):null;return t&&re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return b(this,null,function*(){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return dn(this.app)?Promise.reject(Fr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return dn(this.app)?Promise.reject(Fr(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(wi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield z4(this),t=new pb(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield U4(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return b(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&wi(e)||this._popupRedirectResolver;re(t,this,"argument-error"),this.redirectPersistenceManager=yield Sp.create(this,[wi(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return b(this,null,function*(){var e;if(dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&S4(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function bo(n){return Ze(n)}var Ap=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=p1(t=>this.observer=t)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Fp={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W4(n){Fp=n}function EM(n){return Fp.loadJS(n)}function G4(){return Fp.recaptchaEnterpriseScript}function J4(){return Fp.gapiScript}function wM(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var gb=class{constructor(){this.enterprise=new yb}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},yb=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var K4="recaptcha-enterprise",IM="NO_RECAPTCHA",vb=class{constructor(e){this.type=K4,this.auth=bo(e)}verify(e="verify",t=!1){return b(this,null,function*(){function r(o){return b(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>b(null,null,function*(){O4(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new ub(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})}))})}function i(o,s,a){let l=window.grecaptcha;q1(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(IM)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new gb().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&q1(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=G4();l.length!==0&&(l+=a),EM(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function Iu(n,e,t,r=!1,i=!1){return b(this,null,function*(){let o=new vb(n),s;if(i)s=IM;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function xp(n,e,t,r,i){return b(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Iu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>b(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield Iu(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Iu(n,e,t);return r(n,a).catch(l=>b(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let f=yield Iu(n,e,t,!1,!0);return r(n,f)}return Promise.reject(l)}))}else{let a=yield Iu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function kb(n,e){let t=za(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Gn(o,e??{}))return i;Vr(i,"already-initialized")}return t.initialize({options:e})}function Q4(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(wi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ob(n,e,t){let r=bo(n);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=CM(e),{host:s,port:a}=Y4(e),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},f=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(Gn(u,r.config.emulator)&&Gn(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,uo(s)?(dp(`${o}//${s}${l}`),fp("Auth",!0)):i||Z4()}function CM(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Y4(n){let e=CM(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:K1(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:K1(s)}}}function K1(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Z4(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Su=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ei("not implemented")}_getIdTokenResponse(e){return Ei("not implemented")}_linkToIdToken(e,t){return Ei("not implemented")}_getReauthenticationResolver(e){return Ei("not implemented")}};function X4(n,e){return b(this,null,function*(){return jr(n,"POST","/v1/accounts:update",e)})}function e$(n,e){return b(this,null,function*(){return jr(n,"POST","/v1/accounts:signUp",e)})}function t$(n,e){return b(this,null,function*(){return Mu(n,"POST","/v1/accounts:signInWithPassword",Ii(n,e))})}function n$(n,e){return b(this,null,function*(){return jr(n,"POST","/v1/accounts:sendOobCode",Ii(n,e))})}function r$(n,e){return b(this,null,function*(){return n$(n,e)})}function i$(n,e){return b(this,null,function*(){return Mu(n,"POST","/v1/accounts:signInWithEmailLink",Ii(n,e))})}function o$(n,e){return b(this,null,function*(){return Mu(n,"POST","/v1/accounts:signInWithEmailLink",Ii(n,e))})}var Au=class n extends Su{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return b(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xp(e,t,"signInWithPassword",t$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return i$(e,{email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}})}_linkToIdToken(e,t){return b(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xp(e,r,"signUpPassword",e$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return o$(e,{idToken:t,email:this._email,oobCode:this._password});default:Vr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function sb(n,e){return b(this,null,function*(){return Mu(n,"POST","/v1/accounts:signInWithIdp",Ii(n,e))})}function s$(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function a$(n){let e=$a(Ha(n)).link,t=e?$a(Ha(e)).deep_link_id:null,r=$a(Ha(n)).deep_link_id;return(r?$a(Ha(r)).link:null)||r||t||e||n}var Mp=class n{constructor(e){var t,r,i,o,s,a;let l=$a(Ha(e)),u=(t=l.apiKey)!==null&&t!==void 0?t:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,g=s$((i=l.mode)!==null&&i!==void 0?i:null);re(u&&f&&g,"argument-error"),this.apiKey=u,this.operation=g,this.code=f,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=a$(e);try{return new n(t)}catch{return null}}};var DM=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Au._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Mp.parseLink(r);return re(i,"argument-error"),Au._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Rp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var _b=class extends Rp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function c$(n,e){return b(this,null,function*(){return Mu(n,"POST","/v1/accounts:signUp",Ii(n,e))})}var Ka=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return b(this,null,function*(){let o=yield vo._fromIdTokenResponse(e,r,i),s=Q1(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return b(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Q1(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function Q1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var bb=class n extends Nn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function TM(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?bb._fromErrorAndOperation(n,o,e,r):o})}function l$(n,e,t=!1){return b(this,null,function*(){let r=yield Ja(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ka._forOperation(n,"link",r)})}function u$(n,e,t=!1){return b(this,null,function*(){let{auth:r}=n;if(dn(r.app))return Promise.reject(Fr(r));let i="reauthenticate";try{let o=yield Ja(n,TM(r,i,e,n),t);re(o.idToken,r,"internal-error");let s=Rb(o.idToken);re(s,r,"internal-error");let{sub:a}=s;return re(n.uid===a,r,"user-mismatch"),Ka._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Vr(r,"user-mismatch"),o}})}function SM(n,e,t=!1){return b(this,null,function*(){if(dn(n.app))return Promise.reject(Fr(n));let r="signIn",i=yield TM(n,r,e),o=yield Ka._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function Fb(n,e){return b(this,null,function*(){return SM(bo(n),e)})}function d$(n,e,t){var r;re(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),re(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),re(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(re(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(re(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function AM(n){return b(this,null,function*(){let e=bo(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Lb(n,e,t){return b(this,null,function*(){let r=bo(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&d$(r,i,t),yield xp(r,i,"getOobCode",r$,"EMAIL_PASSWORD_PROVIDER")})}function Vb(n,e,t){return b(this,null,function*(){if(dn(n.app))return Promise.reject(Fr(n));let r=bo(n),s=yield xp(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",c$,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&AM(n),l}),a=yield Ka._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function jb(n,e,t){return dn(n.app)?Promise.reject(Fr(n)):Fb(Ze(n),DM.credential(e,t)).catch(r=>b(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&AM(n),r}))}function Ub(n,e){let t=Ze(n);return dn(t.auth.app)?Promise.reject(Fr(t.auth)):xM(t,e,null)}function Bb(n,e){return xM(Ze(n),null,e)}function xM(n,e,t){return b(this,null,function*(){let{auth:r}=n,o={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);let s=yield Ja(n,X4(r,o));yield n._updateTokensIfNecessary(s,!0)})}function Lp(n,e){return Ze(n).setPersistence(e)}function $b(n,e,t,r){return Ze(n).onIdTokenChanged(e,t,r)}function Hb(n,e,t){return Ze(n).beforeAuthStateChanged(e,t)}function zb(n,e,t,r){return Ze(n).onAuthStateChanged(e,t,r)}function qb(n){return Ze(n).signOut()}var Pp="__sak";var Np=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pp,"1"),this.storage.removeItem(Pp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var f$=1e3,h$=10,p$=(()=>{class n extends Np{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_M(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);H4()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,h$):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},f$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return b(this,null,function*(){yield Li(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return b(this,null,function*(){let r=yield Li(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return b(this,null,function*(){yield Li(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Vp=p$;var m$=(()=>{class n extends Np{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Wb=m$;function g$(n){return Promise.all(n.map(e=>b(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var y$=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return b(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let l=Array.from(a).map(f=>b(this,null,function*(){return f(r.origin,s)})),u=yield g$(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function MM(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Eb=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return b(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let u=MM("",20);i.port1.start();let f=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){let v=g;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(v.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Lr(){return window}function v$(n){Lr().location.href=n}function RM(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}function _$(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function b$(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function E$(){return RM()?self:null}var PM="firebaseLocalStorageDb",w$=1,kp="firebaseLocalStorage",NM="fbase_key",Cs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function jp(n,e){return n.transaction([kp],e?"readwrite":"readonly").objectStore(kp)}function I$(){let n=indexedDB.deleteDatabase(PM);return new Cs(n).toPromise()}function wb(){let n=indexedDB.open(PM,w$);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(kp,{keyPath:NM})}catch(i){t(i)}}),n.addEventListener("success",()=>b(null,null,function*(){let r=n.result;r.objectStoreNames.contains(kp)?e(r):(r.close(),yield I$(),e(yield wb()))}))})}function Y1(n,e,t){return b(this,null,function*(){let r=jp(n,!0).put({[NM]:e,value:t});return new Cs(r).toPromise()})}function C$(n,e){return b(this,null,function*(){let t=jp(n,!1).get(e),r=yield new Cs(t).toPromise();return r===void 0?null:r.value})}function Z1(n,e){let t=jp(n,!0).delete(e);return new Cs(t).toPromise()}var D$=800,T$=3,S$=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield wb(),this.db)})}_withRetries(t){return b(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>T$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return RM()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=y$._getInstance(E$()),this.receiver._subscribe("keyChanged",(t,r)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var t,r;if(this.activeServiceWorker=yield _$(),!this.activeServiceWorker)return;this.sender=new Eb(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||b$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let t=yield wb();return yield Y1(t,Pp,"1"),yield Z1(t,Pp),!0}catch{}return!1})}_withPendingWrite(t){return b(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(i=>Y1(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return b(this,null,function*(){let r=yield this._withRetries(i=>C$(i,t));return this.localCache[t]=r,r})}_remove(t){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>Z1(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return b(this,null,function*(){let t=yield this._withRetries(o=>{let s=jp(o,!1).getAll();return new Cs(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),D$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),kM=S$;var Tce=wM("rcb"),Sce=new Is(3e4,6e4);function A$(n,e){return e?wi(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var xu=class extends Su{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sb(e,this._buildIdpRequest())}_linkToIdToken(e,t){return sb(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return sb(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function x$(n){return SM(n.auth,new xu(n),n.bypassAuthState)}function M$(n){let{auth:e,user:t}=n;return re(t,e,"internal-error"),u$(t,new xu(n),n.bypassAuthState)}function R$(n){return b(this,null,function*(){let{auth:e,user:t}=n;return re(t,e,"internal-error"),l$(t,new xu(n),n.bypassAuthState)})}var Ib=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>b(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return b(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return x$;case"linkViaPopup":case"linkViaRedirect":return R$;case"reauthViaPopup":case"reauthViaRedirect":return M$;default:Vr(this.auth,"internal-error")}}resolve(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ace=new Is(2e3,1e4);var P$="pendingRedirect",Ep=new Map,Cb=class n extends Ib{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return b(this,null,function*(){let e=Ep.get(this.auth._key());if(!e){try{let r=(yield N$(this.resolver,this.auth))?yield Li(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ep.set(this.auth._key(),e)}return this.bypassAuthState||Ep.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return b(this,null,function*(){if(e.type==="signInViaRedirect")return Li(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Li(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function N$(n,e){return b(this,null,function*(){let t=F$(e),r=O$(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function k$(n,e){Ep.set(n._key(),e)}function O$(n){return wi(n._redirectPersistence)}function F$(n){return bp(P$,n.config.apiKey,n.name)}function L$(n,e,t=!1){return b(this,null,function*(){if(dn(n.app))return Promise.reject(Fr(n));let r=bo(n),i=A$(r,e),s=yield new Cb(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var V$=600*1e3,Db=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!j$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!OM(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ws(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=V$&&this.cachedEventUids.clear(),this.cachedEventUids.has(X1(e))}saveEventToCache(e){this.cachedEventUids.add(X1(e)),this.lastProcessedEventTime=Date.now()}};function X1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function OM({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function j$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OM(n);default:return!1}}function U$(t){return b(this,arguments,function*(n,e={}){return jr(n,"GET","/v1/projects",e)})}var B$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$$=/^https?/;function H$(n){return b(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield U$(n);for(let t of e)try{if(z$(t))return}catch{}Vr(n,"unauthorized-domain")})}function z$(n){let e=cb(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!$$.test(t))return!1;if(B$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var q$=new Is(3e4,6e4);function eM(){let n=Lr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function W$(n){return new Promise((e,t)=>{var r,i,o;function s(){eM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eM(),t(ws(n,"network-request-failed"))},timeout:q$.get()})}if(!((i=(r=Lr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Lr().gapi)===null||o===void 0)&&o.load)s();else{let a=wM("iframefcb");return Lr()[a]=()=>{gapi.load?s():t(ws(n,"network-request-failed"))},EM(`${J4()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw wp=null,e})}var wp=null;function G$(n){return wp=wp||W$(n),wp}var J$=new Is(5e3,15e3),K$="__/auth/iframe",Q$="emulator/auth/iframe",Y$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function X$(n){let e=n.config;re(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?xb(e,Q$):`https://${n.config.authDomain}/${K$}`,r={apiKey:e.apiKey,appName:n.name,v:ho},i=Z$.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${yu(r).slice(1)}`}function e5(n){return b(this,null,function*(){let e=yield G$(n),t=Lr().gapi;return re(t,n,"internal-error"),e.open({where:document.body,url:X$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y$,dontclear:!0},r=>new Promise((i,o)=>b(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ws(n,"network-request-failed"),a=Lr().setTimeout(()=>{o(s)},J$.get());function l(){Lr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})})))})}var t5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},n5=500,r5=600,i5="_blank",o5="http://localhost",Op=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function s5(n,e,t,r=n5,i=r5){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},t5),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Nt().toLowerCase();t&&(a=pM(u)?i5:t),fM(u)&&(e=e||o5,l.scrollbars="yes");let f=Object.entries(l).reduce((v,[E,M])=>`${v}${E}=${M},`,"");if($4(u)&&a!=="_self")return a5(e||"",a),new Op(null);let g=window.open(e||"",a,f);re(g,n,"popup-blocked");try{g.focus()}catch{}return new Op(g)}function a5(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var c5="__/auth/handler",l5="emulator/auth/handler",u5=encodeURIComponent("fac");function tM(n,e,t,r,i,o){return b(this,null,function*(){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:ho,eventId:i};if(e instanceof Rp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",h1(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(o||{}))s[f]=g}if(e instanceof _b){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(s.scopes=f.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let f of Object.keys(a))a[f]===void 0&&delete a[f];let l=yield n._getAppCheckToken(),u=l?`#${u5}=${encodeURIComponent(l)}`:"";return`${d5(n)}?${yu(a).slice(1)}${u}`})}function d5({config:n}){return n.emulator?xb(n,l5):`https://${n.authDomain}/${c5}`}var ab="webStorageSupport",Tb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Wb,this._completeRedirectFn=L$,this._overrideRedirectResult=k$}_openPopup(e,t,r,i){return b(this,null,function*(){var o;_o((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield tM(e,t,r,cb(),i);return s5(e,s,MM())})}_openRedirect(e,t,r,i){return b(this,null,function*(){yield this._originValidation(e);let o=yield tM(e,t,r,cb(),i);return v$(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(_o(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return b(this,null,function*(){let t=yield e5(e),r=new Db(e);return t.register("authEvent",i=>(re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ab,{type:ab},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[ab];s!==void 0&&t(!!s),Vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=H$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return _M()||hM()||Nb()}},FM=Tb;var nM="@firebase/auth",rM="1.10.8";var Sb=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function f5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h5(n){pr(new un("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;re(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bM(n)},u=new mb(r,i,o,l);return Q4(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),pr(new un("auth-internal",e=>{let t=bo(e.getProvider("auth").getImmediate());return(r=>new Sb(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ut(nM,rM,f5(n)),ut(nM,rM,"esm2017")}var p5=300,m5=F0("authIdTokenMaxAge")||p5,iM=null,g5=n=>e=>b(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>m5)return;let i=t?.token;iM!==i&&(iM=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Gb(n=_s()){let e=za(n,"auth");if(e.isInitialized())return e.getImmediate();let t=kb(n,{popupRedirectResolver:FM,persistence:[kM,Vp,Wb]}),r=F0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=g5(o.toString());Hb(t,s,()=>s(t.currentUser)),$b(t,a=>s(a))}}let i=k0("auth");return i&&Ob(t,`http://${i}`),t}function y5(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}W4({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ws("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",y5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h5("Browser");var LM="auth",Ci=class{constructor(e){return e}},Ru=class{constructor(){return Wa(LM)}};var Jb=new Z("angularfire2.auth-instances");function tH(n,e){let t=bu(LM,n,e);return t&&new Ci(t)}function nH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ci(r)}}var rH={provide:Ru,deps:[[new An,Jb]]},iH={provide:Ci,useFactory:tH,deps:[[new An,Jb],bi]};function VM(n,...e){return ut("angularfire",po.full,"auth"),yn([iH,rH,{provide:Jb,useFactory:nH(n),multi:!0,deps:[ke,at,mo,Es,[new An,Ga],...e]}])}var Up=Xe(Vb,!0,2);var jM=Xe(Gb,!0);var UM=Xe(zb,!0);var BM=Xe(Lb,!0,2);var $M=Xe(jb,!0,2);var HM=Xe(qb,!0,2);var zM=Xe(Ub,!0,2),qM=Xe(Bb,!0,2);var WM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},GM={};var Di,Kb;(function(){var n;function e(S,I){function D(){}D.prototype=I.prototype,S.D=I.prototype,S.prototype=new D,S.prototype.constructor=S,S.C=function(T,A,N){for(var C=Array(arguments.length-2),Kr=2;Kr<arguments.length;Kr++)C[Kr-2]=arguments[Kr];return I.prototype[A].apply(T,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,I,D){D||(D=0);var T=Array(16);if(typeof I=="string")for(var A=0;16>A;++A)T[A]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(A=0;16>A;++A)T[A]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;I=S.g[0],D=S.g[1],A=S.g[2];var N=S.g[3],C=I+(N^D&(A^N))+T[0]+3614090360&4294967295;I=D+(C<<7&4294967295|C>>>25),C=N+(A^I&(D^A))+T[1]+3905402710&4294967295,N=I+(C<<12&4294967295|C>>>20),C=A+(D^N&(I^D))+T[2]+606105819&4294967295,A=N+(C<<17&4294967295|C>>>15),C=D+(I^A&(N^I))+T[3]+3250441966&4294967295,D=A+(C<<22&4294967295|C>>>10),C=I+(N^D&(A^N))+T[4]+4118548399&4294967295,I=D+(C<<7&4294967295|C>>>25),C=N+(A^I&(D^A))+T[5]+1200080426&4294967295,N=I+(C<<12&4294967295|C>>>20),C=A+(D^N&(I^D))+T[6]+2821735955&4294967295,A=N+(C<<17&4294967295|C>>>15),C=D+(I^A&(N^I))+T[7]+4249261313&4294967295,D=A+(C<<22&4294967295|C>>>10),C=I+(N^D&(A^N))+T[8]+1770035416&4294967295,I=D+(C<<7&4294967295|C>>>25),C=N+(A^I&(D^A))+T[9]+2336552879&4294967295,N=I+(C<<12&4294967295|C>>>20),C=A+(D^N&(I^D))+T[10]+4294925233&4294967295,A=N+(C<<17&4294967295|C>>>15),C=D+(I^A&(N^I))+T[11]+2304563134&4294967295,D=A+(C<<22&4294967295|C>>>10),C=I+(N^D&(A^N))+T[12]+1804603682&4294967295,I=D+(C<<7&4294967295|C>>>25),C=N+(A^I&(D^A))+T[13]+4254626195&4294967295,N=I+(C<<12&4294967295|C>>>20),C=A+(D^N&(I^D))+T[14]+2792965006&4294967295,A=N+(C<<17&4294967295|C>>>15),C=D+(I^A&(N^I))+T[15]+1236535329&4294967295,D=A+(C<<22&4294967295|C>>>10),C=I+(A^N&(D^A))+T[1]+4129170786&4294967295,I=D+(C<<5&4294967295|C>>>27),C=N+(D^A&(I^D))+T[6]+3225465664&4294967295,N=I+(C<<9&4294967295|C>>>23),C=A+(I^D&(N^I))+T[11]+643717713&4294967295,A=N+(C<<14&4294967295|C>>>18),C=D+(N^I&(A^N))+T[0]+3921069994&4294967295,D=A+(C<<20&4294967295|C>>>12),C=I+(A^N&(D^A))+T[5]+3593408605&4294967295,I=D+(C<<5&4294967295|C>>>27),C=N+(D^A&(I^D))+T[10]+38016083&4294967295,N=I+(C<<9&4294967295|C>>>23),C=A+(I^D&(N^I))+T[15]+3634488961&4294967295,A=N+(C<<14&4294967295|C>>>18),C=D+(N^I&(A^N))+T[4]+3889429448&4294967295,D=A+(C<<20&4294967295|C>>>12),C=I+(A^N&(D^A))+T[9]+568446438&4294967295,I=D+(C<<5&4294967295|C>>>27),C=N+(D^A&(I^D))+T[14]+3275163606&4294967295,N=I+(C<<9&4294967295|C>>>23),C=A+(I^D&(N^I))+T[3]+4107603335&4294967295,A=N+(C<<14&4294967295|C>>>18),C=D+(N^I&(A^N))+T[8]+1163531501&4294967295,D=A+(C<<20&4294967295|C>>>12),C=I+(A^N&(D^A))+T[13]+2850285829&4294967295,I=D+(C<<5&4294967295|C>>>27),C=N+(D^A&(I^D))+T[2]+4243563512&4294967295,N=I+(C<<9&4294967295|C>>>23),C=A+(I^D&(N^I))+T[7]+1735328473&4294967295,A=N+(C<<14&4294967295|C>>>18),C=D+(N^I&(A^N))+T[12]+2368359562&4294967295,D=A+(C<<20&4294967295|C>>>12),C=I+(D^A^N)+T[5]+4294588738&4294967295,I=D+(C<<4&4294967295|C>>>28),C=N+(I^D^A)+T[8]+2272392833&4294967295,N=I+(C<<11&4294967295|C>>>21),C=A+(N^I^D)+T[11]+1839030562&4294967295,A=N+(C<<16&4294967295|C>>>16),C=D+(A^N^I)+T[14]+4259657740&4294967295,D=A+(C<<23&4294967295|C>>>9),C=I+(D^A^N)+T[1]+2763975236&4294967295,I=D+(C<<4&4294967295|C>>>28),C=N+(I^D^A)+T[4]+1272893353&4294967295,N=I+(C<<11&4294967295|C>>>21),C=A+(N^I^D)+T[7]+4139469664&4294967295,A=N+(C<<16&4294967295|C>>>16),C=D+(A^N^I)+T[10]+3200236656&4294967295,D=A+(C<<23&4294967295|C>>>9),C=I+(D^A^N)+T[13]+681279174&4294967295,I=D+(C<<4&4294967295|C>>>28),C=N+(I^D^A)+T[0]+3936430074&4294967295,N=I+(C<<11&4294967295|C>>>21),C=A+(N^I^D)+T[3]+3572445317&4294967295,A=N+(C<<16&4294967295|C>>>16),C=D+(A^N^I)+T[6]+76029189&4294967295,D=A+(C<<23&4294967295|C>>>9),C=I+(D^A^N)+T[9]+3654602809&4294967295,I=D+(C<<4&4294967295|C>>>28),C=N+(I^D^A)+T[12]+3873151461&4294967295,N=I+(C<<11&4294967295|C>>>21),C=A+(N^I^D)+T[15]+530742520&4294967295,A=N+(C<<16&4294967295|C>>>16),C=D+(A^N^I)+T[2]+3299628645&4294967295,D=A+(C<<23&4294967295|C>>>9),C=I+(A^(D|~N))+T[0]+4096336452&4294967295,I=D+(C<<6&4294967295|C>>>26),C=N+(D^(I|~A))+T[7]+1126891415&4294967295,N=I+(C<<10&4294967295|C>>>22),C=A+(I^(N|~D))+T[14]+2878612391&4294967295,A=N+(C<<15&4294967295|C>>>17),C=D+(N^(A|~I))+T[5]+4237533241&4294967295,D=A+(C<<21&4294967295|C>>>11),C=I+(A^(D|~N))+T[12]+1700485571&4294967295,I=D+(C<<6&4294967295|C>>>26),C=N+(D^(I|~A))+T[3]+2399980690&4294967295,N=I+(C<<10&4294967295|C>>>22),C=A+(I^(N|~D))+T[10]+4293915773&4294967295,A=N+(C<<15&4294967295|C>>>17),C=D+(N^(A|~I))+T[1]+2240044497&4294967295,D=A+(C<<21&4294967295|C>>>11),C=I+(A^(D|~N))+T[8]+1873313359&4294967295,I=D+(C<<6&4294967295|C>>>26),C=N+(D^(I|~A))+T[15]+4264355552&4294967295,N=I+(C<<10&4294967295|C>>>22),C=A+(I^(N|~D))+T[6]+2734768916&4294967295,A=N+(C<<15&4294967295|C>>>17),C=D+(N^(A|~I))+T[13]+1309151649&4294967295,D=A+(C<<21&4294967295|C>>>11),C=I+(A^(D|~N))+T[4]+4149444226&4294967295,I=D+(C<<6&4294967295|C>>>26),C=N+(D^(I|~A))+T[11]+3174756917&4294967295,N=I+(C<<10&4294967295|C>>>22),C=A+(I^(N|~D))+T[2]+718787259&4294967295,A=N+(C<<15&4294967295|C>>>17),C=D+(N^(A|~I))+T[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(A+(C<<21&4294967295|C>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+N&4294967295}r.prototype.u=function(S,I){I===void 0&&(I=S.length);for(var D=I-this.blockSize,T=this.B,A=this.h,N=0;N<I;){if(A==0)for(;N<=D;)i(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<I;)if(T[A++]=S.charCodeAt(N++),A==this.blockSize){i(this,T),A=0;break}}else for(;N<I;)if(T[A++]=S[N++],A==this.blockSize){i(this,T),A=0;break}}this.h=A,this.o+=I},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;var D=8*this.o;for(I=S.length-8;I<S.length;++I)S[I]=D&255,D/=256;for(this.u(S),S=Array(16),I=D=0;4>I;++I)for(var T=0;32>T;T+=8)S[D++]=this.g[I]>>>T&255;return S};function o(S,I){var D=a;return Object.prototype.hasOwnProperty.call(D,S)?D[S]:D[S]=I(S)}function s(S,I){this.h=I;for(var D=[],T=!0,A=S.length-1;0<=A;A--){var N=S[A]|0;T&&N==I||(D[A]=N,T=!1)}this.g=D}var a={};function l(S){return-128<=S&&128>S?o(S,function(I){return new s([I|0],0>I?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return g;if(0>S)return O(u(-S));for(var I=[],D=1,T=0;S>=D;T++)I[T]=S/D|0,D*=4294967296;return new s(I,0)}function f(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return O(f(S.substring(1),I));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=u(Math.pow(I,8)),T=g,A=0;A<S.length;A+=8){var N=Math.min(8,S.length-A),C=parseInt(S.substring(A,A+N),I);8>N?(N=u(Math.pow(I,N)),T=T.j(N).add(u(C))):(T=T.j(D),T=T.add(u(C)))}return T}var g=l(0),v=l(1),E=l(16777216);n=s.prototype,n.m=function(){if(F(this))return-O(this).m();for(var S=0,I=1,D=0;D<this.g.length;D++){var T=this.i(D);S+=(0<=T?T:4294967296+T)*I,I*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M(this))return"0";if(F(this))return"-"+O(this).toString(S);for(var I=u(Math.pow(S,6)),D=this,T="";;){var A=$e(D,I).g;D=q(D,A.j(I));var N=((0<D.g.length?D.g[0]:D.h)>>>0).toString(S);if(D=A,M(D))return N+T;for(;6>N.length;)N="0"+N;T=N+T}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function M(S){if(S.h!=0)return!1;for(var I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function F(S){return S.h==-1}n.l=function(S){return S=q(this,S),F(S)?-1:M(S)?0:1};function O(S){for(var I=S.g.length,D=[],T=0;T<I;T++)D[T]=~S.g[T];return new s(D,~S.h).add(v)}n.abs=function(){return F(this)?O(this):this},n.add=function(S){for(var I=Math.max(this.g.length,S.g.length),D=[],T=0,A=0;A<=I;A++){var N=T+(this.i(A)&65535)+(S.i(A)&65535),C=(N>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);T=C>>>16,N&=65535,C&=65535,D[A]=C<<16|N}return new s(D,D[D.length-1]&-2147483648?-1:0)};function q(S,I){return S.add(O(I))}n.j=function(S){if(M(this)||M(S))return g;if(F(this))return F(S)?O(this).j(O(S)):O(O(this).j(S));if(F(S))return O(this.j(O(S)));if(0>this.l(E)&&0>S.l(E))return u(this.m()*S.m());for(var I=this.g.length+S.g.length,D=[],T=0;T<2*I;T++)D[T]=0;for(T=0;T<this.g.length;T++)for(var A=0;A<S.g.length;A++){var N=this.i(T)>>>16,C=this.i(T)&65535,Kr=S.i(A)>>>16,Tc=S.i(A)&65535;D[2*T+2*A]+=C*Tc,oe(D,2*T+2*A),D[2*T+2*A+1]+=N*Tc,oe(D,2*T+2*A+1),D[2*T+2*A+1]+=C*Kr,oe(D,2*T+2*A+1),D[2*T+2*A+2]+=N*Kr,oe(D,2*T+2*A+2)}for(T=0;T<I;T++)D[T]=D[2*T+1]<<16|D[2*T];for(T=I;T<2*I;T++)D[T]=0;return new s(D,0)};function oe(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function de(S,I){this.g=S,this.h=I}function $e(S,I){if(M(I))throw Error("division by zero");if(M(S))return new de(g,g);if(F(S))return I=$e(O(S),I),new de(O(I.g),O(I.h));if(F(I))return I=$e(S,O(I)),new de(O(I.g),I.h);if(30<S.g.length){if(F(S)||F(I))throw Error("slowDivide_ only works with positive integers.");for(var D=v,T=I;0>=T.l(S);)D=nn(D),T=nn(T);var A=Ve(D,1),N=Ve(T,1);for(T=Ve(T,2),D=Ve(D,2);!M(T);){var C=N.add(T);0>=C.l(S)&&(A=A.add(D),N=C),T=Ve(T,1),D=Ve(D,1)}return I=q(S,A.j(I)),new de(A,I)}for(A=g;0<=S.l(I);){for(D=Math.max(1,Math.floor(S.m()/I.m())),T=Math.ceil(Math.log(D)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),N=u(D),C=N.j(I);F(C)||0<C.l(S);)D-=T,N=u(D),C=N.j(I);M(N)&&(N=v),A=A.add(N),S=q(S,C)}return new de(A,S)}n.A=function(S){return $e(this,S).h},n.and=function(S){for(var I=Math.max(this.g.length,S.g.length),D=[],T=0;T<I;T++)D[T]=this.i(T)&S.i(T);return new s(D,this.h&S.h)},n.or=function(S){for(var I=Math.max(this.g.length,S.g.length),D=[],T=0;T<I;T++)D[T]=this.i(T)|S.i(T);return new s(D,this.h|S.h)},n.xor=function(S){for(var I=Math.max(this.g.length,S.g.length),D=[],T=0;T<I;T++)D[T]=this.i(T)^S.i(T);return new s(D,this.h^S.h)};function nn(S){for(var I=S.g.length+1,D=[],T=0;T<I;T++)D[T]=S.i(T)<<1|S.i(T-1)>>>31;return new s(D,S.h)}function Ve(S,I){var D=I>>5;I%=32;for(var T=S.g.length-D,A=[],N=0;N<T;N++)A[N]=0<I?S.i(N+D)>>>I|S.i(N+D+1)<<32-I:S.i(N+D);return new s(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Kb=GM.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=f,Di=GM.Integer=s}).apply(typeof WM<"u"?WM:typeof self<"u"?self:typeof window<"u"?window:{});var Bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ti={};var Qb,oH,Qa,Yb,Pu,$p,Zb,Xb,eE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,h){return c==Array.prototype||c==Object.prototype||(c[d]=h.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bp=="object"&&Bp];for(var d=0;d<c.length;++d){var h=c[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var h=r;c=c.split(".");for(var _=0;_<c.length-1;_++){var R=c[_];if(!(R in h))break e;h=h[R]}c=c[c.length-1],_=h[c],d=d(_),d!=_&&d!=null&&e(h,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var h=0,_=!1,R={next:function(){if(!_&&h<c.length){var k=h++;return{value:d(k,c[k]),done:!1}}return _=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,h){return h})}});var s=s||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function f(c,d,h){return c.call.apply(c.bind,arguments)}function g(c,d,h){if(!c)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,_),c.apply(d,R)}}return function(){return c.apply(d,arguments)}}function v(c,d,h){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,v.apply(null,arguments)}function E(c,d){var h=Array.prototype.slice.call(arguments,1);return function(){var _=h.slice();return _.push.apply(_,arguments),c.apply(this,_)}}function M(c,d){function h(){}h.prototype=d.prototype,c.aa=d.prototype,c.prototype=new h,c.prototype.constructor=c,c.Qb=function(_,R,k){for(var z=Array(arguments.length-2),He=2;He<arguments.length;He++)z[He-2]=arguments[He];return d.prototype[R].apply(_,z)}}function F(c){let d=c.length;if(0<d){let h=Array(d);for(let _=0;_<d;_++)h[_]=c[_];return h}return[]}function O(c,d){for(let h=1;h<arguments.length;h++){let _=arguments[h];if(l(_)){let R=c.length||0,k=_.length||0;c.length=R+k;for(let z=0;z<k;z++)c[R+z]=_[z]}else c.push(_)}}class q{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function oe(c){return/^[\s\xa0]*$/.test(c)}function de(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function $e(c){return $e[" "](c),c}$e[" "]=function(){};var nn=de().indexOf("Gecko")!=-1&&!(de().toLowerCase().indexOf("webkit")!=-1&&de().indexOf("Edge")==-1)&&!(de().indexOf("Trident")!=-1||de().indexOf("MSIE")!=-1)&&de().indexOf("Edge")==-1;function Ve(c,d,h){for(let _ in c)d.call(h,c[_],_,c)}function S(c,d){for(let h in c)d.call(void 0,c[h],h,c)}function I(c){let d={};for(let h in c)d[h]=c[h];return d}let D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,d){let h,_;for(let R=1;R<arguments.length;R++){_=arguments[R];for(h in _)c[h]=_[h];for(let k=0;k<D.length;k++)h=D[k],Object.prototype.hasOwnProperty.call(_,h)&&(c[h]=_[h])}}function A(c){var d=1;c=c.split(":");let h=[];for(;0<d&&c.length;)h.push(c.shift()),d--;return c.length&&h.push(c.join(":")),h}function N(c){a.setTimeout(()=>{throw c},0)}function C(){var c=pg;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Kr{constructor(){this.h=this.g=null}add(d,h){let _=Tc.get();_.set(d,h),this.h?this.h.next=_:this.g=_,this.h=_}}var Tc=new q(()=>new ck,c=>c.reset());class ck{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Sc,Ac=!1,pg=new Kr,SI=()=>{let c=a.Promise.resolve(void 0);Sc=()=>{c.then(lk)}};var lk=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(h){N(h)}var d=Tc;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ac=!1};function Ni(){this.s=this.s,this.C=this.C}Ni.prototype.s=!1,Ni.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ni.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ht(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var uk=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let h=()=>{};a.addEventListener("test",h,d),a.removeEventListener("test",h,d)}catch{}return c})();function xc(c,d){if(Ht.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var h=this.type=c.type,_=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(nn){e:{try{$e(d.nodeName);var R=!0;break e}catch{}R=!1}R||(d=null)}}else h=="mouseover"?d=c.fromElement:h=="mouseout"&&(d=c.toElement);this.relatedTarget=d,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:dk[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xc.aa.h.call(this)}}M(xc,Ht);var dk={2:"touch",3:"pen",4:"mouse"};xc.prototype.h=function(){xc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Mc="closure_listenable_"+(1e6*Math.random()|0),fk=0;function hk(c,d,h,_,R){this.listener=c,this.proxy=null,this.src=d,this.type=h,this.capture=!!_,this.ha=R,this.key=++fk,this.da=this.fa=!1}function ad(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function cd(c){this.src=c,this.g={},this.h=0}cd.prototype.add=function(c,d,h,_,R){var k=c.toString();c=this.g[k],c||(c=this.g[k]=[],this.h++);var z=gg(c,d,_,R);return-1<z?(d=c[z],h||(d.fa=!1)):(d=new hk(d,this.src,k,!!_,R),d.fa=h,c.push(d)),d};function mg(c,d){var h=d.type;if(h in c.g){var _=c.g[h],R=Array.prototype.indexOf.call(_,d,void 0),k;(k=0<=R)&&Array.prototype.splice.call(_,R,1),k&&(ad(d),c.g[h].length==0&&(delete c.g[h],c.h--))}}function gg(c,d,h,_){for(var R=0;R<c.length;++R){var k=c[R];if(!k.da&&k.listener==d&&k.capture==!!h&&k.ha==_)return R}return-1}var yg="closure_lm_"+(1e6*Math.random()|0),vg={};function AI(c,d,h,_,R){if(_&&_.once)return MI(c,d,h,_,R);if(Array.isArray(d)){for(var k=0;k<d.length;k++)AI(c,d[k],h,_,R);return null}return h=wg(h),c&&c[Mc]?c.K(d,h,u(_)?!!_.capture:!!_,R):xI(c,d,h,!1,_,R)}function xI(c,d,h,_,R,k){if(!d)throw Error("Invalid event type");var z=u(R)?!!R.capture:!!R,He=bg(c);if(He||(c[yg]=He=new cd(c)),h=He.add(d,h,_,z,k),h.proxy)return h;if(_=pk(),h.proxy=_,_.src=c,_.listener=h,c.addEventListener)uk||(R=z),R===void 0&&(R=!1),c.addEventListener(d.toString(),_,R);else if(c.attachEvent)c.attachEvent(PI(d.toString()),_);else if(c.addListener&&c.removeListener)c.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return h}function pk(){function c(h){return d.call(c.src,c.listener,h)}let d=mk;return c}function MI(c,d,h,_,R){if(Array.isArray(d)){for(var k=0;k<d.length;k++)MI(c,d[k],h,_,R);return null}return h=wg(h),c&&c[Mc]?c.L(d,h,u(_)?!!_.capture:!!_,R):xI(c,d,h,!0,_,R)}function RI(c,d,h,_,R){if(Array.isArray(d))for(var k=0;k<d.length;k++)RI(c,d[k],h,_,R);else _=u(_)?!!_.capture:!!_,h=wg(h),c&&c[Mc]?(c=c.i,d=String(d).toString(),d in c.g&&(k=c.g[d],h=gg(k,h,_,R),-1<h&&(ad(k[h]),Array.prototype.splice.call(k,h,1),k.length==0&&(delete c.g[d],c.h--)))):c&&(c=bg(c))&&(d=c.g[d.toString()],c=-1,d&&(c=gg(d,h,_,R)),(h=-1<c?d[c]:null)&&_g(h))}function _g(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Mc])mg(d.i,c);else{var h=c.type,_=c.proxy;d.removeEventListener?d.removeEventListener(h,_,c.capture):d.detachEvent?d.detachEvent(PI(h),_):d.addListener&&d.removeListener&&d.removeListener(_),(h=bg(d))?(mg(h,c),h.h==0&&(h.src=null,d[yg]=null)):ad(c)}}}function PI(c){return c in vg?vg[c]:vg[c]="on"+c}function mk(c,d){if(c.da)c=!0;else{d=new xc(d,this);var h=c.listener,_=c.ha||c.src;c.fa&&_g(c),c=h.call(_,d)}return c}function bg(c){return c=c[yg],c instanceof cd?c:null}var Eg="__closure_events_fn_"+(1e9*Math.random()>>>0);function wg(c){return typeof c=="function"?c:(c[Eg]||(c[Eg]=function(d){return c.handleEvent(d)}),c[Eg])}function zt(){Ni.call(this),this.i=new cd(this),this.M=this,this.F=null}M(zt,Ni),zt.prototype[Mc]=!0,zt.prototype.removeEventListener=function(c,d,h,_){RI(this,c,d,h,_)};function rn(c,d){var h,_=c.F;if(_)for(h=[];_;_=_.F)h.push(_);if(c=c.M,_=d.type||d,typeof d=="string")d=new Ht(d,c);else if(d instanceof Ht)d.target=d.target||c;else{var R=d;d=new Ht(_,c),T(d,R)}if(R=!0,h)for(var k=h.length-1;0<=k;k--){var z=d.g=h[k];R=ld(z,_,!0,d)&&R}if(z=d.g=c,R=ld(z,_,!0,d)&&R,R=ld(z,_,!1,d)&&R,h)for(k=0;k<h.length;k++)z=d.g=h[k],R=ld(z,_,!1,d)&&R}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var h=c.g[d],_=0;_<h.length;_++)ad(h[_]);delete c.g[d],c.h--}}this.F=null},zt.prototype.K=function(c,d,h,_){return this.i.add(String(c),d,!1,h,_)},zt.prototype.L=function(c,d,h,_){return this.i.add(String(c),d,!0,h,_)};function ld(c,d,h,_){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var R=!0,k=0;k<d.length;++k){var z=d[k];if(z&&!z.da&&z.capture==h){var He=z.listener,Vt=z.ha||z.src;z.fa&&mg(c.i,z),R=He.call(Vt,_)!==!1&&R}}return R&&!_.defaultPrevented}function NI(c,d,h){if(typeof c=="function")h&&(c=v(c,h));else if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function kI(c){c.g=NI(()=>{c.g=null,c.i&&(c.i=!1,kI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class gk extends Ni{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:kI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rc(c){Ni.call(this),this.h=c,this.g={}}M(Rc,Ni);var OI=[];function FI(c){Ve(c.g,function(d,h){this.g.hasOwnProperty(h)&&_g(d)},c),c.g={}}Rc.prototype.N=function(){Rc.aa.N.call(this),FI(this)},Rc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ig=a.JSON.stringify,yk=a.JSON.parse,vk=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Cg(){}Cg.prototype.h=null;function LI(c){return c.h||(c.h=c.i())}function VI(){}var Pc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dg(){Ht.call(this,"d")}M(Dg,Ht);function Tg(){Ht.call(this,"c")}M(Tg,Ht);var No={},jI=null;function ud(){return jI=jI||new zt}No.La="serverreachability";function UI(c){Ht.call(this,No.La,c)}M(UI,Ht);function Nc(c){let d=ud();rn(d,new UI(d))}No.STAT_EVENT="statevent";function BI(c,d){Ht.call(this,No.STAT_EVENT,c),this.stat=d}M(BI,Ht);function on(c){let d=ud();rn(d,new BI(d,c))}No.Ma="timingevent";function $I(c,d){Ht.call(this,No.Ma,c),this.size=d}M($I,Ht);function kc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Oc(){this.g=!0}Oc.prototype.xa=function(){this.g=!1};function _k(c,d,h,_,R,k){c.info(function(){if(c.g)if(k)for(var z="",He=k.split("&"),Vt=0;Vt<He.length;Vt++){var Ne=He[Vt].split("=");if(1<Ne.length){var qt=Ne[0];Ne=Ne[1];var Wt=qt.split("_");z=2<=Wt.length&&Wt[1]=="type"?z+(qt+"="+Ne+"&"):z+(qt+"=redacted&")}}else z=null;else z=k;return"XMLHTTP REQ ("+_+") [attempt "+R+"]: "+d+`
`+h+`
`+z})}function bk(c,d,h,_,R,k,z){c.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+R+"]: "+d+`
`+h+`
`+k+" "+z})}function $s(c,d,h,_){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+wk(c,h)+(_?" "+_:"")})}function Ek(c,d){c.info(function(){return"TIMEOUT: "+d})}Oc.prototype.info=function(){};function wk(c,d){if(!c.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(c=0;c<h.length;c++)if(Array.isArray(h[c])){var _=h[c];if(!(2>_.length)){var R=_[1];if(Array.isArray(R)&&!(1>R.length)){var k=R[0];if(k!="noop"&&k!="stop"&&k!="close")for(var z=1;z<R.length;z++)R[z]=""}}}}return Ig(h)}catch{return d}}var dd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},HI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sg;function fd(){}M(fd,Cg),fd.prototype.g=function(){return new XMLHttpRequest},fd.prototype.i=function(){return{}},Sg=new fd;function ki(c,d,h,_){this.j=c,this.i=d,this.l=h,this.R=_||1,this.U=new Rc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zI}function zI(){this.i=null,this.g="",this.h=!1}var qI={},Ag={};function xg(c,d,h){c.L=1,c.v=gd(Qr(d)),c.m=h,c.P=!0,WI(c,null)}function WI(c,d){c.F=Date.now(),hd(c),c.A=Qr(c.v);var h=c.A,_=c.R;Array.isArray(_)||(_=[String(_)]),sC(h.i,"t",_),c.C=0,h=c.j.J,c.h=new zI,c.g=CC(c.j,h?d:null,!c.m),0<c.O&&(c.M=new gk(v(c.Y,c,c.g),c.O)),d=c.U,h=c.g,_=c.ca;var R="readystatechange";Array.isArray(R)||(R&&(OI[0]=R.toString()),R=OI);for(var k=0;k<R.length;k++){var z=AI(h,R[k],_||d.handleEvent,!1,d.h||d);if(!z)break;d.g[z.key]=z}d=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Nc(),_k(c.i,c.u,c.A,c.l,c.R,c.m)}ki.prototype.ca=function(c){c=c.target;let d=this.M;d&&Yr(c)==3?d.j():this.Y(c)},ki.prototype.Y=function(c){try{if(c==this.g)e:{let Wt=Yr(this.g);var d=this.g.Ba();let qs=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||hC(this.g)))){this.J||Wt!=4||d==7||(d==8||0>=qs?Nc(3):Nc(2)),Mg(this);var h=this.g.Z();this.X=h;t:if(GI(this)){var _=hC(this.g);c="";var R=_.length,k=Yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ko(this),Fc(this);var z="";break t}this.h.i=new a.TextDecoder}for(d=0;d<R;d++)this.h.h=!0,c+=this.h.i.decode(_[d],{stream:!(k&&d==R-1)});_.length=0,this.h.g+=c,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=h==200,bk(this.i,this.u,this.A,this.l,this.R,Wt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Vt=this.g;if((He=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!oe(He)){var Ne=He;break t}}Ne=null}if(h=Ne)$s(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rg(this,h);else{this.o=!1,this.s=3,on(12),ko(this),Fc(this);break e}}if(this.P){h=!0;let Qn;for(;!this.J&&this.C<z.length;)if(Qn=Ik(this,z),Qn==Ag){Wt==4&&(this.s=4,on(14),h=!1),$s(this.i,this.l,null,"[Incomplete Response]");break}else if(Qn==qI){this.s=4,on(15),$s(this.i,this.l,z,"[Invalid Chunk]"),h=!1;break}else $s(this.i,this.l,Qn,null),Rg(this,Qn);if(GI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||z.length!=0||this.h.h||(this.s=1,on(16),h=!1),this.o=this.o&&h,!h)$s(this.i,this.l,z,"[Invalid Chunked Response]"),ko(this),Fc(this);else if(0<z.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Lg(qt),qt.M=!0,on(11))}}else $s(this.i,this.l,z,null),Rg(this,z);Wt==4&&ko(this),this.o&&!this.J&&(Wt==4?bC(this.j,this):(this.o=!1,hd(this)))}else Uk(this.g),h==400&&0<z.indexOf("Unknown SID")?(this.s=3,on(12)):(this.s=0,on(13)),ko(this),Fc(this)}}}catch{}finally{}};function GI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ik(c,d){var h=c.C,_=d.indexOf(`
`,h);return _==-1?Ag:(h=Number(d.substring(h,_)),isNaN(h)?qI:(_+=1,_+h>d.length?Ag:(d=d.slice(_,_+h),c.C=_+h,d)))}ki.prototype.cancel=function(){this.J=!0,ko(this)};function hd(c){c.S=Date.now()+c.I,JI(c,c.I)}function JI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=kc(v(c.ba,c),d)}function Mg(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ki.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Ek(this.i,this.A),this.L!=2&&(Nc(),on(17)),ko(this),this.s=2,Fc(this)):JI(this,this.S-c)};function Fc(c){c.j.G==0||c.J||bC(c.j,c)}function ko(c){Mg(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,FI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Rg(c,d){try{var h=c.j;if(h.G!=0&&(h.g==c||Pg(h.h,c))){if(!c.K&&Pg(h.h,c)&&h.G==3){try{var _=h.Da.g.parse(d)}catch{_=null}if(Array.isArray(_)&&_.length==3){var R=_;if(R[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<c.F)Ed(h),_d(h);else break e;Fg(h),on(18)}}else h.za=R[1],0<h.za-h.T&&37500>R[2]&&h.F&&h.v==0&&!h.C&&(h.C=kc(v(h.Za,h),6e3));if(1>=YI(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Fo(h,11)}else if((c.K||h.g==c)&&Ed(h),!oe(d))for(R=h.Da.g.parse(d),d=0;d<R.length;d++){let Ne=R[d];if(h.T=Ne[0],Ne=Ne[1],h.G==2)if(Ne[0]=="c"){h.K=Ne[1],h.ia=Ne[2];let qt=Ne[3];qt!=null&&(h.la=qt,h.j.info("VER="+h.la));let Wt=Ne[4];Wt!=null&&(h.Aa=Wt,h.j.info("SVER="+h.Aa));let qs=Ne[5];qs!=null&&typeof qs=="number"&&0<qs&&(_=1.5*qs,h.L=_,h.j.info("backChannelRequestTimeoutMs_="+_)),_=h;let Qn=c.g;if(Qn){let Id=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Id){var k=_.h;k.g||Id.indexOf("spdy")==-1&&Id.indexOf("quic")==-1&&Id.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Ng(k,k.h),k.h=null))}if(_.D){let Vg=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vg&&(_.ya=Vg,Je(_.I,_.D,Vg))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-c.F,h.j.info("Handshake RTT: "+h.R+"ms")),_=h;var z=c;if(_.qa=IC(_,_.J?_.ia:null,_.W),z.K){ZI(_.h,z);var He=z,Vt=_.L;Vt&&(He.I=Vt),He.B&&(Mg(He),hd(He)),_.g=z}else vC(_);0<h.i.length&&bd(h)}else Ne[0]!="stop"&&Ne[0]!="close"||Fo(h,7);else h.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Fo(h,7):Og(h):Ne[0]!="noop"&&h.l&&h.l.ta(Ne),h.v=0)}}Nc(4)}catch{}}var Ck=class{constructor(c,d){this.g=c,this.map=d}};function KI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function QI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function YI(c){return c.h?1:c.g?c.g.size:0}function Pg(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Ng(c,d){c.g?c.g.add(d):c.h=d}function ZI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}KI.prototype.cancel=function(){if(this.i=XI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function XI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let h of c.g.values())d=d.concat(h.D);return d}return F(c.i)}function Dk(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],h=c.length,_=0;_<h;_++)d.push(c[_]);return d}d=[],h=0;for(_ in c)d[h++]=c[_];return d}function Tk(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var h=0;h<c;h++)d.push(h);return d}d=[],h=0;for(let _ in c)d[h++]=_;return d}}}function eC(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var h=Tk(c),_=Dk(c),R=_.length,k=0;k<R;k++)d.call(void 0,_[k],h&&h[k],c)}var tC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sk(c,d){if(c){c=c.split("&");for(var h=0;h<c.length;h++){var _=c[h].indexOf("="),R=null;if(0<=_){var k=c[h].substring(0,_);R=c[h].substring(_+1)}else k=c[h];d(k,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function Oo(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Oo){this.h=c.h,pd(this,c.j),this.o=c.o,this.g=c.g,md(this,c.s),this.l=c.l;var d=c.i,h=new jc;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),nC(this,h),this.m=c.m}else c&&(d=String(c).match(tC))?(this.h=!1,pd(this,d[1]||"",!0),this.o=Lc(d[2]||""),this.g=Lc(d[3]||"",!0),md(this,d[4]),this.l=Lc(d[5]||"",!0),nC(this,d[6]||"",!0),this.m=Lc(d[7]||"")):(this.h=!1,this.i=new jc(null,this.h))}Oo.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Vc(d,rC,!0),":");var h=this.g;return(h||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Vc(d,rC,!0),"@"),c.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&c.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&c.push("/"),c.push(Vc(h,h.charAt(0)=="/"?Mk:xk,!0))),(h=this.i.toString())&&c.push("?",h),(h=this.m)&&c.push("#",Vc(h,Pk)),c.join("")};function Qr(c){return new Oo(c)}function pd(c,d,h){c.j=h?Lc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function md(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function nC(c,d,h){d instanceof jc?(c.i=d,Nk(c.i,c.h)):(h||(d=Vc(d,Rk)),c.i=new jc(d,c.h))}function Je(c,d,h){c.i.set(d,h)}function gd(c){return Je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Lc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Vc(c,d,h){return typeof c=="string"?(c=encodeURI(c).replace(d,Ak),h&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ak(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var rC=/[#\/\?@]/g,xk=/[#\?:]/g,Mk=/[#\?]/g,Rk=/[#\?@]/g,Pk=/#/g;function jc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Oi(c){c.g||(c.g=new Map,c.h=0,c.i&&Sk(c.i,function(d,h){c.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=jc.prototype,n.add=function(c,d){Oi(this),this.i=null,c=Hs(this,c);var h=this.g.get(c);return h||this.g.set(c,h=[]),h.push(d),this.h+=1,this};function iC(c,d){Oi(c),d=Hs(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function oC(c,d){return Oi(c),d=Hs(c,d),c.g.has(d)}n.forEach=function(c,d){Oi(this),this.g.forEach(function(h,_){h.forEach(function(R){c.call(d,R,_,this)},this)},this)},n.na=function(){Oi(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let _=0;_<d.length;_++){let R=c[_];for(let k=0;k<R.length;k++)h.push(d[_])}return h},n.V=function(c){Oi(this);let d=[];if(typeof c=="string")oC(this,c)&&(d=d.concat(this.g.get(Hs(this,c))));else{c=Array.from(this.g.values());for(let h=0;h<c.length;h++)d=d.concat(c[h])}return d},n.set=function(c,d){return Oi(this),this.i=null,c=Hs(this,c),oC(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function sC(c,d,h){iC(c,d),0<h.length&&(c.i=null,c.g.set(Hs(c,d),F(h)),c.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var _=d[h];let k=encodeURIComponent(String(_)),z=this.V(_);for(_=0;_<z.length;_++){var R=k;z[_]!==""&&(R+="="+encodeURIComponent(String(z[_]))),c.push(R)}}return this.i=c.join("&")};function Hs(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Nk(c,d){d&&!c.j&&(Oi(c),c.i=null,c.g.forEach(function(h,_){var R=_.toLowerCase();_!=R&&(iC(this,_),sC(this,R,h))},c)),c.j=d}function kk(c,d){let h=new Oc;if(a.Image){let _=new Image;_.onload=E(Fi,h,"TestLoadImage: loaded",!0,d,_),_.onerror=E(Fi,h,"TestLoadImage: error",!1,d,_),_.onabort=E(Fi,h,"TestLoadImage: abort",!1,d,_),_.ontimeout=E(Fi,h,"TestLoadImage: timeout",!1,d,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=c}else d(!1)}function Ok(c,d){let h=new Oc,_=new AbortController,R=setTimeout(()=>{_.abort(),Fi(h,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:_.signal}).then(k=>{clearTimeout(R),k.ok?Fi(h,"TestPingServer: ok",!0,d):Fi(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(R),Fi(h,"TestPingServer: error",!1,d)})}function Fi(c,d,h,_,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),_(h)}catch{}}function Fk(){this.g=new vk}function Lk(c,d,h){let _=h||"";try{eC(c,function(R,k){let z=R;u(R)&&(z=Ig(R)),d.push(_+k+"="+encodeURIComponent(z))})}catch(R){throw d.push(_+"type="+encodeURIComponent("_badmap")),R}}function Uc(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Uc,Cg),Uc.prototype.g=function(){return new yd(this.l,this.j)},Uc.prototype.i=(function(c){return function(){return c}})({});function yd(c,d){zt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(yd,zt),n=yd.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,$c(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bc(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$c(this)),this.g&&(this.readyState=3,$c(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;aC(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function aC(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Bc(this):$c(this),this.readyState==3&&aC(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Bc(this))},n.Qa=function(c){this.g&&(this.response=c,Bc(this))},n.ga=function(){this.g&&Bc(this)};function Bc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$c(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,c.push(h[0]+": "+h[1]),h=d.next();return c.join(`\r
`)};function $c(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(yd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function cC(c){let d="";return Ve(c,function(h,_){d+=_,d+=":",d+=h,d+=`\r
`}),d}function kg(c,d,h){e:{for(_ in h){var _=!1;break e}_=!0}_||(h=cC(h),typeof c=="string"?h!=null&&encodeURIComponent(String(h)):Je(c,d,h))}function ot(c){zt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(ot,zt);var Vk=/^https?$/i,jk=["POST","PUT"];n=ot.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,h,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sg.g(),this.v=this.o?LI(this.o):LI(Sg),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(k){lC(this,k);return}if(c=h||"",h=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var R in _)h.set(R,_[R]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(let k of _.keys())h.set(k,_.get(k));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(h.keys()).find(k=>k.toLowerCase()=="content-type"),R=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(jk,d,void 0))||_||R||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,z]of h)this.g.setRequestHeader(k,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fC(this),this.u=!0,this.g.send(c),this.u=!1}catch(k){lC(this,k)}};function lC(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,uC(c),vd(c)}function uC(c){c.A||(c.A=!0,rn(c,"complete"),rn(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,rn(this,"complete"),rn(this,"abort"),vd(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vd(this,!0)),ot.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?dC(this):this.bb())},n.bb=function(){dC(this)};function dC(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Yr(c)!=4||c.Z()!=2)){if(c.u&&Yr(c)==4)NI(c.Ea,0,c);else if(rn(c,"readystatechange"),Yr(c)==4){c.h=!1;try{let z=c.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var _;if(_=z===0){var R=String(c.D).match(tC)[1]||null;!R&&a.self&&a.self.location&&(R=a.self.location.protocol.slice(0,-1)),_=!Vk.test(R?R.toLowerCase():"")}h=_}if(h)rn(c,"complete"),rn(c,"success");else{c.m=6;try{var k=2<Yr(c)?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.Z()+"]",uC(c)}}finally{vd(c)}}}}function vd(c,d){if(c.g){fC(c);let h=c.g,_=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||rn(c,"ready");try{h.onreadystatechange=_}catch{}}}function fC(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Yr(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Yr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),yk(d)}};function hC(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Uk(c){let d={};c=(c.g&&2<=Yr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<c.length;_++){if(oe(c[_]))continue;var h=A(c[_]);let R=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let k=d[R]||[];d[R]=k,k.push(h)}S(d,function(_){return _.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hc(c,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[c]||d}function pC(c){this.Aa=0,this.i=[],this.j=new Oc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hc("baseRetryDelayMs",5e3,c),this.cb=Hc("retryDelaySeedMs",1e4,c),this.Wa=Hc("forwardChannelMaxRetries",2,c),this.wa=Hc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new KI(c&&c.concurrentRequestLimit),this.Da=new Fk,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=pC.prototype,n.la=8,n.G=1,n.connect=function(c,d,h,_){on(0),this.W=c,this.H=d||{},h&&_!==void 0&&(this.H.OSID=h,this.H.OAID=_),this.F=this.X,this.I=IC(this,null,this.W),bd(this)};function Og(c){if(mC(c),c.G==3){var d=c.U++,h=Qr(c.I);if(Je(h,"SID",c.K),Je(h,"RID",d),Je(h,"TYPE","terminate"),zc(c,h),d=new ki(c,c.j,d),d.L=2,d.v=gd(Qr(h)),h=!1,a.navigator&&a.navigator.sendBeacon)try{h=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&a.Image&&(new Image().src=d.v,h=!0),h||(d.g=CC(d.j,null),d.g.ea(d.v)),d.F=Date.now(),hd(d)}wC(c)}function _d(c){c.g&&(Lg(c),c.g.cancel(),c.g=null)}function mC(c){_d(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ed(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function bd(c){if(!QI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Sc||SI(),Ac||(Sc(),Ac=!0),pg.add(d,c),c.B=0}}function Bk(c,d){return YI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=kc(v(c.Ga,c,d),EC(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let R=new ki(this,this.j,c),k=this.o;if(this.S&&(k?(k=I(k),T(k,this.S)):k=this.S),this.m!==null||this.O||(R.H=k,k=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var _=this.i[h];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(d+=_,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=yC(this,R,d),h=Qr(this.I),Je(h,"RID",c),Je(h,"CVER",22),this.D&&Je(h,"X-HTTP-Session-Id",this.D),zc(this,h),k&&(this.O?d="headers="+encodeURIComponent(String(cC(k)))+"&"+d:this.m&&kg(h,this.m,k)),Ng(this.h,R),this.Ua&&Je(h,"TYPE","init"),this.P?(Je(h,"$req",d),Je(h,"SID","null"),R.T=!0,xg(R,h,null)):xg(R,h,d),this.G=2}}else this.G==3&&(c?gC(this,c):this.i.length==0||QI(this.h)||gC(this))};function gC(c,d){var h;d?h=d.l:h=c.U++;let _=Qr(c.I);Je(_,"SID",c.K),Je(_,"RID",h),Je(_,"AID",c.T),zc(c,_),c.m&&c.o&&kg(_,c.m,c.o),h=new ki(c,c.j,h,c.B+1),c.m===null&&(h.H=c.o),d&&(c.i=d.D.concat(c.i)),d=yC(c,h,1e3),h.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ng(c.h,h),xg(h,_,d)}function zc(c,d){c.H&&Ve(c.H,function(h,_){Je(d,_,h)}),c.l&&eC({},function(h,_){Je(d,_,h)})}function yC(c,d,h){h=Math.min(c.i.length,h);var _=c.l?v(c.l.Na,c.l,c):null;e:{var R=c.i;let k=-1;for(;;){let z=["count="+h];k==-1?0<h?(k=R[0].g,z.push("ofs="+k)):k=0:z.push("ofs="+k);let He=!0;for(let Vt=0;Vt<h;Vt++){let Ne=R[Vt].g,qt=R[Vt].map;if(Ne-=k,0>Ne)k=Math.max(0,R[Vt].g-100),He=!1;else try{Lk(qt,z,"req"+Ne+"_")}catch{_&&_(qt)}}if(He){_=z.join("&");break e}}}return c=c.i.splice(0,h),d.D=c,_}function vC(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Sc||SI(),Ac||(Sc(),Ac=!0),pg.add(d,c),c.v=0}}function Fg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=kc(v(c.Fa,c),EC(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,_C(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=kc(v(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,on(10),_d(this),_C(this))};function Lg(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function _C(c){c.g=new ki(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Qr(c.qa);Je(d,"RID","rpc"),Je(d,"SID",c.K),Je(d,"AID",c.T),Je(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Je(d,"TO",c.ja),Je(d,"TYPE","xmlhttp"),zc(c,d),c.m&&c.o&&kg(d,c.m,c.o),c.L&&(c.g.I=c.L);var h=c.g;c=c.ia,h.L=1,h.v=gd(Qr(d)),h.m=null,h.P=!0,WI(h,c)}n.Za=function(){this.C!=null&&(this.C=null,_d(this),Fg(this),on(19))};function Ed(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function bC(c,d){var h=null;if(c.g==d){Ed(c),Lg(c),c.g=null;var _=2}else if(Pg(c.h,d))h=d.D,ZI(c.h,d),_=1;else return;if(c.G!=0){if(d.o)if(_==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var R=c.B;_=ud(),rn(_,new $I(_,h)),bd(c)}else vC(c);else if(R=d.s,R==3||R==0&&0<d.X||!(_==1&&Bk(c,d)||_==2&&Fg(c)))switch(h&&0<h.length&&(d=c.h,d.i=d.i.concat(h)),R){case 1:Fo(c,5);break;case 4:Fo(c,10);break;case 3:Fo(c,6);break;default:Fo(c,2)}}}function EC(c,d){let h=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(h*=2),h*d}function Fo(c,d){if(c.j.info("Error code "+d),d==2){var h=v(c.fb,c),_=c.Xa;let R=!_;_=new Oo(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||pd(_,"https"),gd(_),R?kk(_.toString(),h):Ok(_.toString(),h)}else on(2);c.G=0,c.l&&c.l.sa(d),wC(c),mC(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),on(2)):(this.j.info("Failed to ping google.com"),on(1))};function wC(c){if(c.G=0,c.ka=[],c.l){let d=XI(c.h);(d.length!=0||c.i.length!=0)&&(O(c.ka,d),O(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function IC(c,d,h){var _=h instanceof Oo?Qr(h):new Oo(h);if(_.g!="")d&&(_.g=d+"."+_.g),md(_,_.s);else{var R=a.location;_=R.protocol,d=d?d+"."+R.hostname:R.hostname,R=+R.port;var k=new Oo(null);_&&pd(k,_),d&&(k.g=d),R&&md(k,R),h&&(k.l=h),_=k}return h=c.D,d=c.ya,h&&d&&Je(_,h,d),Je(_,"VER",c.la),zc(c,_),_}function CC(c,d,h){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new ot(new Uc({eb:h})):new ot(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function DC(){}n=DC.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function wd(){}wd.prototype.g=function(c,d){return new In(c,d)};function In(c,d){zt.call(this),this.g=new pC(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!oe(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!oe(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new zs(this)}M(In,zt),In.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){Og(this.g)},In.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var h={};h.__data__=c,c=h}else this.u&&(h={},h.__data__=Ig(c),c=h);d.i.push(new Ck(d.Ya++,c)),d.G==3&&bd(d)},In.prototype.N=function(){this.g.l=null,delete this.j,Og(this.g),delete this.g,In.aa.N.call(this)};function TC(c){Dg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let h in d){c=h;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}M(TC,Dg);function SC(){Tg.call(this),this.status=1}M(SC,Tg);function zs(c){this.g=c}M(zs,DC),zs.prototype.ua=function(){rn(this.g,"a")},zs.prototype.ta=function(c){rn(this.g,new TC(c))},zs.prototype.sa=function(c){rn(this.g,new SC)},zs.prototype.ra=function(){rn(this.g,"b")},wd.prototype.createWebChannel=wd.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,eE=Ti.createWebChannelTransport=function(){return new wd},Xb=Ti.getStatEventTarget=function(){return ud()},Zb=Ti.Event=No,$p=Ti.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dd.NO_ERROR=0,dd.TIMEOUT=8,dd.HTTP_ERROR=6,Pu=Ti.ErrorCode=dd,HI.COMPLETE="complete",Yb=Ti.EventType=HI,VI.EventType=Pc,Pc.OPEN="a",Pc.CLOSE="b",Pc.ERROR="c",Pc.MESSAGE="d",zt.prototype.listen=zt.prototype.K,Qa=Ti.WebChannel=VI,oH=Ti.FetchXmlHttpFactory=Uc,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,Qb=Ti.XhrIo=ot}).apply(typeof Bp<"u"?Bp:typeof self<"u"?self:typeof window<"u"?window:{});var JM="@firebase/firestore",KM="4.8.0";var kt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");var _c="11.10.0";var xs=new kr("@firebase/firestore");function Ya(){return xs.logLevel}function Y(n,...e){if(xs.logLevel<=Se.DEBUG){let t=e.map(Hw);xs.debug(`Firestore (${_c}): ${n}`,...t)}}function Si(n,...e){if(xs.logLevel<=Se.ERROR){let t=e.map(Hw);xs.error(`Firestore (${_c}): ${n}`,...t)}}function Do(n,...e){if(xs.logLevel<=Se.WARN){let t=e.map(Hw);xs.warn(`Firestore (${_c}): ${n}`,...t)}}function Hw(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ae(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,UR(n,r,t)}function UR(n,e,t){let r=`FIRESTORE (${_c}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Si(r),new Error(r)}function Le(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||UR(e,i,r)}function me(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=class extends Nn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var gr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Kp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},oE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kt.UNAUTHENTICATED))}shutdown(){}},sE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},aE=class{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Le(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>b(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new Kp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new kt(e)}},cE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},lE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new cE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Qp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},uE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,dn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Le(this.o===void 0,3512);let r=o=>{o.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Le(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Qp(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function sH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function BR(){return new TextEncoder}var Vu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=sH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function De(n,e){return n<e?-1:n>e?1:0}function dE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return De(r,i);{let o=BR(),s=aH(o.encode(QM(n,t)),o.encode(QM(e,t)));return s!==0?s:De(r,i)}}t+=r>65535?2:1}return De(n.length,e.length)}function QM(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function aH(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return De(n[t],e[t]);return De(n.length,e.length)}function oc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var YM="__name__",Yp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ae(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ae(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return De(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):dE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Di.fromString(e.substring(4,e.length-2))}},tt=class n extends Yp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new K(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},cH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,On=class n extends Yp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return cH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YM}static keyField(){return new n([YM])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new K(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new K(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ie=class n{constructor(e){this.path=e}static fromPath(e){return new n(tt.fromString(e))}static fromName(e){return new n(tt.fromString(e).popFirst(5))}static empty(){return new n(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new tt(e.slice()))}};function $R(n,e,t){if(!t)throw new K(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function lH(n,e,t,r){if(e===!0&&r===!0)throw new K(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ZM(n){if(!ie.isDocumentKey(n))throw new K(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function XM(n){if(ie.isDocumentKey(n))throw new K(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function HR(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Pm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ae(12329,{type:typeof n})}function yr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new K(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Pm(n);throw new K(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function At(n,e){let t={typeString:n};return e&&(t.value=e),t}function Ku(n,e){if(!HR(n))throw new K(L.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new K(L.INVALID_ARGUMENT,t);return!0}var eR=-62135596800,tR=1e6,Be=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*tR);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new K(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new K(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<eR)throw new K(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tR}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ku(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-eR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Be._jsonSchemaVersion="firestore/timestamp/1.0",Be._jsonSchema={type:At("string",Be._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};var ye=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Be(0,0))}static max(){return new n(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var ju=-1,fE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};fE.UNKNOWN_ID=-1;function uH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new Be(t+1,0):new Be(t,r));return new Ms(i,ie.empty(),e)}function dH(n){return new Ms(n.readTime,n.key,ju)}var Ms=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ye.min(),ie.empty(),ju)}static max(){return new n(ye.max(),ie.empty(),ju)}};function fH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ie.comparator(n.documentKey,e.documentKey),t!==0?t:De(n.largestBatchId,e.largestBatchId))}var hH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function bc(n){return b(this,null,function*(){if(n.code!==L.FAILED_PRECONDITION||n.message!==hH)throw n;Y("LocalStore","Unexpectedly lost primary lease")})}var $=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;t(e[u]).next(f=>{s[u]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function pH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ec(n){return n.name==="IndexedDbTransactionError"}var zw=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),qw=-1;function Nm(n){return n==null}function Uu(n){return n===0&&1/n==-1/0}function mH(n){return typeof n=="number"&&Number.isInteger(n)&&!Uu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var zR="";function gH(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=nR(e)),e=yH(n.get(t),e);return nR(e)}function yH(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case zR:t+="";break;default:t+=o}}return t}function nR(n){return n+zR+""}var vH="remoteDocuments",qR="owner";var WR="mutationQueues";var GR="mutations";var JR="documentMutations",_H="remoteDocumentsV14";var KR="remoteDocumentGlobal";var QR="targets";var YR="targetDocuments";var ZR="targetGlobal",XR="collectionParents";var eP="clientMetadata";var tP="bundles";var nP="namedQueries";var bH="indexConfiguration";var EH="indexState";var wH="indexEntries";var rP="documentOverlays";var IH="globals";var CH=[WR,GR,JR,vH,QR,qR,ZR,YR,eP,KR,XR,tP,nP],Ale=[...CH,rP],DH=[WR,GR,JR,_H,QR,qR,ZR,YR,eP,KR,XR,tP,nP,rP],TH=DH,SH=[...TH,bH,EH,wH];var xle=[...SH,IH];function rR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ro(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function iP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var dt=class n{constructor(e,t){this.comparator=e,this.root=t||Ur.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ur.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ur.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}},tc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ur=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}};Ur.EMPTY=null,Ur.RED=!0,Ur.BLACK=!1;Ur.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ur(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ot=class n{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zp(this.data.getIterator())}getIteratorFrom(e){return new Zp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Zp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Kn=class n{constructor(e){this.fields=e,e.sort(On.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ot(On.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Xp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Zt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Xp("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Zt.EMPTY_BYTE_STRING=new Zt("");var AH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ai(n){if(Le(!!n,39018),typeof n=="string"){let e=0,t=AH.exec(n);if(Le(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(n.seconds),nanos:et(n.nanos)}}function et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xi(n){return typeof n=="string"?Zt.fromBase64String(n):Zt.fromUint8Array(n)}var oP="server_timestamp",sP="__type__",aP="__previous_value__",cP="__local_write_time__";function Ww(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[sP])===null||t===void 0?void 0:t.stringValue)===oP}function km(n){let e=n.mapValue.fields[aP];return Ww(e)?km(e):e}function Bu(n){let e=Ai(n.mapValue.fields[cP].timestampValue);return new Be(e.seconds,e.nanos)}var pE=class{constructor(e,t,r,i,o,s,a,l,u,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=f}},em="(default)",tm=class n{constructor(e,t){this.projectId=e,this.database=t||em}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===em}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Gw="__type__",lP="__max__",Hp={mapValue:{fields:{__type__:{stringValue:lP}}}},Jw="__vector__",sc="value";function To(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ww(n)?4:dP(n)?9007199254740991:uP(n)?10:11:ae(28295,{value:n})}function zr(n,e){if(n===e)return!0;let t=To(n);if(t!==To(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bu(n).isEqual(Bu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Ai(i.timestampValue),a=Ai(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return xi(i.bytesValue).isEqual(xi(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return et(i.geoPointValue.latitude)===et(o.geoPointValue.latitude)&&et(i.geoPointValue.longitude)===et(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return et(i.integerValue)===et(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=et(i.doubleValue),a=et(o.doubleValue);return s===a?Uu(s)===Uu(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return oc(n.arrayValue.values||[],e.arrayValue.values||[],zr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(rR(s)!==rR(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!zr(s[l],a[l])))return!1;return!0})(n,e);default:return ae(52216,{left:n})}}function $u(n,e){return(n.values||[]).find(t=>zr(t,e))!==void 0}function ac(n,e){if(n===e)return 0;let t=To(n),r=To(e);if(t!==r)return De(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=et(o.integerValue||o.doubleValue),l=et(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(n,e);case 3:return iR(n.timestampValue,e.timestampValue);case 4:return iR(Bu(n),Bu(e));case 5:return dE(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=xi(o),l=xi(s);return a.compareTo(l)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let f=De(a[u],l[u]);if(f!==0)return f}return De(a.length,l.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=De(et(o.latitude),et(s.latitude));return a!==0?a:De(et(o.longitude),et(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return oR(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,l,u,f;let g=o.fields||{},v=s.fields||{},E=(a=g[sc])===null||a===void 0?void 0:a.arrayValue,M=(l=v[sc])===null||l===void 0?void 0:l.arrayValue,F=De(((u=E?.values)===null||u===void 0?void 0:u.length)||0,((f=M?.values)===null||f===void 0?void 0:f.length)||0);return F!==0?F:oR(E,M)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Hp.mapValue&&s===Hp.mapValue)return 0;if(o===Hp.mapValue)return 1;if(s===Hp.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let g=0;g<l.length&&g<f.length;++g){let v=dE(l[g],f[g]);if(v!==0)return v;let E=ac(a[l[g]],u[f[g]]);if(E!==0)return E}return De(l.length,f.length)})(n.mapValue,e.mapValue);default:throw ae(23264,{le:t})}}function iR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return De(n,e);let t=Ai(n),r=Ai(e),i=De(t.seconds,r.seconds);return i!==0?i:De(t.nanos,r.nanos)}function oR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=ac(t[i],r[i]);if(o)return o}return De(t.length,r.length)}function cc(n){return mE(n)}function mE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Ai(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return xi(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ie.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=mE(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${mE(t.fields[s])}`;return i+"}"})(n.mapValue):ae(61005,{value:n})}function Wp(n){switch(To(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=km(n);return e?16+Wp(e):16;case 5:return 2*n.stringValue.length;case 6:return xi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Wp(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Ro(r.fields,(o,s)=>{i+=o.length+Wp(s)}),i})(n.mapValue);default:throw ae(13486,{value:n})}}function sR(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function gE(n){return!!n&&"integerValue"in n}function Kw(n){return!!n&&"arrayValue"in n}function aR(n){return!!n&&"nullValue"in n}function cR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Gp(n){return!!n&&"mapValue"in n}function uP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Gw])===null||t===void 0?void 0:t.stringValue)===Jw}function ku(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Ro(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ku(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ku(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lP}var Rle={mapValue:{fields:{[Gw]:{stringValue:Jw},[sc]:{arrayValue:{}}}}};var kn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Gp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ku(t)}setAll(e){let t=On.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=ku(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Gp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Gp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ro(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(ku(this.value))}};function fP(n){let e=[];return Ro(n.fields,(t,r)=>{let i=new On([t]);if(Gp(r)){let o=fP(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Kn(e)}var vr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ye.min(),ye.min(),ye.min(),kn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ye.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ye.min(),ye.min(),kn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ye.min(),ye.min(),kn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var lc=class{constructor(e,t){this.position=e,this.inclusive=t}};function lR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=ie.comparator(ie.fromName(s.referenceValue),t.key):r=ac(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function uR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zr(n.position[t],e.position[t]))return!1;return!0}var uc=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function xH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var nm=class{},St=class n extends nm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new vE(e,t,r):t==="array-contains"?new EE(e,r):t==="in"?new wE(e,r):t==="not-in"?new IE(e,r):t==="array-contains-any"?new CE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new _E(e,r):new bE(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ac(t,this.value)):t!==null&&To(this.value)===To(t)&&this.matchesComparison(ac(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},_r=class n extends nm{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return hP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function hP(n){return n.op==="and"}function pP(n){return MH(n)&&hP(n)}function MH(n){for(let e of n.filters)if(e instanceof _r)return!1;return!0}function yE(n){if(n instanceof St)return n.field.canonicalString()+n.op.toString()+cc(n.value);if(pP(n))return n.filters.map(e=>yE(e)).join(",");{let e=n.filters.map(t=>yE(t)).join(",");return`${n.op}(${e})`}}function mP(n,e){return n instanceof St?(function(r,i){return i instanceof St&&r.op===i.op&&r.field.isEqual(i.field)&&zr(r.value,i.value)})(n,e):n instanceof _r?(function(r,i){return i instanceof _r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&mP(s,i.filters[a]),!0):!1})(n,e):void ae(19439)}function gP(n){return n instanceof St?(function(t){return`${t.field.canonicalString()} ${t.op} ${cc(t.value)}`})(n):n instanceof _r?(function(t){return t.op.toString()+" {"+t.getFilters().map(gP).join(" ,")+"}"})(n):"Filter"}var vE=class extends St{constructor(e,t,r){super(e,t,r),this.key=ie.fromName(r.referenceValue)}matches(e){let t=ie.comparator(e.key,this.key);return this.matchesComparison(t)}},_E=class extends St{constructor(e,t){super(e,"in",t),this.keys=yP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},bE=class extends St{constructor(e,t){super(e,"not-in",t),this.keys=yP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function yP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ie.fromName(r.referenceValue))}var EE=class extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Kw(t)&&$u(t.arrayValue,this.value)}},wE=class extends St{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&$u(this.value.arrayValue,t)}},IE=class extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!$u(this.value.arrayValue,t)}},CE=class extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Kw(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$u(this.value.arrayValue,r))}};var DE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function dR(n,e=null,t=[],r=[],i=null,o=null,s=null){return new DE(n,e,t,r,i,o,s)}function Qw(n){let e=me(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>yE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Nm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cc(r)).join(",")),e.Pe=t}return e.Pe}function Yw(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!xH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!uR(n.startAt,e.startAt)&&uR(n.endAt,e.endAt)}function TE(n){return ie.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Rs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function RH(n,e,t,r,i,o,s,a){return new Rs(n,e,t,r,i,o,s,a)}function Zw(n){return new Rs(n)}function fR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function vP(n){return n.collectionGroup!==null}function Ou(n){let e=me(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ot(On.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new uc(o,r))}),t.has(On.keyField().canonicalString())||e.Te.push(new uc(On.keyField(),r))}return e.Te}function Br(n){let e=me(n);return e.Ie||(e.Ie=PH(e,Ou(n))),e.Ie}function PH(n,e){if(n.limitType==="F")return dR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new uc(i.field,o)});let t=n.endAt?new lc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new lc(n.startAt.position,n.startAt.inclusive):null;return dR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function SE(n,e){let t=n.filters.concat([e]);return new Rs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function AE(n,e,t){return new Rs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Om(n,e){return Yw(Br(n),Br(e))&&n.limitType===e.limitType}function _P(n){return`${Qw(Br(n))}|lt:${n.limitType}`}function Za(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>gP(i)).join(", ")}]`),Nm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>cc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>cc(i)).join(",")),`Target(${r})`})(Br(n))}; limitType=${n.limitType})`}function Fm(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Ou(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,l){let u=lR(s,a,l);return s.inclusive?u<=0:u<0})(r.startAt,Ou(r),i)||r.endAt&&!(function(s,a,l){let u=lR(s,a,l);return s.inclusive?u>=0:u>0})(r.endAt,Ou(r),i))})(n,e)}function NH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bP(n){return(e,t)=>{let r=!1;for(let i of Ou(n)){let o=kH(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function kH(n,e,t){let r=n.field.isKeyField()?ie.comparator(e.key,t.key):(function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?ac(l,u):ae(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:n.dir})}}var Mi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ro(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return iP(this.inner)}size(){return this.innerSize}};var OH=new dt(ie.comparator);function Ri(){return OH}var EP=new dt(ie.comparator);function Nu(...n){let e=EP;for(let t of n)e=e.insert(t.key,t);return e}function wP(n){let e=EP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ds(){return Fu()}function IP(){return Fu()}function Fu(){return new Mi(n=>n.toString(),(n,e)=>n.isEqual(e))}var FH=new dt(ie.comparator),LH=new Ot(ie.comparator);function Me(...n){let e=LH;for(let t of n)e=e.add(t);return e}var VH=new Ot(De);function jH(){return VH}function Xw(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uu(e)?"-0":e}}function CP(n){return{integerValue:""+n}}function UH(n,e){return mH(e)?CP(e):Xw(n,e)}var dc=class{constructor(){this._=void 0}};function BH(n,e,t){return n instanceof fc?(function(i,o){let s={fields:{[sP]:{stringValue:oP},[cP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ww(o)&&(o=km(o)),o&&(s.fields[aP]=o),{mapValue:s}})(t,e):n instanceof So?TP(n,e):n instanceof Ao?SP(n,e):(function(i,o){let s=DP(i,o),a=hR(s)+hR(i.Ee);return gE(s)&&gE(i.Ee)?CP(a):Xw(i.serializer,a)})(n,e)}function $H(n,e,t){return n instanceof So?TP(n,e):n instanceof Ao?SP(n,e):t}function DP(n,e){return n instanceof hc?(function(r){return gE(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var fc=class extends dc{},So=class extends dc{constructor(e){super(),this.elements=e}};function TP(n,e){let t=AP(e);for(let r of n.elements)t.some(i=>zr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ao=class extends dc{constructor(e){super(),this.elements=e}};function SP(n,e){let t=AP(e);for(let r of n.elements)t=t.filter(i=>!zr(i,r));return{arrayValue:{values:t}}}var hc=class extends dc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function hR(n){return et(n.integerValue||n.doubleValue)}function AP(n){return Kw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var rm=class{constructor(e,t){this.field=e,this.transform=t}};function HH(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof So&&i instanceof So||r instanceof Ao&&i instanceof Ao?oc(r.elements,i.elements,zr):r instanceof hc&&i instanceof hc?zr(r.Ee,i.Ee):r instanceof fc&&i instanceof fc})(n.transform,e.transform)}var xE=class{constructor(e,t){this.version=e,this.transformResults=t}},$r=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Jp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var pc=class{};function xP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hu(n.key,$r.none()):new Ps(n.key,n.data,$r.none());{let t=n.data,r=kn.empty(),i=new Ot(On.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new qr(n.key,r,new Kn(i.toArray()),$r.none())}}function zH(n,e,t){n instanceof Ps?(function(i,o,s){let a=i.value.clone(),l=mR(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof qr?(function(i,o,s){if(!Jp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=mR(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(MP(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function Lu(n,e,t,r){return n instanceof Ps?(function(o,s,a,l){if(!Jp(o.precondition,s))return a;let u=o.value.clone(),f=gR(o.fieldTransforms,l,s);return u.setAll(f),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(n,e,t,r):n instanceof qr?(function(o,s,a,l){if(!Jp(o.precondition,s))return a;let u=gR(o.fieldTransforms,l,s),f=s.data;return f.setAll(MP(o)),f.setAll(u),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))})(n,e,t,r):(function(o,s,a){return Jp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function qH(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=DP(r.transform,i||null);o!=null&&(t===null&&(t=kn.empty()),t.set(r.field,o))}return t||null}function pR(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&oc(r,i,(o,s)=>HH(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ps=class extends pc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},qr=class extends pc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function MP(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function mR(n,e,t){let r=new Map;Le(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,$H(s,a,t[i]))}return r}function gR(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,BH(o,s,e))}return r}var Hu=class extends pc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ME=class extends pc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var RE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&zH(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Lu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Lu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=IP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let l=xP(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&oc(this.mutations,e.mutations,(t,r)=>pR(t,r))&&oc(this.baseMutations,e.baseMutations,(t,r)=>pR(t,r))}},PE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Le(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return FH})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var NE=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var kE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Dt,Pe;function WH(n){switch(n){case L.OK:return ae(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return ae(15467,{code:n})}}function RP(n){if(n===void 0)return Si("GRPC error has no .code"),L.UNKNOWN;switch(n){case Dt.OK:return L.OK;case Dt.CANCELLED:return L.CANCELLED;case Dt.UNKNOWN:return L.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return L.INTERNAL;case Dt.UNAVAILABLE:return L.UNAVAILABLE;case Dt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Dt.NOT_FOUND:return L.NOT_FOUND;case Dt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Dt.ABORTED:return L.ABORTED;case Dt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Dt.DATA_LOSS:return L.DATA_LOSS;default:return ae(39323,{code:n})}}(Pe=Dt||(Dt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";var yR=null;var GH=new Di([4294967295,4294967295],0);function vR(n){let e=BR().encode(n),t=new Kb;return t.update(e),new Uint8Array(t.digest())}function _R(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Di([t,r],0),new Di([i,o],0)]}var OE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ts(`Invalid padding: ${t}`);if(r<0)throw new Ts(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ts(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ts(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Di.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Di.fromNumber(r)));return i.compare(GH)===1&&(i=new Di([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=vR(e),[r,i]=_R(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=vR(e),[r,i]=_R(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ts=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var im=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,zu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ye.min(),i,new dt(De),Ri(),Me())}},zu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Me(),Me(),Me())}};var nc=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},om=class{constructor(e,t){this.targetId=e,this.De=t}},sm=class{constructor(e,t,r=Zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},am=class{constructor(){this.ve=0,this.Ce=bR(),this.Fe=Zt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Me(),t=Me(),r=Me();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ae(38017,{changeType:o})}}),new zu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=bR()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},FE=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ri(),this.je=zp(),this.Je=zp(),this.He=new dt(De)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ae(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(TE(o))if(r===0){let s=new ie(o.path);this.Xe(t,s,vr.newNoDocument(s,ye.min()))}else Le(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),l=a?this.ut(a,e,s):1;if(l!==0){this.rt(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}yR?.ct((function(f,g,v,E,M){var F,O,q,oe,de,$e;let nn={localCacheCount:f,existenceFilterCount:g.count,databaseId:v.database,projectId:v.projectId},Ve=g.unchangedNames;return Ve&&(nn.bloomFilter={applied:M===0,hashCount:(F=Ve?.hashCount)!==null&&F!==void 0?F:0,bitmapLength:(oe=(q=(O=Ve?.bits)===null||O===void 0?void 0:O.bitmap)===null||q===void 0?void 0:q.length)!==null&&oe!==void 0?oe:0,padding:($e=(de=Ve?.bits)===null||de===void 0?void 0:de.padding)!==null&&$e!==void 0?$e:0,mightContain:S=>{var I;return(I=E?.mightContain(S))!==null&&I!==void 0&&I}}),nn})(s,e.De,this.We.lt(),a,l))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=xi(r).toUint8Array()}catch(l){if(l instanceof Xp)return Do("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new OE(s,i,o)}catch(l){return Do(l instanceof Ts?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&TE(a.target)){let l=new ie(a.target.path);this.Tt(l).has(s)||this.It(s,l)||this.Xe(s,l,vr.newNoDocument(l,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Me();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this.st(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new im(e,t,this.He,this.ze,r);return this.ze=Ri(),this.je=zp(),this.Je=zp(),this.He=new dt(De),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new am,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ot(De),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ot(De),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||Y("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new am),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function zp(){return new dt(ie.comparator)}function bR(){return new dt(ie.comparator)}var JH={asc:"ASCENDING",desc:"DESCENDING"},KH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QH={and:"AND",or:"OR"},LE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function VE(n,e){return n.useProto3Json||Nm(e)?e:{value:e}}function cm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PP(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function YH(n,e){return cm(n,e.toTimestamp())}function Hr(n){return Le(!!n,49232),ye.fromTimestamp((function(t){let r=Ai(t);return new Be(r.seconds,r.nanos)})(n))}function eI(n,e){return jE(n,e).canonicalString()}function jE(n,e){let t=(function(i){return new tt(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function NP(n){let e=tt.fromString(n);return Le(VP(e),10190,{key:e.toString()}),e}function UE(n,e){return eI(n.databaseId,e.path)}function tE(n,e){let t=NP(e);if(t.get(1)!==n.databaseId.projectId)throw new K(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new K(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ie(OP(t))}function kP(n,e){return eI(n.databaseId,e)}function ZH(n){let e=NP(n);return e.length===4?tt.emptyPath():OP(e)}function BE(n){return new tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function OP(n){return Le(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ER(n,e,t){return{name:UE(n,e),fields:t.value.mapValue.fields}}function XH(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ae(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(u,f){return u.useProto3Json?(Le(f===void 0||typeof f=="string",58123),Zt.fromBase64String(f||"")):(Le(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Zt.fromUint8Array(f||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(u){let f=u.code===void 0?L.UNKNOWN:RP(u.code);return new K(f,u.message||"")})(s);t=new sm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=tE(n,r.document.name),o=Hr(r.document.updateTime),s=r.document.createTime?Hr(r.document.createTime):ye.min(),a=new kn({mapValue:{fields:r.document.fields}}),l=vr.newFoundDocument(i,o,s,a),u=r.targetIds||[],f=r.removedTargetIds||[];t=new nc(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=tE(n,r.document),o=r.readTime?Hr(r.readTime):ye.min(),s=vr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new nc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=tE(n,r.document),o=r.removedTargetIds||[];t=new nc([],o,i,null)}else{if(!("filter"in e))return ae(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new kE(i,o),a=r.targetId;t=new om(a,s)}}return t}function e6(n,e){let t;if(e instanceof Ps)t={update:ER(n,e.key,e.value)};else if(e instanceof Hu)t={delete:UE(n,e.key)};else if(e instanceof qr)t={update:ER(n,e.key,e.data),updateMask:l6(e.fieldMask)};else{if(!(e instanceof ME))return ae(16599,{Rt:e.type});t={verify:UE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof fc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof So)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ao)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hc)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw ae(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:YH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ae(27497)})(n,e.precondition)),t}function t6(n,e){return n&&n.length>0?(Le(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?Hr(i.updateTime):Hr(o);return s.isEqual(ye.min())&&(s=Hr(o)),new xE(s,i.transformResults||[])})(t,e))):[]}function n6(n,e){return{documents:[kP(n,e.path)]}}function r6(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=kP(n,i);let o=(function(u){if(u.length!==0)return LP(_r.create(u,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(u){if(u.length!==0)return u.map(f=>(function(v){return{field:Xa(v.field),direction:s6(v.dir)}})(f))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=VE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{Vt:t,parent:i}}function i6(n){let e=ZH(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Le(r===1,65062);let f=t.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];t.where&&(o=(function(g){let v=FP(g);return v instanceof _r&&pP(v)?v.getFilters():[v]})(t.where));let s=[];t.orderBy&&(s=(function(g){return g.map(v=>(function(M){return new uc(ec(M.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(M.direction))})(v))})(t.orderBy));let a=null;t.limit&&(a=(function(g){let v;return v=typeof g=="object"?g.value:g,Nm(v)?null:v})(t.limit));let l=null;t.startAt&&(l=(function(g){let v=!!g.before,E=g.values||[];return new lc(E,v)})(t.startAt));let u=null;return t.endAt&&(u=(function(g){let v=!g.before,E=g.values||[];return new lc(E,v)})(t.endAt)),RH(e,i,s,o,a,"F",l,u)}function o6(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function FP(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=ec(t.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ec(t.unaryFilter.field);return St.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ec(t.unaryFilter.field);return St.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ec(t.unaryFilter.field);return St.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}})(n):n.fieldFilter!==void 0?(function(t){return St.create(ec(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return _r.create(t.compositeFilter.filters.map(r=>FP(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae(1026)}})(t.compositeFilter.op))})(n):ae(30097,{filter:n})}function s6(n){return JH[n]}function a6(n){return KH[n]}function c6(n){return QH[n]}function Xa(n){return{fieldPath:n.canonicalString()}}function ec(n){return On.fromServerFormat(n.fieldPath)}function LP(n){return n instanceof St?(function(t){if(t.op==="=="){if(cR(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NAN"}};if(aR(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(cR(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NOT_NAN"}};if(aR(t.value))return{unaryFilter:{field:Xa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(t.field),op:a6(t.op),value:t.value}}})(n):n instanceof _r?(function(t){let r=t.getFilters().map(i=>LP(i));return r.length===1?r[0]:{compositeFilter:{op:c6(t.op),filters:r}}})(n):ae(54877,{filter:n})}function l6(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VP(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var qu=class n{constructor(e,t,r,i,o=ye.min(),s=ye.min(),a=Zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var $E=class{constructor(e){this.gt=e}};function u6(n){let e=i6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?AE(e,e.limit,"L"):e}var lm=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(et(e.integerValue));else if("doubleValue"in e){let r=et(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Uu(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Ai(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(xi(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?dP(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):uP(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ae(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=sc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(et(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),ie.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};lm.Ut=new lm;var HE=class{constructor(){this.Dn=new zE}addToCollectionParentIndex(e,t){return this.Dn.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(Ms.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(Ms.min())}updateCollectionGroup(e,t,r){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}},zE=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ot(tt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(tt.comparator)).toArray()}};var Ple=new Uint8Array(0);var wR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jP=41943040,Jn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Jn.DEFAULT_COLLECTION_PERCENTILE=10,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jn.DEFAULT=new Jn(jP,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jn.DISABLED=new Jn(-1,0,0);var Wu=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var IR="LruGarbageCollector",d6=1048576;function CR([n,e],[t,r]){let i=De(n,t);return i===0?De(e,r):i}var qE=class{constructor(e){this.Tr=e,this.buffer=new Ot(CR),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();CR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},WE=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Y(IR,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>b(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ec(t)?Y(IR,"Ignoring IndexedDB error during garbage collection: ",t):yield bc(t)}yield this.Rr(3e5)}))}},GE=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return $.resolve(zw.ue);let r=new qE(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(wR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wR):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,l,u,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,t))).next(g=>(o=g,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(u=Date.now(),Ya()<=Se.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${g} documents in `+(u-l)+`ms
Total Duration: ${u-f}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}};function f6(n,e){return new GE(n,e)}var JE=class{constructor(){this.changes=new Mi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?$.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var KE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var QE=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Lu(r.mutation,i,Kn.empty(),Be.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){let i=Ds();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Nu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Ds();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ri(),s=Fu(),a=(function(){return Fu()})();return t.forEach((l,u)=>{let f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof qr)?o=o.insert(u.key,u):f!==void 0?(s.set(u.key,f.mutation.getFieldMask()),Lu(f.mutation,u,f.mutation.getFieldMask(),Be.now())):s.set(u.key,Kn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,f)=>s.set(u,f)),t.forEach((u,f)=>{var g;return a.set(u,new KE(f,(g=s.get(u))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Fu(),i=new dt((s,a)=>s-a),o=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let f=r.get(l)||Kn.empty();f=a.applyToLocalView(u,f),r.set(l,f);let g=(i.get(a.batchId)||Me()).add(l);i=i.insert(a.batchId,g)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,f=l.value,g=IP();f.forEach(v=>{if(!o.has(v)){let E=xP(t.get(v),r.get(v));E!==null&&g.set(v,E),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,g))}return $.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vP(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):$.resolve(Ds()),a=ju,l=o;return s.next(u=>$.forEach(u,(f,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(f)?$.resolve():this.remoteDocumentCache.getEntry(e,f).next(v=>{l=l.insert(f,v)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Me())).next(f=>({batchId:a,changes:wP(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ie(t)).next(r=>{let i=Nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Nu();return this.indexManager.getCollectionParents(e,o).next(a=>$.forEach(a,l=>{let u=(function(g,v){return new Rs(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((g,v)=>{s=s.insert(g,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,u)=>{let f=u.getKey();s.get(f)===null&&(s=s.insert(f,vr.newInvalidDocument(f)))});let a=Nu();return s.forEach((l,u)=>{let f=o.get(l);f!==void 0&&Lu(f.mutation,u,Kn.empty(),Be.now()),Fm(t,u)&&(a=a.insert(l,u))}),a})}};var YE=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return $.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Hr(i.createTime)}})(t)),$.resolve()}getNamedQuery(e,t){return $.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:u6(i.bundledQuery),readTime:Hr(i.readTime)}})(t)),$.resolve()}};var ZE=class{constructor(){this.overlays=new dt(ie.comparator),this.kr=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ds();return $.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),$.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),$.resolve()}getOverlaysForCollection(e,t,r){let i=Ds(),o=t.length+1,s=new ie(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new dt((u,f)=>u-f),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let f=o.get(u.largestBatchId);f===null&&(f=Ds(),o=o.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}let a=Ds(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,f)=>a.set(u,f)),!(a.size()>=i)););return $.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new NE(t,r));let o=this.kr.get(t);o===void 0&&(o=Me(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var XE=class{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$.resolve()}};var Gu=class{constructor(){this.qr=new Ot(Tt.Qr),this.$r=new Ot(Tt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Tt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Tt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new ie(new tt([])),r=new Tt(t,e),i=new Tt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new ie(new tt([])),r=new Tt(t,e),i=new Tt(t,e+1),o=Me();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Tt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Tt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return ie.comparator(e.key,t.key)||De(e.Hr,t.Hr)}static Ur(e,t){return De(e.Hr,t.Hr)||ie.comparator(e.key,t.key)}};var ew=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ot(Tt.Qr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new RE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Tt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(s)}lookupMutationBatch(e,t){return $.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return $.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?qw:this.er-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Tt(t,0),i=new Tt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),$.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ot(De);return t.forEach(i=>{let o=new Tt(i,0),s=new Tt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),$.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;ie.isDocumentKey(o)||(o=o.child(""));let s=new Tt(new ie(o),0),a=new Ot(De);return this.Yr.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Hr)),!0)},s),$.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Le(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return $.forEach(t.mutations,i=>{let o=new Tt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Tt(t,0),i=this.Yr.firstAfterOrEqual(r);return $.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var tw=class{constructor(e){this.ni=e,this.docs=(function(){return new dt(ie.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return $.resolve(r?r.document.mutableCopy():vr.newInvalidDocument(t))}getEntries(e,t){let r=Ri();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vr.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ri(),s=t.path,a=new ie(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:f}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||fH(dH(f),r)<=0||(i.has(f.key)||Fm(t,f))&&(o=o.insert(f.key,f.mutableCopy()))}return $.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ae(9500)}ri(e,t){return $.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new nw(this)}getSize(e){return $.resolve(this.size)}},nw=class extends JE{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),$.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var rw=class{constructor(e){this.persistence=e,this.ii=new Mi(t=>Qw(t),Yw),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.si=0,this.oi=new Gu,this.targetCount=0,this._i=Wu.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),$.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new Wu(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.hr(t),$.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(o).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return $.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),$.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),$.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),$.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return $.resolve(r)}containsKey(e,t){return $.resolve(this.oi.containsKey(t))}};var um=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new zw(0),this.ci=!1,this.ci=!0,this.li=new XE,this.referenceDelegate=e(this),this.hi=new rw(this),this.indexManager=new HE,this.remoteDocumentCache=(function(i){return new tw(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new $E(t),this.Ti=new YE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ZE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new ew(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){Y("MemoryPersistence","Starting transaction:",e);let i=new iw(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return $.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},iw=class extends hE{constructor(e){super(),this.currentSequenceNumber=e}},ow=class n{constructor(e){this.persistence=e,this.Ai=new Gu,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ae(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),$.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),$.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.mi,r=>{let i=ie.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,ye.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return $.or([()=>$.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},dm=class n{constructor(e,t){this.persistence=e,this.gi=new Mi(r=>gH(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=f6(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return $.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return $.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?$.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ye.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),$.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),$.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Wp(e.data.value)),t}Sr(e,t,r){return $.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var sw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Me(),i=Me();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var aw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var cw=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return d1()?8:pH(Nt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new aw;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Ya()<=Se.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Za(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Ya()<=Se.DEBUG&&Y("QueryEngine","Query:",Za(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ya()<=Se.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Za(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(t))):$.resolve())}ps(e,t){if(fR(t))return $.resolve(null);let r=Br(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=AE(t,null,"F"),r=Br(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Me(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.bs(t,a);return this.Ds(t,u,s,l.readTime)?this.ps(e,AE(t,null,"F")):this.vs(e,u,t,l)}))})))}ys(e,t,r,i){return fR(t)||i.isEqual(ye.min())?$.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?$.resolve(null):(Ya()<=Se.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Za(t)),this.vs(e,s,t,uH(i,ju)).next(a=>a))})}bs(e,t){let r=new Ot(bP(e));return t.forEach((i,o)=>{Fm(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Ya()<=Se.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Za(t)),this.gs.getDocumentsMatchingQuery(e,t,Ms.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var tI="LocalStore",h6=3e8,lw=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new dt(De),this.Ms=new Mi(o=>Qw(o),Yw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QE(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function p6(n,e,t,r){return new lw(n,e,t,r)}function UP(n,e){return b(this,null,function*(){let t=me(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=Me();for(let u of i){s.push(u.batchId);for(let f of u.mutations)l=l.add(f.key)}for(let u of o){a.push(u.batchId);for(let f of u.mutations)l=l.add(f.key)}return t.localDocuments.getDocuments(r,l).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function m6(n,e){let t=me(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,l,u,f){let g=u.batch,v=g.keys(),E=$.resolve();return v.forEach(M=>{E=E.next(()=>f.getEntry(l,M)).next(F=>{let O=u.docVersions.get(M);Le(O!==null,48541),F.version.compareTo(O)<0&&(g.applyToRemoteDocument(F,u),F.isValidDocument()&&(F.setReadTime(u.commitVersion),f.addEntry(F)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(l,g))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let l=Me();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function BP(n){let e=me(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function g6(n,e){let t=me(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((f,g)=>{let v=i.get(g);if(!v)return;a.push(t.hi.removeMatchingKeys(o,f.removedDocuments,g).next(()=>t.hi.addMatchingKeys(o,f.addedDocuments,g)));let E=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(Zt.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):f.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(f.resumeToken,r)),i=i.insert(g,E),(function(F,O,q){return F.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=h6?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0})(v,E,f)&&a.push(t.hi.updateTargetData(o,E))});let l=Ri(),u=Me();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,f))}),a.push(y6(o,s,e.documentUpdates).next(f=>{l=f.Ls,u=f.ks})),!r.isEqual(ye.min())){let f=t.hi.getLastRemoteSnapshotVersion(o).next(g=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(f)}return $.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.Fs=i,o))}function y6(n,e,t){let r=Me(),i=Me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ri();return t.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ye.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Y(tI,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ls:s,ks:i}})}function v6(n,e){let t=me(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=qw),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _6(n,e){let t=me(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,$.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new qu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function uw(n,e,t){return b(this,null,function*(){let r=me(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ec(s))throw s;Y(tI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function DR(n,e,t){let r=me(n),i=ye.min(),o=Me();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(l,u,f){let g=me(l),v=g.Ms.get(f);return v!==void 0?$.resolve(g.Fs.get(v)):g.hi.getTargetData(u,f)})(r,s,Br(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:ye.min(),t?o:Me())).next(a=>(b6(r,NH(e),a),{documents:a,qs:o})))}function b6(n,e,t){let r=n.xs.get(e)||ye.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var fm=class{constructor(){this.activeTargetIds=jH()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var dw=class{constructor(){this.Fo=new fm,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new fm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var fw=class{xo(e){}shutdown(){}};var TR="ConnectivityMonitor",hm=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Y(TR,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){Y(TR,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var qp=null;function hw(){return qp===null?qp=(function(){return 268435456+Math.round(2147483648*Math.random())})():qp++,"0x"+qp.toString(16)}var nE="RestConnection",E6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},pw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===em?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=hw(),a=this.Go(e,t.toUriEncodedString());Y(nE,`Sending RPC '${e}' ${s}:`,a,r);let l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,o);let{host:u}=new URL(a),f=uo(u);return this.jo(e,a,l,r,f).then(g=>(Y(nE,`Received RPC '${e}' ${s}: `,g),g),g=>{throw Do(nE,`RPC '${e}' ${s} failed with error: `,g,"url: ",a,"request:",r),g})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_c})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=E6[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var mw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Yt="WebChannelConnection",gw=class extends pw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=hw();return new Promise((a,l)=>{let u=new Qb;u.setWithCredentials(!0),u.listenOnce(Yb.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Pu.NO_ERROR:let g=u.getResponseJson();Y(Yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),a(g);break;case Pu.TIMEOUT:Y(Yt,`RPC '${e}' ${s} timed out`),l(new K(L.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:let v=u.getStatus();if(Y(Yt,`RPC '${e}' ${s} failed with status:`,v,"response text:",u.getResponseText()),v>0){let E=u.getResponseJson();Array.isArray(E)&&(E=E[0]);let M=E?.error;if(M&&M.status&&M.message){let F=(function(q){let oe=q.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(oe)>=0?oe:L.UNKNOWN})(M.status);l(new K(F,M.message))}else l(new K(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new K(L.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{Y(Yt,`RPC '${e}' ${s} completed.`)}});let f=JSON.stringify(i);Y(Yt,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",f,r,15)})}P_(e,t,r){let i=hw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=eE(),a=Xb(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let f=o.join("");Y(Yt,`Creating RPC '${e}' stream ${i}: ${f}`,l);let g=s.createWebChannel(f,l);this.T_(g);let v=!1,E=!1,M=new mw({Ho:O=>{E?Y(Yt,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(v||(Y(Yt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),Y(Yt,`RPC '${e}' stream ${i} sending:`,O),g.send(O))},Yo:()=>g.close()}),F=(O,q,oe)=>{O.listen(q,de=>{try{oe(de)}catch($e){setTimeout(()=>{throw $e},0)}})};return F(g,Qa.EventType.OPEN,()=>{E||(Y(Yt,`RPC '${e}' stream ${i} transport opened.`),M.s_())}),F(g,Qa.EventType.CLOSE,()=>{E||(E=!0,Y(Yt,`RPC '${e}' stream ${i} transport closed`),M.__(),this.I_(g))}),F(g,Qa.EventType.ERROR,O=>{E||(E=!0,Do(Yt,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),M.__(new K(L.UNAVAILABLE,"The operation could not be completed")))}),F(g,Qa.EventType.MESSAGE,O=>{var q;if(!E){let oe=O.data[0];Le(!!oe,16349);let de=oe,$e=de?.error||((q=de[0])===null||q===void 0?void 0:q.error);if($e){Y(Yt,`RPC '${e}' stream ${i} received error:`,$e);let nn=$e.status,Ve=(function(D){let T=Dt[D];if(T!==void 0)return RP(T)})(nn),S=$e.message;Ve===void 0&&(Ve=L.INTERNAL,S="Unknown error status: "+nn+" with message "+$e.message),E=!0,M.__(new K(Ve,S)),g.close()}else Y(Yt,`RPC '${e}' stream ${i} received:`,oe),M.a_(oe)}}),F(a,Zb.STAT_EVENT,O=>{O.stat===$p.PROXY?Y(Yt,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===$p.NOPROXY&&Y(Yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.o_()},0),M}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function rE(){return typeof document<"u"?document:null}function Lm(n){return new LE(n,!0)}var pm=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var SR="PersistentStream",mm=class{constructor(e,t,r,i,o,s,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new pm(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return b(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return b(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return b(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(Si(t.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new K(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>b(this,null,function*(){this.state=0,this.start()}))}G_(e){return Y(SR,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Y(SR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},yw=class extends mm{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=XH(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ye.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ye.min():s.readTime?Hr(s.readTime):ye.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=BE(this.serializer),t.addTarget=(function(o,s){let a,l=s.target;if(a=TE(l)?{documents:n6(o,l)}:{query:r6(o,l).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=PP(o,s.resumeToken);let u=VE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ye.min())>0){a.readTime=cm(o,s.snapshotVersion.toTimestamp());let u=VE(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);let r=o6(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=BE(this.serializer),t.removeTarget=e,this.k_(t)}},vw=class extends mm{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=t6(e.writeResults,e.commitTime),r=Hr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=BE(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>e6(this.serializer,r))};this.k_(t)}};var _w=class{},bw=class extends _w{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new K(L.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,jE(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(L.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,jE(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(L.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},Ew=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Si(t),this._a=!1):Y("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Ns="RemoteStore",ww=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>b(this,null,function*(){Os(this)&&(Y(Ns,"Restarting streams for network reachability change."),yield(function(l){return b(this,null,function*(){let u=me(l);u.Ia.add(4),yield Qu(u),u.Aa.set("Unknown"),u.Ia.delete(4),yield Vm(u)})})(this))}))}),this.Aa=new Ew(r,i)}};function Vm(n){return b(this,null,function*(){if(Os(n))for(let e of n.da)yield e(!0)})}function Qu(n){return b(this,null,function*(){for(let e of n.da)yield e(!1)})}function $P(n,e){let t=me(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),oI(t)?iI(t):wc(t).x_()&&rI(t,e))}function nI(n,e){let t=me(n),r=wc(t);t.Ta.delete(e),r.x_()&&HP(t,e),t.Ta.size===0&&(r.x_()?r.B_():Os(t)&&t.Aa.set("Unknown"))}function rI(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wc(n).H_(e)}function HP(n,e){n.Ra.$e(e),wc(n).Y_(e)}function iI(n){n.Ra=new FE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),wc(n).start(),n.Aa.aa()}function oI(n){return Os(n)&&!wc(n).M_()&&n.Ta.size>0}function Os(n){return me(n).Ia.size===0}function zP(n){n.Ra=void 0}function w6(n){return b(this,null,function*(){n.Aa.set("Online")})}function I6(n){return b(this,null,function*(){n.Ta.forEach((e,t)=>{rI(n,e)})})}function C6(n,e){return b(this,null,function*(){zP(n),oI(n)?(n.Aa.la(e),iI(n)):n.Aa.set("Unknown")})}function D6(n,e,t){return b(this,null,function*(){if(n.Aa.set("Online"),e instanceof sm&&e.state===2&&e.cause)try{yield(function(i,o){return b(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){Y(Ns,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield gm(n,r)}else if(e instanceof nc?n.Ra.Ye(e):e instanceof om?n.Ra.it(e):n.Ra.et(e),!t.isEqual(ye.min()))try{let r=yield BP(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let f=o.Ta.get(u);f&&o.Ta.set(u,f.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let f=o.Ta.get(l);if(!f)return;o.Ta.set(l,f.withResumeToken(Zt.EMPTY_BYTE_STRING,f.snapshotVersion)),HP(o,l);let g=new qu(f.target,l,u,f.sequenceNumber);rI(o,g)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){Y(Ns,"Failed to raise snapshot:",r),yield gm(n,r)}})}function gm(n,e,t){return b(this,null,function*(){if(!Ec(e))throw e;n.Ia.add(1),yield Qu(n),n.Aa.set("Offline"),t||(t=()=>BP(n.localStore)),n.asyncQueue.enqueueRetryable(()=>b(null,null,function*(){Y(Ns,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Vm(n)}))})}function qP(n,e){return e().catch(t=>gm(n,t,e))}function jm(n){return b(this,null,function*(){let e=me(n),t=xo(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:qw;for(;T6(e);)try{let i=yield v6(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,S6(e,i)}catch(i){yield gm(e,i)}WP(e)&&GP(e)})}function T6(n){return Os(n)&&n.Pa.length<10}function S6(n,e){n.Pa.push(e);let t=xo(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function WP(n){return Os(n)&&!xo(n).M_()&&n.Pa.length>0}function GP(n){xo(n).start()}function A6(n){return b(this,null,function*(){xo(n).na()})}function x6(n){return b(this,null,function*(){let e=xo(n);for(let t of n.Pa)e.X_(t.mutations)})}function M6(n,e,t){return b(this,null,function*(){let r=n.Pa.shift(),i=PE.from(r,e,t);yield qP(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield jm(n)})}function R6(n,e){return b(this,null,function*(){e&&xo(n).Z_&&(yield(function(r,i){return b(this,null,function*(){if((function(s){return WH(s)&&s!==L.ABORTED})(i.code)){let o=r.Pa.shift();xo(r).N_(),yield qP(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield jm(r)}})})(n,e)),WP(n)&&GP(n)})}function AR(n,e){return b(this,null,function*(){let t=me(n);t.asyncQueue.verifyOperationInProgress(),Y(Ns,"RemoteStore received new credentials");let r=Os(t);t.Ia.add(3),yield Qu(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Vm(t)})}function P6(n,e){return b(this,null,function*(){let t=me(n);e?(t.Ia.delete(2),yield Vm(t)):e||(t.Ia.add(2),yield Qu(t),t.Aa.set("Unknown"))})}function wc(n){return n.Va||(n.Va=(function(t,r,i){let o=me(t);return o.ia(),new yw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:w6.bind(null,n),e_:I6.bind(null,n),n_:C6.bind(null,n),J_:D6.bind(null,n)}),n.da.push(e=>b(null,null,function*(){e?(n.Va.N_(),oI(n)?iI(n):n.Aa.set("Unknown")):(yield n.Va.stop(),zP(n))}))),n.Va}function xo(n){return n.ma||(n.ma=(function(t,r,i){let o=me(t);return o.ia(),new vw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:A6.bind(null,n),n_:R6.bind(null,n),ea:x6.bind(null,n),ta:M6.bind(null,n)}),n.da.push(e=>b(null,null,function*(){e?(n.ma.N_(),yield jm(n)):(yield n.ma.stop(),n.Pa.length>0&&(Y(Ns,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var Iw=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function sI(n,e){if(Si("AsyncQueue",`${e}: ${n}`),Ec(n))return new K(L.UNAVAILABLE,`${e}: ${n}`);throw n}var ym=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ie.comparator(t.key,r.key):(t,r)=>ie.comparator(t.key,r.key),this.keyedMap=Nu(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var vm=class{constructor(){this.fa=new dt(ie.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ae(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},mc=class n{constructor(e,t,r,i,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,ym.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Om(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Cw=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Dw=class{constructor(){this.queries=xR(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=me(t),o=i.queries;i.queries=xR(),o.forEach((s,a)=>{for(let l of a.wa)l.onError(r)})})(this,new K(L.ABORTED,"Firestore shutting down"))}};function xR(){return new Mi(n=>_P(n),Om)}function JP(n,e){return b(this,null,function*(){let t=me(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Cw,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=sI(s,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&aI(t)})}function KP(n,e){return b(this,null,function*(){let t=me(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function N6(n,e){let t=me(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&aI(t)}function k6(n,e,t){let r=me(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function aI(n){n.Da.forEach(e=>{e.next()})}var Tw,MR;(MR=Tw||(Tw={})).Fa="default",MR.Cache="cache";var _m=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new mc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Tw.Cache}};var bm=class{constructor(e){this.key=e}},Em=class{constructor(e){this.key=e}},Sw=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Me(),this.mutatedKeys=Me(),this.Xa=bP(e),this.eu=new ym(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new vm,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,g)=>{let v=i.get(f),E=Fm(this.query,g)?g:null,M=!!v&&this.mutatedKeys.has(v.key),F=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),O=!1;v&&E?v.data.isEqual(E.data)?M!==F&&(r.track({type:3,doc:E}),O=!0):this.iu(v,E)||(r.track({type:2,doc:E}),O=!0,(l&&this.Xa(E,l)>0||u&&this.Xa(E,u)<0)&&(a=!0)):!v&&E?(r.track({type:0,doc:E}),O=!0):v&&!E&&(r.track({type:1,doc:v}),O=!0,(l||u)&&(a=!0)),O&&(E?(s=s.add(E),o=F?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((f,g)=>(function(E,M){let F=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{At:O})}};return F(E)-F(M)})(f.type,g.type)||this.Xa(f.doc,g.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,u=l!==this.Ya;return this.Ya=l,s.length!==0||u?{snapshot:new mc(this.query,e.eu,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new vm,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Me(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Em(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new bm(r))}),t}uu(e){this.Ha=e.qs,this.Za=Me();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return mc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},cI="SyncEngine",Aw=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},xw=class{constructor(e){this.key=e,this.lu=!1}},Mw=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Mi(a=>_P(a),Om),this.Tu=new Map,this.Iu=new Set,this.du=new dt(ie.comparator),this.Eu=new Map,this.Au=new Gu,this.Ru={},this.Vu=new Map,this.mu=Wu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function O6(n,e,t=!0){return b(this,null,function*(){let r=tN(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield QP(r,e,t,!0),i})}function F6(n,e){return b(this,null,function*(){let t=tN(n);yield QP(t,e,!0,!1)})}function QP(n,e,t,r){return b(this,null,function*(){let i=yield _6(n.localStore,Br(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield L6(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&$P(n.remoteStore,i),a})}function L6(n,e,t,r,i){return b(this,null,function*(){n.gu=(g,v,E)=>(function(F,O,q,oe){return b(this,null,function*(){let de=O.view.nu(q);de.Ds&&(de=yield DR(F.localStore,O.query,!1).then(({documents:S})=>O.view.nu(S,de)));let $e=oe&&oe.targetChanges.get(O.targetId),nn=oe&&oe.targetMismatches.get(O.targetId)!=null,Ve=O.view.applyChanges(de,F.isPrimaryClient,$e,nn);return PR(F,O.targetId,Ve._u),Ve.snapshot})})(n,g,v,E);let o=yield DR(n.localStore,e,!0),s=new Sw(e,o.qs),a=s.nu(o.documents),l=zu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,l);PR(n,t,u._u);let f=new Aw(e,t,s);return n.Pu.set(e,f),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot})}function V6(n,e,t){return b(this,null,function*(){let r=me(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Om(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield uw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&nI(r.remoteStore,i.targetId),Rw(r,i.targetId)}).catch(bc))):(Rw(r,i.targetId),yield uw(r.localStore,i.targetId,!0))})}function j6(n,e){return b(this,null,function*(){let t=me(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),nI(t.remoteStore,r.targetId))})}function U6(n,e,t){return b(this,null,function*(){let r=G6(n);try{let i=yield(function(s,a){let l=me(s),u=Be.now(),f=a.reduce((E,M)=>E.add(M.key),Me()),g,v;return l.persistence.runTransaction("Locally write mutations","readwrite",E=>{let M=Ri(),F=Me();return l.Os.getEntries(E,f).next(O=>{M=O,M.forEach((q,oe)=>{oe.isValidDocument()||(F=F.add(q))})}).next(()=>l.localDocuments.getOverlayedDocuments(E,M)).next(O=>{g=O;let q=[];for(let oe of a){let de=qH(oe,g.get(oe.key).overlayedDocument);de!=null&&q.push(new qr(oe.key,de,fP(de.value.mapValue),$r.exists(!0)))}return l.mutationQueue.addMutationBatch(E,u,q,a)}).next(O=>{v=O;let q=O.applyToLocalDocumentSet(g,F);return l.documentOverlayCache.saveOverlays(E,O.batchId,q)})}).then(()=>({batchId:v.batchId,changes:wP(g)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,l){let u=s.Ru[s.currentUser.toKey()];u||(u=new dt(De)),u=u.insert(a,l),s.Ru[s.currentUser.toKey()]=u})(r,i.batchId,t),yield Yu(r,i.changes),yield jm(r.remoteStore)}catch(i){let o=sI(i,"Failed to persist write");t.reject(o)}})}function YP(n,e){return b(this,null,function*(){let t=me(n);try{let r=yield g6(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Le(s.lu,14607):i.removedDocuments.size>0&&(Le(s.lu,42227),s.lu=!1))}),yield Yu(t,r,e)}catch(r){yield bc(r)}})}function RR(n,e,t){let r=me(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let l=me(s);l.onlineState=a;let u=!1;l.queries.forEach((f,g)=>{for(let v of g.wa)v.va(a)&&(u=!0)}),u&&aI(l)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function B6(n,e,t){return b(this,null,function*(){let r=me(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new dt(ie.comparator);s=s.insert(o,vr.newNoDocument(o,ye.min()));let a=Me().add(o),l=new im(ye.min(),new Map,new dt(De),s,a);yield YP(r,l),r.du=r.du.remove(o),r.Eu.delete(e),lI(r)}else yield uw(r.localStore,e,!1).then(()=>Rw(r,e,t)).catch(bc)})}function $6(n,e){return b(this,null,function*(){let t=me(n),r=e.batch.batchId;try{let i=yield m6(t.localStore,e);XP(t,r,null),ZP(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Yu(t,i)}catch(i){yield bc(i)}})}function H6(n,e,t){return b(this,null,function*(){let r=me(n);try{let i=yield(function(s,a){let l=me(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return l.mutationQueue.lookupMutationBatch(u,a).next(g=>(Le(g!==null,37113),f=g.keys(),l.mutationQueue.removeMutationBatch(u,g))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>l.localDocuments.getDocuments(u,f))})})(r.localStore,e);XP(r,e,t),ZP(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Yu(r,i)}catch(i){yield bc(i)}})}function ZP(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function XP(n,e,t){let r=me(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Rw(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||eN(n,r)})}function eN(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(nI(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),lI(n))}function PR(n,e,t){for(let r of t)r instanceof bm?(n.Au.addReference(r.key,e),z6(n,r)):r instanceof Em?(Y(cI,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||eN(n,r.key)):ae(19791,{yu:r})}function z6(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(Y(cI,"New document in limbo: "+t),n.Iu.add(r),lI(n))}function lI(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new ie(tt.fromString(e)),r=n.mu.next();n.Eu.set(r,new xw(t)),n.du=n.du.insert(t,r),$P(n.remoteStore,new qu(Br(Zw(t.path)),r,"TargetPurposeLimboResolution",zw.ue))}}function Yu(n,e,t){return b(this,null,function*(){let r=me(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{s.push(r.gu(l,e,t).then(u=>{var f;if((u||t)&&r.isPrimaryClient){let g=u?!u.fromCache:(f=t?.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,g?"current":"not-current")}if(u){i.push(u);let g=sw.Es(l.targetId,u);o.push(g)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(l,u){return b(this,null,function*(){let f=me(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>$.forEach(u,v=>$.forEach(v.Is,E=>f.persistence.referenceDelegate.addReference(g,v.targetId,E)).next(()=>$.forEach(v.ds,E=>f.persistence.referenceDelegate.removeReference(g,v.targetId,E)))))}catch(g){if(!Ec(g))throw g;Y(tI,"Failed to update sequence numbers: "+g)}for(let g of u){let v=g.targetId;if(!g.fromCache){let E=f.Fs.get(v),M=E.snapshotVersion,F=E.withLastLimboFreeSnapshotVersion(M);f.Fs=f.Fs.insert(v,F)}}})})(r.localStore,o))})}function q6(n,e){return b(this,null,function*(){let t=me(n);if(!t.currentUser.isEqual(e)){Y(cI,"User change. New user:",e.toKey());let r=yield UP(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(l=>{l.reject(new K(L.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Yu(t,r.Bs)}})}function W6(n,e){let t=me(n),r=t.Eu.get(e);if(r&&r.lu)return Me().add(r.key);{let i=Me(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function tN(n){let e=me(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=YP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=W6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B6.bind(null,e),e.hu.J_=N6.bind(null,e.eventManager),e.hu.pu=k6.bind(null,e.eventManager),e}function G6(n){let e=me(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=H6.bind(null,e),e}var nN=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return b(this,null,function*(){this.serializer=Lm(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return p6(this.persistence,new cw,t.initialUser,this.serializer)}Du(t){return new um(ow.Vi,this.serializer)}bu(t){return new dw}terminate(){return b(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),Pw=class extends nN{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Le(this.persistence.referenceDelegate instanceof dm,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new WE(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Jn.withCacheSize(this.cacheSizeBytes):Jn.DEFAULT;return new um(r=>dm.Vi(r,t),this.serializer)}};var J6=(()=>{class n{initialize(t,r){return b(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>RR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=q6.bind(null,this.syncEngine),yield P6(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new Dw})()}createDatastore(t){let r=Lm(t.databaseInfo.databaseId),i=(function(s){return new gw(s)})(t.databaseInfo);return(function(s,a,l,u){return new bw(s,a,l,u)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,l){return new ww(i,o,s,a,l)})(this.localStore,this.datastore,t.asyncQueue,r=>RR(this.syncEngine,r,0),(function(){return hm.C()?new hm:new fw})())}createSyncEngine(t,r){return(function(o,s,a,l,u,f,g){let v=new Mw(o,s,a,l,u,f);return g&&(v.fu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return b(this,null,function*(){var t,r;yield(function(o){return b(this,null,function*(){let s=me(o);Y(Ns,"RemoteStore shutting down."),s.Ia.add(5),yield Qu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var wm=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Si("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Mo="FirestoreClient",Nw=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=Vu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>b(this,null,function*(){Y(Mo,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Y(Mo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=sI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function iE(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Y(Mo,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>b(null,null,function*(){r.isEqual(i)||(yield UP(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Do("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Y("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Do("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function NR(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield K6(n);Y(Mo,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>AR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>AR(e.remoteStore,i)),n._onlineComponents=e})}function K6(n){return b(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Y(Mo,"Using user provided OfflineComponentProvider");try{yield iE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Do("Error using user provided cache. Falling back to memory cache: "+t),yield iE(n,new nN)}}else Y(Mo,"Using default OfflineComponentProvider"),yield iE(n,new Pw(void 0));return n._offlineComponents})}function rN(n){return b(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Y(Mo,"Using user provided OnlineComponentProvider"),yield NR(n,n._uninitializedComponentsProvider._online)):(Y(Mo,"Using default OnlineComponentProvider"),yield NR(n,new J6))),n._onlineComponents})}function Q6(n){return rN(n).then(e=>e.syncEngine)}function iN(n){return b(this,null,function*(){let e=yield rN(n),t=e.eventManager;return t.onListen=O6.bind(null,e.syncEngine),t.onUnlisten=V6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=F6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=j6.bind(null,e.syncEngine),t})}function Y6(n,e,t={}){let r=new gr;return n.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return(function(o,s,a,l,u){let f=new wm({next:v=>{f.Ou(),s.enqueueAndForget(()=>KP(o,g));let E=v.docs.has(a);!E&&v.fromCache?u.reject(new K(L.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&l&&l.source==="server"?u.reject(new K(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(v)},error:v=>u.reject(v)}),g=new _m(Zw(a.path),f,{includeMetadataChanges:!0,ka:!0});return JP(o,g)})(yield iN(n),n.asyncQueue,e,t,r)})),r.promise}function Z6(n,e,t={}){let r=new gr;return n.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return(function(o,s,a,l,u){let f=new wm({next:v=>{f.Ou(),s.enqueueAndForget(()=>KP(o,g)),v.fromCache&&l.source==="server"?u.reject(new K(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(v)},error:v=>u.reject(v)}),g=new _m(a,f,{includeMetadataChanges:!0,ka:!0});return JP(o,g)})(yield iN(n),n.asyncQueue,e,t,r)})),r.promise}function oN(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var kR=new Map;var sN="firestore.googleapis.com",OR=!0,Im=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sN,this.ssl=OR}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:OR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=jP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<d6)throw new K(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},gc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Im({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Im(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new oE;switch(r.type){case"firstParty":return new lE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=kR.get(t);r&&(Y("ComponentProvider","Removing Datastore"),kR.delete(t),r.terminate())})(this),Promise.resolve()}};function aN(n,e,t,r={}){var i;n=yr(n,gc);let o=uo(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;o&&(dp(`https://${l}`),fp("Firestore",!0)),s.host!==sN&&s.host!==l&&Do("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!Gn(u,a)&&(n._setSettings(u),r.mockUserToken)){let f,g;if(typeof r.mockUserToken=="string")f=r.mockUserToken,g=kt.MOCK_USER;else{f=o1(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new K(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new kt(v)}n._authCredentials=new sE(new Kp(f,g))}}var yc=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ft=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Ku(t,n._jsonSchema))return new n(e,r||null,new ie(tt.fromString(t.referencePath)))}};Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:At("string",Ft._jsonSchemaVersion),referencePath:At("string")};var Eo=class n extends yc{constructor(e,t,r){super(e,t,Zw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new ie(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function cN(n,e,...t){if(n=Ze(n),$R("collection","path",e),n instanceof gc){let r=tt.fromString(e,...t);return XM(r),new Eo(n,null,r)}{if(!(n instanceof Ft||n instanceof Eo))throw new K(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(tt.fromString(e,...t));return XM(r),new Eo(n.firestore,null,r)}}function uI(n,e,...t){if(n=Ze(n),arguments.length===1&&(e=Vu.newId()),$R("doc","path",e),n instanceof gc){let r=tt.fromString(e,...t);return ZM(r),new Ft(n,null,new ie(r))}{if(!(n instanceof Ft||n instanceof Eo))throw new K(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(tt.fromString(e,...t));return ZM(r),new Ft(n.firestore,n instanceof Eo?n.converter:null,new ie(r))}}var FR="AsyncQueue",Cm=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new pm(this,"async_queue_retry"),this.oc=()=>{let r=rE();r&&Y(FR,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=rE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=rE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new gr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return b(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ec(e))throw e;Y(FR,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Si("INTERNAL UNHANDLED ERROR: ",LR(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=Iw.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ae(47125,{hc:LR(this.tc)})}verifyOperationInProgress(){}Pc(){return b(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function LR(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Pi=class extends gc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Cm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Cm(e),this._firestoreClient=void 0,yield e}})}};function lN(n,e){let t=typeof n=="object"?n:_s(),r=typeof n=="string"?n:e||em,i=za(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=i1("firestore");o&&aN(i,...o)}return i}function dI(n){if(n._terminated)throw new K(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||X6(n),n._firestoreClient}function X6(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,l,u,f){return new pE(a,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,oN(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new Nw(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}var wo=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Zt.fromBase64String(e))}catch(t){throw new K(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ku(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};wo._jsonSchemaVersion="firestore/bytes/1.0",wo._jsonSchema={type:At("string",wo._jsonSchemaVersion),bytes:At("string")};var vc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new K(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new On(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var ks=class{constructor(e){this._methodName=e}};var Io=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new K(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new K(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Ku(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Io._jsonSchemaVersion="firestore/geoPoint/1.0",Io._jsonSchema={type:At("string",Io._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};var Co=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ku(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new K(L.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Co._jsonSchemaVersion="firestore/vectorValue/1.0",Co._jsonSchema={type:At("string",Co._jsonSchemaVersion),vectorValues:At("object")};var e8=/^__.*__$/,kw=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new qr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ps(e,this.data,t,this.fieldTransforms)}},Dm=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new qr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function uN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{Ec:n})}}var Tm=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Am(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(uN(this.Ec)&&e8.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},Ow=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Lm(e)}Dc(e,t,r,i=!1){return new Tm({Ec:e,methodName:t,bc:r,path:On.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Um(n){let e=n._freezeSettings(),t=Lm(n._databaseId);return new Ow(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dN(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);fI("Data must be an object, but it was:",s,r);let a=hN(r,s),l,u;if(o.merge)l=new Kn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let g of o.mergeFields){let v=Vw(e,g,t);if(!s.contains(v))throw new K(L.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);mN(f,v)||f.push(v)}l=new Kn(f),u=s.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,u=s.fieldTransforms;return new kw(new kn(a),l,u)}var Sm=class n extends ks{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function fN(n,e,t){return new Tm({Ec:3,bc:e.settings.bc,methodName:n._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var Fw=class n extends ks{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){let t=fN(this,e,!0),r=this.vc.map(o=>Fs(o,t)),i=new So(r);return new rm(e.path,i)}isEqual(e){return e instanceof n&&Gn(this.vc,e.vc)}},Lw=class n extends ks{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){let t=fN(this,e,!0),r=this.vc.map(o=>Fs(o,t)),i=new Ao(r);return new rm(e.path,i)}isEqual(e){return e instanceof n&&Gn(this.vc,e.vc)}};function t8(n,e,t,r){let i=n.Dc(1,e,t);fI("Data must be an object, but it was:",i,r);let o=[],s=kn.empty();Ro(r,(l,u)=>{let f=hI(e,l,t);u=Ze(u);let g=i.gc(f);if(u instanceof Sm)o.push(f);else{let v=Fs(u,g);v!=null&&(o.push(f),s.set(f,v))}});let a=new Kn(o);return new Dm(s,a,i.fieldTransforms)}function n8(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[Vw(e,r,t)],l=[i];if(o.length%2!=0)throw new K(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)a.push(Vw(e,o[v])),l.push(o[v+1]);let u=[],f=kn.empty();for(let v=a.length-1;v>=0;--v)if(!mN(u,a[v])){let E=a[v],M=l[v];M=Ze(M);let F=s.gc(E);if(M instanceof Sm)u.push(E);else{let O=Fs(M,F);O!=null&&(u.push(E),f.set(E,O))}}let g=new Kn(u);return new Dm(f,g,s.fieldTransforms)}function r8(n,e,t,r=!1){return Fs(t,n.Dc(r?4:3,e))}function Fs(n,e){if(pN(n=Ze(n)))return fI("Unsupported field value:",e,n),hN(n,e);if(n instanceof ks)return(function(r,i){if(!uN(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let l=Fs(a,i.yc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Be.fromDate(r);return{timestampValue:cm(i.serializer,o)}}if(r instanceof Be){let o=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cm(i.serializer,o)}}if(r instanceof Io)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wo)return{bytesValue:PP(i.serializer,r._byteString)};if(r instanceof Ft){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:eI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Co)return(function(s,a){return{mapValue:{fields:{[Gw]:{stringValue:Jw},[sc]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return Xw(a.serializer,u)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Pm(r)}`)})(n,e)}function hN(n,e){let t={};return iP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ro(n,(r,i)=>{let o=Fs(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function pN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Be||n instanceof Io||n instanceof wo||n instanceof Ft||n instanceof ks||n instanceof Co)}function fI(n,e,t){if(!pN(t)||!HR(t)){let r=Pm(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function Vw(n,e,t){if((e=Ze(e))instanceof vc)return e._internalPath;if(typeof e=="string")return hI(n,e);throw Am("Field path arguments must be of type string or ",n,!1,void 0,t)}var i8=new RegExp("[~\\*/\\[\\]]");function hI(n,e,t){if(e.search(i8)>=0)throw Am(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new vc(...e.split("."))._internalPath}catch{throw Am(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Am(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new K(L.INVALID_ARGUMENT,a+n+l)}function mN(n,e){return n.some(t=>t.isEqual(e))}var xm=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new jw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(pI("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},jw=class extends xm{data(){return super.data()}};function pI(n,e){return typeof e=="string"?hI(n,e):e instanceof vc?e._internalPath:e._delegate._internalPath}function o8(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new K(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Ju=class{},Uw=class extends Ju{};function gN(n,e,...t){let r=[];e instanceof Ju&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(l=>l instanceof Bw).length,a=o.filter(l=>l instanceof Mm).length;if(s>1||s>0&&a>0)throw new K(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var Mm=class n extends Uw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return vN(e._query,t),new yc(e.firestore,e.converter,SE(e._query,t))}_parse(e){let t=Um(e.firestore);return(function(o,s,a,l,u,f,g){let v;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new K(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){jR(g,f);let M=[];for(let F of g)M.push(VR(l,o,F));v={arrayValue:{values:M}}}else v=VR(l,o,g)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||jR(g,f),v=r8(a,s,g,f==="in"||f==="not-in");return St.create(u,f,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function yN(n,e,t){let r=e,i=pI("where",n);return Mm._create(i,r,t)}var Bw=class n extends Ju{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:_r.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let l of a)vN(s,l),s=SE(s,l)})(e._query,t),new yc(e.firestore,e.converter,SE(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function VR(n,e,t){if(typeof(t=Ze(t))=="string"){if(t==="")throw new K(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vP(e)&&t.indexOf("/")!==-1)throw new K(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(tt.fromString(t));if(!ie.isDocumentKey(r))throw new K(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return sR(n,new ie(r))}if(t instanceof Ft)return sR(n,t._key);throw new K(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pm(t)}.`)}function jR(n,e){if(!Array.isArray(n)||n.length===0)throw new K(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function vN(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new K(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var $w=class{convertValue(e,t="none"){switch(To(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Ro(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[sc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>et(s.doubleValue));return new Co(o)}convertGeoPoint(e){return new Io(et(e.latitude),et(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=km(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){let t=Ai(e);return new Be(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=tt.fromString(e);Le(VP(r),9688,{name:e});let i=new tm(r.get(1),r.get(3)),o=new ie(r.popFirst(5));return i.isEqual(t)||Si(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function _N(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ss=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},As=class n extends xm{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(pI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(L.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};As._jsonSchemaVersion="firestore/documentSnapshot/1.0",As._jsonSchema={type:At("string",As._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};var rc=class extends As{data(e={}){return super.data(e)}},ic=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ss(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new rc(this._firestore,this._userDataWriter,r.key,r,new Ss(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new K(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new rc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ss(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new rc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ss(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,f=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),f=s.indexOf(a.doc.key)),{type:s8(a.type),doc:l,oldIndex:u,newIndex:f}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(L.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function s8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:n})}}function bN(n){n=yr(n,Ft);let e=yr(n.firestore,Pi);return Y6(dI(e),n._key).then(t=>a8(e,n,t))}ic._jsonSchemaVersion="firestore/querySnapshot/1.0",ic._jsonSchema={type:At("string",ic._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};var Rm=class extends $w{constructor(e){super(),this.firestore=e}convertBytes(e){return new wo(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}};function EN(n){n=yr(n,yc);let e=yr(n.firestore,Pi),t=dI(e),r=new Rm(e);return o8(n._query),Z6(t,n._query).then(i=>new ic(e,r,n,i))}function wN(n,e,t){n=yr(n,Ft);let r=yr(n.firestore,Pi),i=_N(n.converter,e,t);return Bm(r,[dN(Um(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,$r.none())])}function IN(n,e,t,...r){n=yr(n,Ft);let i=yr(n.firestore,Pi),o=Um(i),s;return s=typeof(e=Ze(e))=="string"||e instanceof vc?n8(o,"updateDoc",n._key,e,t,r):t8(o,"updateDoc",n._key,e),Bm(i,[s.toMutation(n._key,$r.exists(!0))])}function CN(n){return Bm(yr(n.firestore,Pi),[new Hu(n._key,$r.none())])}function DN(n,e){let t=yr(n.firestore,Pi),r=uI(n),i=_N(n.converter,e);return Bm(t,[dN(Um(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,$r.exists(!1))]).then(()=>r)}function Bm(n,e){return(function(r,i){let o=new gr;return r.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return U6(yield Q6(r),i,o)})),o.promise})(dI(n),e)}function a8(n,e,t){let r=t.docs.get(e._key),i=new Rm(n);return new As(n,i,e._key,r,new Ss(t.hasPendingWrites,t.fromCache),e.converter)}function mI(...n){return new Fw("arrayUnion",n)}function TN(...n){return new Lw("arrayRemove",n)}(function(e,t=!0){(function(i){_c=i})(ho),pr(new un("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Pi(new aE(r.getProvider("auth-internal")),new uE(s,r.getProvider("app-check-internal")),(function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tm(u.options.projectId,f)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ut(JM,KM,e),ut(JM,KM,"esm2017")})();var fn=class{constructor(e){return e}},SN="firestore",gI=class{constructor(){return Wa(SN)}};var yI=new Z("angularfire2.firestore-instances");function c8(n,e){let t=bu(SN,n,e);return t&&new fn(t)}function l8(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new fn(r)}}var u8={provide:gI,deps:[[new An,yI]]},d8={provide:fn,useFactory:c8,deps:[[new An,yI],bi]};function AN(n,...e){return ut("angularfire",po.full,"fst"),yn([d8,u8,{provide:yI,useFactory:l8(n),multi:!0,deps:[ke,at,mo,Es,[new An,Ru],[new An,Ga],...e]}])}var xN=Xe(DN,!0,2);var Lt=Xe(cN,!0,2);var $m=Xe(CN,!0,2);var nt=Xe(uI,!0,2);var Ls=Xe(bN,!0);var $t=Xe(EN,!0);var MN=Xe(lN,!0);var Vs=Xe(gN,!0,2);var Zu=Xe(wN,!0,2);var Xt=Xe(IN,!0,2);var js=Xe(yN,!0,2);var ze=class n{auth=P(Ci);firestore=P(fn);router=P(it);currentUser=ee(null);userProfile=ee(null);isLoggedIn=ee(!1);authError=ee(null);loading=ee(!1);authReady=ee(!1);constructor(){UM(this.auth,e=>b(this,null,function*(){this.currentUser.set(e),this.isLoggedIn.set(!!e),e?yield this.loadUserProfile(e.uid):this.userProfile.set(null),this.authReady.set(!0)}))}waitForAuthState(){return b(this,null,function*(){for(;!this.authReady();)yield new Promise(e=>setTimeout(e,100))})}loadUserProfile(e){return b(this,null,function*(){try{let t=nt(this.firestore,"users",e),r=yield Ls(t);r.exists()&&this.userProfile.set(r.data())}catch(t){console.error("Error loading user profile:",t)}})}getUserProfile(e){return b(this,null,function*(){try{let t=nt(this.firestore,"users",e),r=yield Ls(t);return r.exists()?r.data():null}catch(t){return console.error("Error getting user profile:",t),null}})}login(e,t){return b(this,null,function*(){this.loading.set(!0),this.authError.set(null);try{let r=yield $M(this.auth,e,t);return yield new Promise(i=>setTimeout(i,500)),yield this.loadUserProfile(r.user.uid),this.clearError(),this.router.navigate(["/"]),!0}catch(r){console.error("Login error full:",r);let i=this.getErrorMessage(r.code||r.message);return this.authError.set(i),!1}finally{this.loading.set(!1)}})}register(e,t,r,i,o,s){return b(this,null,function*(){this.loading.set(!0),this.authError.set(null);try{let a=yield Up(this.auth,i,o),l={uid:a.user.uid,firstName:e,lastName:t,company:r,email:i,role:s,savedJobs:[],createdAt:new Date};return yield Zu(nt(this.firestore,"users",a.user.uid),l),this.userProfile.set(l),this.clearError(),s==="applicant"?this.router.navigate(["/profile"]):this.router.navigate(["/"]),!0}catch(a){return this.authError.set(this.getErrorMessage(a.code)),!1}finally{this.loading.set(!1)}})}logout(){return b(this,null,function*(){try{yield HM(this.auth),this.userProfile.set(null),this.clearError(),this.router.navigate(["/login"])}catch(e){this.authError.set(this.getErrorMessage(e.code))}})}hasRole(e){return this.userProfile()?.role===e}isAdmin(){return this.hasRole("admin")}isEmployer(){return this.hasRole("employer")}isApplicant(){return this.hasRole("applicant")}clearError(){this.authError.set(null)}updateUserProfile(e,t){return b(this,null,function*(){try{let r=nt(this.firestore,"users",e);yield Xt(r,t);let i=this.userProfile();i&&this.userProfile.set(V(V({},i),t))}catch(r){throw console.error("Error updating user profile:",r),r}})}updateEmail(e){return b(this,null,function*(){let t=this.currentUser();if(!t)throw new Error("No authenticated user.");try{yield zM(t,e);let r=this.userProfile();r&&(yield this.updateUserProfile(r.uid,{email:e}))}catch(r){throw console.error("Error updating email:",r),r}})}updatePassword(e){return b(this,null,function*(){let t=this.currentUser();if(!t)throw new Error("No authenticated user.");try{yield qM(t,e)}catch(r){throw console.error("Error updating password:",r),r}})}sendPasswordReset(e){return b(this,null,function*(){try{yield BM(this.auth,e)}catch(t){throw console.error("Error sending password reset email:",t),this.authError.set(this.getErrorMessage(t.code||t.message)),t}})}getErrorMessage(e){switch(e){case"auth/user-not-found":return"No account found with this email.";case"auth/wrong-password":return"Incorrect password.";case"auth/invalid-credential":return"Invalid email or password.";case"auth/email-already-in-use":return"An account with this email already exists.";case"auth/weak-password":return"Password should be at least 6 characters.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";default:return"An error occurred. Please try again."}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})};var en=class n{firestore=P(fn);authService=P(ze);jobs=ee([]);loading=ee(!1);initializeSampleData(){return b(this,null,function*(){yield this.loadJobs()})}loadJobs(){return b(this,null,function*(){this.loading.set(!0);try{yield this.migrateJobTypes();let e=Lt(this.firestore,"jobs"),r=(yield $t(e)).docs.map(i=>{let o=i.data();return te(V({id:i.id},o),{postedDate:o.postedDate?.toDate?o.postedDate.toDate():o.postedDate})}).filter(i=>i.status!=="rejected");this.jobs.set(r)}catch(e){console.error("Error loading jobs:",e),this.jobs.set([])}finally{this.loading.set(!1)}})}migrateJobTypes(){return b(this,null,function*(){try{let e=Lt(this.firestore,"jobs"),t=yield $t(e),r=0;for(let i of t.docs){let s=i.data().type,a=s;s==="Full Time"?a="Full-Time":s==="Part Time"&&(a="Part-Time"),a!==s&&(yield Xt(nt(this.firestore,"jobs",i.id),{type:a}),console.log(`[Migrate Job Types] Updated "${s}" \u2192 "${a}"`),r++)}r>0&&console.log(`%c\u2713 Migrated ${r} jobs to new type format`,"color: purple; font-weight: bold;")}catch(e){console.error("Job type migration error:",e)}})}list(e){let t=this.jobs();return e?t.filter(r=>{let i=e.title?r.title.toLowerCase().includes(e.title.toLowerCase()):!0,o=e.company?r.company.toLowerCase().includes(e.company.toLowerCase()):!0,s=e.location?r.location.toLowerCase().includes(e.location.toLowerCase()):!0,a=e.type?r.type.toLowerCase()===e.type.toLowerCase():!0;return i&&o&&s&&a}):t}getById(e){return this.jobs().find(t=>t.id===e)}getAllJobs(){return b(this,null,function*(){try{let e=Lt(this.firestore,"jobs");return(yield $t(e)).docs.map(i=>{let o=i.data();return te(V({id:i.id},o),{postedDate:o.postedDate?.toDate?o.postedDate.toDate():o.postedDate,applicants:(o.applicants||[]).map(s=>te(V({},s),{appliedAt:s.appliedAt?.toDate?s.appliedAt.toDate():s.appliedAt}))})})}catch(e){return console.error("Error loading all jobs:",e),[]}})}create(e){return b(this,null,function*(){try{let t=Lt(this.firestore,"jobs"),r=Be.now(),i=te(V({},e),{postedDate:r,status:"pending"});console.log("Creating job with data:",i);let o=yield xN(t,i);console.log("Job created with ID:",o.id);let s=te(V({id:o.id},e),{postedDate:r.toDate(),status:"pending"}),a=this.jobs();return this.jobs.set([...a,s]),s}catch(t){throw console.error("Error creating job:",t),t}})}update(e,t){return b(this,null,function*(){try{let r=nt(this.firestore,"jobs",e);yield Xt(r,t);let i=this.jobs(),o=i.findIndex(s=>s.id===e);if(o!==-1){let s=V(V({},i[o]),t),a=[...i];return a[o]=s,this.jobs.set(a),s}return null}catch(r){return console.error("Error updating job:",r),null}})}delete(e){return b(this,null,function*(){try{let t=nt(this.firestore,"jobs",e);yield $m(t);let r=this.jobs();return this.jobs.set(r.filter(i=>i.id!==e)),!0}catch(t){return console.error("Error deleting job:",t),!1}})}isJobSaved(e){return(this.authService.userProfile()?.savedJobs||[]).includes(e)}saveJob(e){return b(this,null,function*(){let t=this.authService.currentUser();if(t)try{let r=nt(this.firestore,"users",t.uid);yield Xt(r,{savedJobs:mI(e)});let i=this.authService.userProfile();if(i){let o=[...i.savedJobs||[],e];this.authService.userProfile.set(te(V({},i),{savedJobs:o}))}}catch(r){console.error("Error saving job:",r)}})}unsaveJob(e){return b(this,null,function*(){let t=this.authService.currentUser();if(t)try{let r=nt(this.firestore,"users",t.uid);yield Xt(r,{savedJobs:TN(e)});let i=this.authService.userProfile();if(i){let o=(i.savedJobs||[]).filter(s=>s!==e);this.authService.userProfile.set(te(V({},i),{savedJobs:o}))}}catch(r){console.error("Error unsaving job:",r)}})}toggleSaveJob(e){return b(this,null,function*(){this.isJobSaved(e)?yield this.unsaveJob(e):yield this.saveJob(e)})}getEmployerJobs(e){return b(this,null,function*(){try{console.log("Loading jobs for employer:",e);let t=Lt(this.firestore,"jobs"),r=Vs(t,js("postedBy","==",e)),i=yield $t(r);console.log("Found",i.docs.length,"jobs for employer");let o=i.docs.map(s=>{let a=s.data();return te(V({id:s.id},a),{postedDate:a.postedDate?.toDate?a.postedDate.toDate():a.postedDate,applicants:(a.applicants||[]).map(l=>te(V({},l),{appliedAt:l.appliedAt?.toDate?l.appliedAt.toDate():l.appliedAt}))})});return console.log("Mapped employer jobs:",o),o}catch(t){return console.error("Error loading employer jobs:",t),[]}})}applyJob(e,t){return b(this,null,function*(){let r=this.authService.currentUser();if(!r)return!1;try{let i=nt(this.firestore,"jobs",e),o=yield Ls(i);if(!o.exists())return console.error("Job not found:",e),!1;if((o.data().applicants||[]).some(g=>g.userId===r.uid))return console.warn("User has already applied to this job"),!1;let l=yield this.authService.getUserProfile(r.uid),u=l?`${l.firstName||""} ${l.lastName||""}`.trim():"",f={userId:r.uid,email:r.email,name:u||r.email,appliedAt:Be.now(),status:"pending",responses:t||[]};return yield Xt(i,{applicants:mI(f)}),yield this.saveJob(e),console.log("Successfully applied to job:",e),!0}catch(i){return console.error("Error applying to job:",i),!1}})}updateApplicantStatus(e,t,r){return b(this,null,function*(){try{let i=nt(this.firestore,"jobs",e),o=yield Ls(i);if(!o.exists())return console.error("Job not found when updating applicant status:",e),!1;let l=(o.data().applicants||[]).map(u=>u.userId===t?te(V({},u),{status:r}):u);return yield Xt(i,{applicants:l}),!0}catch(i){return console.error("Error updating applicant status:",i),!1}})}removeApplicant(e,t){return b(this,null,function*(){try{let r=nt(this.firestore,"jobs",e),i=yield Ls(r);if(!i.exists())return console.error("Job not found when removing applicant:",e),!1;let a=(i.data().applicants||[]).filter(l=>l.userId!==t);return yield Xt(r,{applicants:a}),console.log("Successfully removed applicant from job:",e),!0}catch(r){return console.error("Error removing applicant:",r),!1}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})};var Hm=class n{firestore=P(fn);enhanceJobDescriptions(){return b(this,null,function*(){try{let e=Lt(this.firestore,"jobs"),t=yield $t(e),r=0;for(let i of t.docs){let s=i.data().title,a=this.generateDetailedDescription(s);yield Xt(nt(this.firestore,"jobs",i.id),{description:a.description,minimumRequirements:a.minimumRequirements,preferredRequirements:a.preferredRequirements,jobExpectations:a.jobExpectations}),console.log(`Enhanced job: ${s}`),r++}console.log(`%c\u2713 Enhanced ${r} job descriptions`,"color: green; font-weight: bold;")}catch(e){console.error("Error enhancing job descriptions:",e)}})}generateDetailedDescription(e){let t=e.toLowerCase();return t.includes("software")||t.includes("developer")||t.includes("engineer")?{description:`We are seeking a talented ${e} to join our dynamic team. You will be responsible for designing, developing, and maintaining high-quality software solutions. This role offers an opportunity to work on cutting-edge technologies and contribute to impactful projects that serve thousands of users.`,minimumRequirements:["Bachelor's degree in Computer Science, Engineering, or related field","2+ years of professional software development experience","Strong programming skills in at least one modern language","Experience with version control systems (Git)","Understanding of software development lifecycle and agile methodologies","Excellent problem-solving and analytical skills"],preferredRequirements:["Experience with cloud platforms (AWS, Azure, or GCP)","Knowledge of containerization technologies (Docker, Kubernetes)","Familiarity with CI/CD pipelines","Experience with test-driven development","Contributions to open-source projects","Strong communication and teamwork skills"],jobExpectations:["Write clean, maintainable, and efficient code","Collaborate with cross-functional teams to define and ship new features","Participate in code reviews and provide constructive feedback","Debug and resolve technical issues in production environments","Stay updated with emerging technologies and industry trends","Contribute to technical documentation and knowledge sharing"]}:t.includes("designer")||t.includes("ui")||t.includes("ux")?{description:`Join our creative team as a ${e}! You will craft beautiful, intuitive user experiences that delight our customers. Working closely with product managers and developers, you'll bring ideas to life through thoughtful design and user research.`,minimumRequirements:["Bachelor's degree in Design, HCI, or related field","2+ years of professional design experience","Strong portfolio demonstrating design thinking and execution","Proficiency in design tools (Figma, Sketch, Adobe Creative Suite)","Understanding of user-centered design principles","Experience with responsive and mobile-first design"],preferredRequirements:["Experience conducting user research and usability testing","Knowledge of HTML/CSS and front-end development basics","Familiarity with design systems and component libraries","Animation and motion design skills","Experience with prototyping tools","Understanding of accessibility standards (WCAG)"],jobExpectations:["Create wireframes, mockups, and high-fidelity designs","Conduct user research and translate findings into design decisions","Collaborate with developers to ensure design implementation","Maintain and evolve design system components","Present design concepts to stakeholders","Iterate designs based on user feedback and metrics"]}:t.includes("manager")||t.includes("lead")?{description:`We are looking for an experienced ${e} to lead our team to success. You will be responsible for strategic planning, team development, and ensuring project delivery. This leadership role requires strong communication skills and the ability to inspire and mentor team members.`,minimumRequirements:["Bachelor's degree in relevant field or equivalent experience","5+ years of professional experience with 2+ years in leadership","Proven track record of successful project delivery","Strong leadership and people management skills","Excellent communication and interpersonal abilities","Experience with budget management and resource planning"],preferredRequirements:["MBA or relevant advanced degree","Experience managing remote or distributed teams","Certifications in project management (PMP, Agile, Scrum)","Industry-specific domain expertise","Experience with performance management and coaching","Strong stakeholder management skills"],jobExpectations:["Lead and mentor team members to achieve their full potential","Define project goals, timelines, and success metrics","Manage resource allocation and project budgets","Foster a culture of collaboration and continuous improvement","Communicate project status to stakeholders and executives","Identify and mitigate risks to project success"]}:t.includes("analyst")||t.includes("data")?{description:`Seeking a detail-oriented ${e} to join our analytics team. You will transform raw data into actionable insights that drive business decisions. This role requires strong analytical thinking and the ability to communicate complex findings to non-technical stakeholders.`,minimumRequirements:["Bachelor's degree in Statistics, Mathematics, Economics, or related field","2+ years of experience in data analysis","Proficiency in SQL and data manipulation","Experience with data visualization tools","Strong analytical and problem-solving skills","Excellent attention to detail"],preferredRequirements:["Experience with Python or R for statistical analysis","Knowledge of machine learning concepts","Familiarity with big data technologies","Experience with A/B testing and experimental design","Understanding of statistical modeling techniques","Experience with business intelligence platforms"],jobExpectations:["Analyze complex datasets to identify trends and patterns","Create dashboards and reports for stakeholders","Collaborate with teams to define key metrics","Conduct statistical analysis to support business decisions","Present findings and recommendations to leadership","Ensure data quality and integrity"]}:{description:`We are hiring for the position of ${e}. Join our growing team and contribute to exciting projects. This role offers competitive compensation, professional development opportunities, and a collaborative work environment where your contributions are valued.`,minimumRequirements:["Relevant bachelor's degree or equivalent work experience","2+ years of professional experience in related field","Strong communication and collaboration skills","Ability to work independently and as part of a team","Problem-solving mindset and attention to detail","Proficiency in relevant tools and technologies"],preferredRequirements:["Advanced degree or professional certifications","Experience in similar industry or domain","Leadership or mentoring experience","Track record of successful project delivery","Continuous learning and professional development","Strong portfolio or work samples"],jobExpectations:["Deliver high-quality work that meets business objectives","Collaborate effectively with cross-functional teams","Take ownership of assigned projects and responsibilities","Communicate progress and challenges proactively","Contribute to team knowledge sharing and best practices","Adapt to changing priorities and business needs"]}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})};function f8(n,e){n&1&&(p(0,"a",5),y(1," Find Jobs"),m())}function h8(n,e){n&1&&(p(0,"a",14),y(1,"Saved Jobs"),m(),p(2,"a",15),y(3,"Applied Jobs"),m())}function p8(n,e){n&1&&(p(0,"a",16),y(1,"Post Job"),m(),p(2,"a",17),y(3,"My Jobs"),m())}function m8(n,e){n&1&&(p(0,"a",18),y(1,"Jobs Management"),m(),p(2,"a",19),y(3,"User Management"),m())}function g8(n,e){if(n&1){let t=se();W(0,h8,4,0),W(1,p8,4,0),W(2,m8,4,0),p(3,"div",8)(4,"a",9),ne(5,"i",10),y(6," Profile "),m(),p(7,"span",11),y(8),m(),p(9,"span",12),y(10),m(),p(11,"button",13),B("click",function(){j(t);let i=x();return U(i.authService.logout())}),y(12,"Logout"),m()()}if(n&2){let t,r,i=x();G(i.authService.isApplicant()?0:-1),w(),G(i.authService.isEmployer()?1:-1),w(),G(i.authService.isAdmin()?2:-1),w(6),H((t=i.authService.userProfile())==null?null:t.role),w(2),H((r=i.authService.currentUser())==null?null:r.email)}}function y8(n,e){n&1&&(p(0,"a",6),y(1,"Login"),m())}var zm=class n{title=ee("community-job-board");authService=P(ze);jobsService=P(en);enhanceJobsService=P(Hm);ngOnInit(){return b(this,null,function*(){yield this.jobsService.initializeSampleData(),yield this.enhanceJobsService.enhanceJobDescriptions(),yield this.jobsService.loadJobs()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-root"]],decls:11,vars:2,consts:[[1,"navbar","bg-dark","text-white","container-fluid","px-4"],[1,"d-flex","justify-content-between","align-items-center","w-100"],["routerLink","/",1,"text-decoration-none","text-white","navbar-logo"],[1,"fw-bold","mb-0"],[1,"d-flex","gap-3","align-items-center"],["routerLink","/job-list",1,"nav-link","text-white"],["routerLink","/login",1,"btn","btn-outline-light","btn-sm","login-btn"],[1,"p-3"],[1,"navbar-user-info","ms-2"],["routerLink","/profile",1,"nav-link","text-white"],[1,"fas","fa-user-circle","me-1"],[1,"badge","bg-secondary"],[1,"text-white-50","small"],[1,"btn","btn-outline-light","btn-sm",3,"click"],["routerLink","/saved-jobs",1,"nav-link","text-white"],["routerLink","/applied-jobs",1,"nav-link","text-white"],["routerLink","/create-job",1,"nav-link","text-white"],["routerLink","/employer-jobs",1,"nav-link","text-white"],["routerLink","/admin",1,"nav-link"],["routerLink","/user-management",1,"nav-link"]],template:function(t,r){t&1&&(p(0,"nav",0)(1,"div",1)(2,"a",2)(3,"h1",3),y(4,"JobBoard"),m()(),p(5,"div",4),W(6,f8,2,0,"a",5),W(7,g8,13,5)(8,y8,2,0,"a",6),m()()(),p(9,"main",7),ne(10,"router-outlet"),m()),t&2&&(w(6),G(r.authService.isApplicant()||!r.authService.isLoggedIn()?6:-1),w(),G(r.authService.isLoggedIn()?7:8))},dependencies:[lu,vi,lo,lt],styles:[".bg-dark[_ngcontent-%COMP%]{background-color:#051a49!important;box-shadow:0 4px 6px -1px #0000001a}nav[_ngcontent-%COMP%]{height:60px;min-height:60px;display:flex;align-items:center;padding-top:0!important;padding-bottom:0!important}.navbar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Poppins;font-size:26px;margin:0;letter-spacing:0}a.nav-link[_ngcontent-%COMP%], .btn-sm[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:18px;font-weight:700;padding:6px 12px;border-radius:4px;transition:all .2s ease}a.nav-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center}a.nav-link[_ngcontent-%COMP%]:hover{color:#97afff!important}.navbar-user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding-left:12px;margin-left:12px;border-left:1px solid rgba(255,255,255,.2)}.btn-outline-light[_ngcontent-%COMP%]{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light[_ngcontent-%COMP%]:hover{background-color:#f8f9fa;color:#051a49}"]})};var jN=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(ve(ar),ve(Bn))};static \u0275dir=ct({type:n})}return n})(),Xm=(()=>{class n extends jN{static \u0275fac=(()=>{let t;return function(i){return(t||(t=di(n)))(i||n)}})();static \u0275dir=ct({type:n,features:[$n]})}return n})(),od=new Z(""),v8={provide:od,useExisting:Xn(()=>bI),multi:!0},bI=(()=>{class n extends Xm{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=di(n)))(i||n)}})();static \u0275dir=ct({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&B("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[eo([v8]),$n]})}return n})(),_8={provide:od,useExisting:Xn(()=>tn),multi:!0};function b8(){let n=zn()?zn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var E8=new Z(""),tn=(()=>{class n extends jN{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!b8())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(ve(ar),ve(Bn),ve(E8,8))};static \u0275dir=ct({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&B("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[eo([_8]),$n]})}return n})();var UN=new Z(""),BN=new Z("");function $N(n){return n!=null}function HN(n){return Xi(n)?Qe(n):n}function zN(n){let e={};return n.forEach(t=>{e=t!=null?V(V({},e),t):e}),Object.keys(e).length===0?null:e}function qN(n,e){return e.map(t=>t(n))}function w8(n){return!n.validate}function WN(n){return n.map(e=>w8(e)?e:t=>e.validate(t))}function I8(n){if(!n)return null;let e=n.filter($N);return e.length==0?null:function(t){return zN(qN(t,e))}}function EI(n){return n!=null?I8(WN(n)):null}function C8(n){if(!n)return null;let e=n.filter($N);return e.length==0?null:function(t){let r=qN(t,e).map(HN);return ay(r).pipe(xe(zN))}}function wI(n){return n!=null?C8(WN(n)):null}function RN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function D8(n){return n._rawValidators}function T8(n){return n._rawAsyncValidators}function vI(n){return n?Array.isArray(n)?n:[n]:[]}function Wm(n,e){return Array.isArray(n)?n.includes(e):n===e}function PN(n,e){let t=vI(e);return vI(n).forEach(i=>{Wm(t,i)||t.push(i)}),t}function NN(n,e){return vI(e).filter(t=>!Wm(n,t))}var Gm=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=EI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Dc=class extends Gm{name;get formDirective(){return null}get path(){return null}},id=class extends Gm{_parent=null;name=null;valueAccessor=null},Jm=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},S8={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Pde=te(V({},S8),{"[class.ng-submitted]":"isSubmitted"}),En=(()=>{class n extends Jm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ve(id,2))};static \u0275dir=ct({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&It("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[$n]})}return n})(),eg=(()=>{class n extends Jm{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(ve(Dc,10))};static \u0275dir=ct({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&It("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[$n]})}return n})();var Xu="VALID",qm="INVALID",Ic="PENDING",ed="DISABLED",Po=class{},Km=class extends Po{value;source;constructor(e,t){super(),this.value=e,this.source=t}},nd=class extends Po{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},rd=class extends Po{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Cc=class extends Po{status;source;constructor(e,t){super(),this.status=e,this.source=t}},_I=class extends Po{source;constructor(e){super(),this.source=e}},Qm=class extends Po{source;constructor(e){super(),this.source=e}};function GN(n){return(tg(n)?n.validators:n)||null}function A8(n){return Array.isArray(n)?EI(n):n||null}function JN(n,e){return(tg(e)?e.asyncValidators:n)||null}function x8(n){return Array.isArray(n)?wI(n):n||null}function tg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function M8(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[t])throw new Q(1001,"")}function R8(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Q(1002,"")})}var Ym=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Pt(this.statusReactive)}set status(e){Pt(()=>this.statusReactive.set(e))}_status=_n(()=>this.statusReactive());statusReactive=ee(void 0);get valid(){return this.status===Xu}get invalid(){return this.status===qm}get pending(){return this.status==Ic}get disabled(){return this.status===ed}get enabled(){return this.status!==ed}errors;get pristine(){return Pt(this.pristineReactive)}set pristine(e){Pt(()=>this.pristineReactive.set(e))}_pristine=_n(()=>this.pristineReactive());pristineReactive=ee(!0);get dirty(){return!this.pristine}get touched(){return Pt(this.touchedReactive)}set touched(e){Pt(()=>this.touchedReactive.set(e))}_touched=_n(()=>this.touchedReactive());touchedReactive=ee(!1);get untouched(){return!this.touched}_events=new vt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(PN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(PN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(NN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(NN(e,this._rawAsyncValidators))}hasValidator(e){return Wm(this._rawValidators,e)}hasAsyncValidator(e){return Wm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(te(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new rd(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new rd(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(te(V({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new nd(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new nd(!0,r))}markAsPending(e={}){this.status=Ic;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(te(V({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ed,this.errors=null,this._forEachChild(i=>{i.disable(te(V({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Km(this.value,r)),this._events.next(new Cc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(te(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Xu,this._forEachChild(r=>{r.enable(te(V({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(te(V({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xu||this.status===Ic)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Km(this.value,t)),this._events.next(new Cc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(te(V({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ed:Xu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ic,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=HN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Cc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new wt,this.statusChanges=new wt}_calculateStatus(){return this._allControlsDisabled()?ed:this.errors?qm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ic)?Ic:this._anyControlsHaveStatus(qm)?qm:Xu}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new nd(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new rd(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=A8(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=x8(this._rawAsyncValidators)}},Zm=class extends Ym{constructor(e,t,r){super(GN(t),JN(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){R8(this,!0,e),Object.keys(e).forEach(r=>{M8(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new Qm(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var II=new Z("",{providedIn:"root",factory:()=>CI}),CI="always";function P8(n,e){return[...e.path,n]}function KN(n,e,t=CI){QN(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),k8(n,e),F8(n,e),O8(n,e),N8(n,e)}function kN(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function N8(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function QN(n,e){let t=D8(n);e.validator!==null?n.setValidators(RN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=T8(n);e.asyncValidator!==null?n.setAsyncValidators(RN(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();kN(e._rawValidators,i),kN(e._rawAsyncValidators,i)}function k8(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&YN(n,e)})}function O8(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&YN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function YN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function F8(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function L8(n,e){n==null,QN(n,e)}function V8(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function j8(n){return Object.getPrototypeOf(n.constructor)===Xm}function U8(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function B8(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===tn?t=o:j8(o)?r=o:i=o}),i||r||t||null}var $8={provide:Dc,useExisting:Xn(()=>sd)},td=Promise.resolve(),sd=(()=>{class n extends Dc{callSetDisabledState;get submitted(){return Pt(this.submittedReactive)}_submitted=_n(()=>this.submittedReactive());submittedReactive=ee(!1);_directives=new Set;form;ngSubmit=new wt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Zm({},EI(t),wI(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){td.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),KN(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){td.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){td.then(()=>{let r=this._findContainer(t.path),i=new Zm({});L8(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){td.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){td.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),U8(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new _I(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(ve(UN,10),ve(BN,10),ve(II,8))};static \u0275dir=ct({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&B("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[eo([$8]),$n]})}return n})();function ON(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function FN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var H8=class extends Ym{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(GN(t),JN(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(FN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new Qm(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ON(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ON(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){FN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var z8={provide:id,useExisting:Xn(()=>hn)},LN=Promise.resolve(),hn=(()=>{class n extends id{_changeDetectorRef;callSetDisabledState;control=new H8;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new wt;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=B8(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),V8(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){KN(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){LN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&us(r);LN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?P8(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(ve(Dc,9),ve(UN,10),ve(BN,10),ve(od,10),ve(no,8),ve(II,8))};static \u0275dir=ct({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[eo([z8]),$n,Zi]})}return n})();var ng=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=ct({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var q8={provide:od,useExisting:Xn(()=>Wr),multi:!0};function ZN(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function W8(n){return n.split(":")[0]}var Wr=(()=>{class n extends Xm{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=P(fi).injector;destroyRef=P(Un);cdr=P(no);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Sl({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=ZN(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=W8(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=di(n)))(i||n)}})();static \u0275dir=ct({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&B("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[eo([q8]),$n]})}return n})(),Gr=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(ZN(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(ve(Bn),ve(ar),ve(Wr,9))};static \u0275dir=ct({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),G8={provide:od,useExisting:Xn(()=>XN),multi:!0};function VN(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function J8(n){return n.split(":")[0]}var XN=(()=>{class n extends Xm{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],u=this._getOptionValue(l.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=J8(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=di(n)))(i||n)}})();static \u0275dir=ct({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&B("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[eo([G8]),$n]})}return n})(),Jr=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(VN(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(VN(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(ve(Bn),ve(ar),ve(XN,9))};static \u0275dir=ct({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var K8=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ar({type:n});static \u0275inj=er({})}return n})();var wn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:II,useValue:t.callSetDisabledState??CI}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Ar({type:n});static \u0275inj=er({imports:[K8]})}return n})();var Q8=(n,e)=>e.value,Y8=(n,e)=>e.id;function Z8(n,e){if(n&1&&(p(0,"option",15),y(1),m()),n&2){let t=e.$implicit;J("value",t.value),w(),H(t.label)}}function X8(n,e){if(n&1){let t=se();p(0,"button",34),B("click",function(i){j(t);let o=x().$implicit,s=x();return U(s.toggleSaveJob(o.id,i))}),y(1),m()}if(n&2){let t=x().$implicit,r=x();It("saved",r.isJobSaved(t.id)),J("title",r.isJobSaved(t.id)?"Remove from saved":"Save job"),w(),Ie(" ",r.isJobSaved(t.id)?"\u2605":"\u2606"," ")}}function e9(n,e){if(n&1){let t=se();p(0,"div",28),B("click",function(){let i=j(t).$implicit,o=x();return U(o.viewJob(i.id))}),p(1,"div",29)(2,"div")(3,"h2",30),y(4),m(),p(5,"p",31),y(6),m(),p(7,"p",32),y(8),m()(),W(9,X8,2,4,"button",33),m()()}if(n&2){let t=e.$implicit,r=x();It("active",(r.jobDetails==null?null:r.jobDetails.id)===t.id),w(4),H(t.title),w(2),vn("",t.location," | ",t.type),w(2),H(t.salary),w(),G(r.canSaveJobs()?9:-1)}}function t9(n,e){if(n&1){let t=se();p(0,"button",43),B("click",function(i){j(t);let o=x(2);return U(o.toggleSaveJob(o.jobDetails.id,i))}),y(1),m()}if(n&2){let t=x(2);It("btn-outline-warning",t.isJobSaved(t.jobDetails.id))("btn-outline-secondary",!t.isJobSaved(t.jobDetails.id)),w(),Ie(" ",t.isJobSaved(t.jobDetails.id)?"Unsave Job":"Save Job"," ")}}function n9(n,e){if(n&1){let t=se();p(0,"div",25)(1,"h2",35),y(2),m(),p(3,"h3",36),y(4),m(),p(5,"div",37)(6,"span",38),y(7),m(),p(8,"span",38),y(9),m(),p(10,"span",39),y(11),m()(),p(12,"p",40),y(13),m(),p(14,"div",41)(15,"button",17),B("click",function(i){j(t);let o=x();return U(o.applyToJob(o.jobDetails.id,i))}),y(16,"Apply"),m(),W(17,t9,2,5,"button",42),m()()}if(n&2){let t=x();w(2),H(t.jobDetails.title),w(2),H(t.jobDetails.company),w(3),H(t.jobDetails.location),w(2),H(t.jobDetails.type),w(2),H(t.jobDetails.salary),w(2),H(t.jobDetails.description),w(4),G(t.canSaveJobs()?17:-1)}}function r9(n,e){n&1&&(p(0,"div",26),ne(1,"i",44),p(2,"p",45),y(3,"Select a job to view details"),m()())}function i9(n,e){n&1&&(p(0,"span",54),y(1,"*"),m())}function o9(n,e){if(n&1){let t=se();p(0,"div",49)(1,"label",53),y(2),W(3,i9,2,0,"span",54),m(),p(4,"textarea",55),be("ngModelChange",function(i){let o=j(t).$implicit;return Ee(o.answer,i)||(o.answer=i),U(i)}),m()()}if(n&2){let t=e.$implicit,r=e.$index,i=x(3);w(2),Ie(" ",t.question," "),w(),G(i.applicationQuestions[r].required?3:-1),w(),_e("ngModel",t.answer),J("name","response-"+r)("disabled",i.isSubmitting)}}function s9(n,e){if(n&1){let t=se();p(0,"h2"),y(1),m(),p(2,"p",48),y(3,"Please answer the following questions to complete your application."),m(),p(4,"form"),qe(5,o9,5,5,"div",49,hi),m(),p(7,"div",50)(8,"button",51),B("click",function(){j(t);let i=x(2);return U(i.closeApplicationModal())}),y(9," Cancel "),m(),p(10,"button",52),B("click",function(){j(t);let i=x(2);return U(i.submitApplication())}),y(11),m()()}if(n&2){let t=x(2);w(),Ie("Apply for ",t.jobDetails.title),w(4),We(t.applicationResponses),w(3),J("disabled",t.isSubmitting),w(2),J("disabled",t.isSubmitting),w(),Ie(" ",t.isSubmitting?"Submitting...":"Submit Application"," ")}}function a9(n,e){if(n&1){let t=se();p(0,"div",47),ne(1,"i",56),p(2,"h2"),y(3,"Application Submitted!"),m(),p(4,"p",48),y(5," Your application for "),p(6,"strong"),y(7),m(),y(8," has been successfully submitted. The employer will review your application and get back to you soon. "),m(),p(9,"button",17),B("click",function(){j(t);let i=x(2);return U(i.closeApplicationModal())}),y(10," Done "),m()()}if(n&2){let t=x(2);w(7),H(t.jobDetails.title)}}function c9(n,e){if(n&1&&(p(0,"div",27)(1,"div",46),W(2,s9,12,4)(3,a9,11,1,"div",47),m()()),n&2){let t=x();w(2),G(t.showConfirmation?3:2)}}function l9(n,e){if(n&1){let t=se();p(0,"div",27)(1,"div",46)(2,"div",57)(3,"h5",58),ne(4,"i",59),y(5,"Notice"),m(),p(6,"button",60),B("click",function(){j(t);let i=x();return U(i.closeAlertModal())}),m()(),p(7,"div",61)(8,"p"),y(9),m()(),p(10,"div",62)(11,"button",17),B("click",function(){j(t);let i=x();return U(i.closeAlertModal())}),y(12,"OK"),m()()()()}if(n&2){let t=x();w(9),H(t.alertMessage)}}var rg=class n{jobService=P(en);router=P(it);authService=P(ze);jobs=[];jobTitleSearch="";jobLocationSearch="";jobTypeSearch="";jobDetails=null;showApplicationModal=!1;isSubmitting=!1;showConfirmation=!1;applicationResponses=[];showAlertModal=!1;alertMessage="";applicationQuestions=[{question:"Why are you interested in this position?",required:!0},{question:"What relevant experience do you have?",required:!0},{question:"What are your salary expectations?",required:!1},{question:"When are you available to start?",required:!0}];jobTypes=[{value:"",label:"All Job Types"},{value:"Full-Time",label:"Full-Time"},{value:"Part-Time",label:"Part-Time"},{value:"Contract",label:"Contract"},{value:"Remote",label:"Remote"}];filters={title:"",company:"",location:"",type:""};ngOnInit(){return b(this,null,function*(){yield this.jobService.loadJobs(),this.jobs=this.jobService.list()})}searchJob(){this.filters={title:this.jobTitleSearch,company:"",location:this.jobLocationSearch,type:this.jobTypeSearch},this.jobs=this.jobService.list(this.filters)}resetFilters(){this.jobTitleSearch="",this.jobLocationSearch="",this.jobTypeSearch="",this.filters={title:"",company:"",location:"",type:""},this.jobs=this.jobService.list()}viewJob(e){e&&(this.jobDetails=this.jobService.getById(e)||null)}isJobSaved(e){return e?this.jobService.isJobSaved(e):!1}toggleSaveJob(e,t){return b(this,null,function*(){t.stopPropagation(),!(!e||!this.authService.isLoggedIn())&&(yield this.jobService.toggleSaveJob(e))})}canSaveJobs(){return this.authService.isLoggedIn()&&this.authService.isApplicant()}applyToJob(e,t){return b(this,null,function*(){if(t.stopPropagation(),!!e){if(!this.authService.isLoggedIn()){this.router.navigate(["/login"]);return}this.applicationResponses=this.applicationQuestions.map(r=>({question:r.question,answer:""})),this.showApplicationModal=!0,this.showConfirmation=!1}})}closeApplicationModal(){this.showApplicationModal=!1,this.showConfirmation=!1,this.applicationResponses=[]}showAlert(e){this.alertMessage=e,this.showAlertModal=!0}closeAlertModal(){this.showAlertModal=!1,this.alertMessage=""}submitApplication(){return b(this,null,function*(){if(!this.applicationQuestions.filter(o=>o.required).every((o,s)=>{let a=this.applicationResponses.find(l=>l.question===o.question);return a&&a.answer.trim().length>0})){this.showAlert("Please answer all required questions.");return}let r=this.jobDetails?.id;if(!r){this.showAlert("Unable to submit application. Please try again.");return}this.isSubmitting=!0;let i=yield this.jobService.applyJob(r,this.applicationResponses);this.isSubmitting=!1,i?(this.showConfirmation=!0,yield this.jobService.loadJobs(),this.jobs=this.jobService.list(this.filters),this.jobDetails?.id===r&&this.viewJob(r)):(this.showAlert("Failed to apply. You may have already applied to this job."),this.closeApplicationModal())})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-job-list"]],decls:37,vars:6,consts:[[1,"fw-bold","my-3","text-center"],[1,"container-fluid","mb-4"],[1,"row","justify-content-center"],[1,"col-lg-10"],[1,"row","g-2","align-items-center","search-bar-wrapper"],[1,"col-md-4"],[1,"input-icon-container"],[1,"fas","fa-search","input-icon"],["type","text","name","job-title","id","job-title","placeholder","Search for Title",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-location-dot","input-icon"],["type","text","name","job-location","id","job-location","placeholder","Location (e.g, Manila)",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-2"],[1,"fas","fa-filter","input-icon"],[1,"fas","fa-chevron-down","dropdown-arrow"],["name","job-type","id","job-type",1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],[1,"col-md-2","d-flex","gap-2","justify-content-end"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"container-fluid"],[1,"row","mx-5","my-4"],[1,"col-4"],[1,"job-list"],[1,"job-item",3,"active"],[1,"col"],[1,"job-details-card"],[1,"empty-details","text-center","py-5"],[1,"modal-overlay"],[1,"job-item",3,"click"],[1,"d-flex","justify-content-between","align-items-start"],[1,"fs-5","mb-1"],[1,"text-muted","mb-1"],[1,"text-success","fw-bold","mb-0"],[1,"btn","btn-sm","save-btn",3,"saved","title"],[1,"btn","btn-sm","save-btn",3,"click","title"],[1,"fs-2","fw-bold"],[1,"fs-5","text-muted"],[1,"job-meta","my-3"],[1,"badge","badge-meta","me-2"],[1,"badge","bg-success"],[1,"mt-4"],[1,"d-flex","gap-2","mt-4"],[1,"btn",3,"btn-outline-warning","btn-outline-secondary"],[1,"btn",3,"click"],[1,"fas","fa-search","empty-details-icon"],[1,"text-muted"],[1,"modal-content"],[1,"confirmation-content","text-center","py-4"],[1,"text-muted","mb-4"],[1,"form-group","mb-3"],[1,"modal-footer","mt-4"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],[1,"form-label","fw-bold"],[1,"text-danger"],["rows","4","placeholder","Enter your answer here...",1,"form-control",3,"ngModelChange","ngModel","name","disabled"],[1,"fas","fa-check-circle","confirmation-icon","text-success","mb-3"],[1,"modal-header","d-flex","justify-content-between","align-items-center"],[1,"modal-title"],[1,"fas","fa-info-circle","text-primary","me-2"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"]],template:function(t,r){t&1&&(p(0,"h1",0),y(1,"Find Jobs"),m(),p(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),ne(8,"i",7),p(9,"input",8),be("ngModelChange",function(o){return Ee(r.jobTitleSearch,o)||(r.jobTitleSearch=o),o}),m()()(),p(10,"div",5)(11,"div",6),ne(12,"i",9),p(13,"input",10),be("ngModelChange",function(o){return Ee(r.jobLocationSearch,o)||(r.jobLocationSearch=o),o}),m()()(),p(14,"div",11)(15,"div",6),ne(16,"i",12)(17,"i",13),p(18,"select",14),be("ngModelChange",function(o){return Ee(r.jobTypeSearch,o)||(r.jobTypeSearch=o),o}),qe(19,Z8,2,2,"option",15,Q8),m()()(),p(21,"div",16)(22,"button",17),B("click",function(){return r.searchJob()}),y(23,"Search"),m(),p(24,"button",18),B("click",function(){return r.resetFilters()}),y(25,"Reset"),m()()()()()(),p(26,"div",19)(27,"div",20)(28,"div",21)(29,"div",22),qe(30,e9,10,7,"div",23,Y8),m()(),p(32,"div",24),W(33,n9,18,7,"div",25)(34,r9,4,0,"div",26),m()()(),W(35,c9,4,1,"div",27),W(36,l9,13,1,"div",27)),t&2&&(w(9),_e("ngModel",r.jobTitleSearch),w(4),_e("ngModel",r.jobLocationSearch),w(5),_e("ngModel",r.jobTypeSearch),w(),We(r.jobTypes),w(11),We(r.jobs),w(3),G(r.jobDetails?33:34),w(2),G(r.showApplicationModal&&r.jobDetails?35:-1),w(),G(r.showAlertModal?36:-1))},dependencies:[lt,wn,ng,Gr,Jr,tn,Wr,En,eg,hn,sd],styles:[".search-bar-wrapper[_ngcontent-%COMP%]{background-color:transparent;border-radius:8px;box-shadow:none;overflow:visible}.input-icon-container[_ngcontent-%COMP%]{position:relative;width:100%}.input-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:14px;transform:translateY(-50%);color:#64748b;font-size:1.1rem;z-index:2}h1[_ngcontent-%COMP%]{font-family:Poppins}.dropdown-arrow[_ngcontent-%COMP%]{position:absolute;top:50%;right:14px;transform:translateY(-50%);color:#64748b;font-size:.8rem;z-index:2;pointer-events:none}input[type=text][_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{padding:10px 45px;border:none;border-radius:8px;background-color:#fff;box-shadow:0 1px 3px #0000000d;font-size:1rem;transition:background-color .3s,box-shadow .3s;font-family:Poppins,sans-serif}input[type=text][_ngcontent-%COMP%]:focus, .form-control[_ngcontent-%COMP%]:focus{outline:none;background-color:#fff;border:1px solid #3b82f6;box-shadow:0 1px 3px #0000001a}.empty-details-icon[_ngcontent-%COMP%]{font-size:5rem;color:#818181;margin-bottom:20px;display:block;margin-left:auto;margin-right:auto;width:fit-content;transform:translate(5px)}p[_ngcontent-%COMP%]{font-family:Poppins}.badge-meta[_ngcontent-%COMP%]{background-color:#051a49;color:#fff;padding:.5em .8em;font-weight:500;border-radius:4px}.job-list[_ngcontent-%COMP%]{max-height:75vh;overflow-y:auto}.job-item[_ngcontent-%COMP%], .job-details-card[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.job-item[_ngcontent-%COMP%]{padding:16px;border:1px solid #e0e0e0;border-radius:8px;margin-bottom:12px;cursor:pointer;transition:all .2s;background:#fff}.job-item[_ngcontent-%COMP%]:hover{border-color:#d6e5f7;background-color:#d6e5f7;transform:none;box-shadow:0 1px 3px #0000001a}.job-item.active[_ngcontent-%COMP%]{border-color:#d6e5f7;background-color:#d6e5f7}.save-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;padding:4px 8px;transition:transform .2s;height:auto;color:inherit}.save-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:none}.save-btn.saved[_ngcontent-%COMP%]{color:#ffc72c}.job-details-card[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;border:1px solid #e2e8f0;box-shadow:0 5px 10px #0000000d;position:sticky;top:20px}.job-details-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#051a49;margin-bottom:.5rem}.job-details-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#475569;font-weight:500}.empty-details[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:60px 20px}.btn-primary[_ngcontent-%COMP%]{background-color:#0c41b5;border-color:#0c41b5;padding:8px 16px;font-size:.9rem;border-radius:8px;font-family:Poppins,sans-serif}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0d3487;border-color:#0d3487}.btn-danger[_ngcontent-%COMP%]{background-color:#cf2e3f;border-color:#cf2e3f;padding:8px 16px;font-size:.9rem;border-radius:8px;font-family:Poppins,sans-serif}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#b32332;border-color:#b32332}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;padding:32px;max-width:600px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 10px 40px #0003;font-family:Poppins,sans-serif}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#051a49;font-weight:700;margin-bottom:12px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#475569;font-size:.95rem}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #cbd5e1;border-radius:8px;font-family:Poppins,sans-serif;transition:border-color .2s,box-shadow .2s}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;padding-top:20px;border-top:1px solid #e0e0e0}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;border-color:#6c757d;color:#fff;padding:10px 20px;border-radius:8px;font-family:Poppins,sans-serif}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268;border-color:#5a6268}.confirmation-content[_ngcontent-%COMP%]{padding:40px 20px}.confirmation-icon[_ngcontent-%COMP%]{font-size:5rem;display:block}"]})};var Bs=[{email:"techcorp@example.com",company:"TechCorp"},{email:"devsolutions@example.com",company:"DevSolutions"},{email:"designify@example.com",company:"Designify"},{email:"syscare@example.com",company:"SysCare"},{email:"buildright@example.com",company:"BuildRight"},{email:"insightworks@example.com",company:"InsightWorks"},{email:"qualityplus@example.com",company:"QualityPlus"},{email:"appwave@example.com",company:"AppWave"},{email:"netsecure@example.com",company:"NetSecure"},{email:"copycraft@example.com",company:"CopyCraft"}],ek="Employer123!",tk=class n{auth=P(Ci);firestore=P(fn);initializeEmployers(){return b(this,null,function*(){yield this.migrateOldJobs(),yield this.fixPostedByEmails();try{for(let e of Bs)try{let t=yield Up(this.auth,e.email,ek),r={uid:t.user.uid,email:e.email,role:"employer",company:e.company,savedJobs:[],createdAt:new Date};yield Zu(nt(this.firestore,"users",t.user.uid),r),console.log(`\u2713 Created employer: ${e.company}`)}catch(t){if(t.code==="auth/email-already-in-use"){console.log(`\u2713 Employer exists: ${e.company}`);let r=(yield $t(Vs(Lt(this.firestore,"users"),js("email","==",e.email)))).docs[0];r&&(yield Zu(nt(this.firestore,"users",r.id),{company:e.company},{merge:!0}),console.log(`\u2713 Updated employer company: ${e.company}`))}else console.error(`\u2717 Error creating ${e.company}:`,t.message)}yield this.mapJobsToCorrectEmployers(),console.log("%c=== EMPLOYER TEST ACCOUNTS ===","color: green; font-size: 14px; font-weight: bold;"),console.log(`Password: ${ek}`),Bs.forEach(e=>console.log(`${e.company}: ${e.email}`))}catch(e){console.error("Employer initialization error:",e)}})}mapJobsToCorrectEmployers(){return b(this,null,function*(){try{let e=Lt(this.firestore,"jobs"),t=yield $t(e),r=Lt(this.firestore,"users"),i={};for(let s of Bs){let a=Vs(r,js("email","==",s.email)),l=yield $t(a);if(l.docs.length>0){let u=l.docs[0].id;i[s.company]=u,console.log(`[Map Jobs] Found ${s.company} \u2192 ${u}`)}}let o=0;for(let s of t.docs){let a=s.data(),l=a.company,u=a.postedBy,f=i[l];f?f!==u&&(yield Xt(nt(this.firestore,"jobs",s.id),{postedBy:f}),console.log(`[Map Jobs] Job "${a.title}" (${l}): ${u} \u2192 ${f}`),o++):console.warn(`[Map Jobs] No employer found for company: ${l}`)}o>0?console.log(`%c\u2713 Corrected ${o} jobs to their proper employers`,"color: purple; font-weight: bold;"):console.log("[Map Jobs] All jobs already have correct employer assignments")}catch(e){console.error("Map jobs to employers error:",e)}})}fixPostedByEmails(){return b(this,null,function*(){try{let e=Lt(this.firestore,"jobs"),t=yield $t(e),r=0,i=Lt(this.firestore,"users"),o={};for(let s of t.docs){let l=s.data().postedBy;if(l&&l.includes("@")){let u=l,f=o[u];if(!f){let g=Vs(i,js("email","==",u)),v=yield $t(g);v.docs.length>0&&(f=v.docs[0].id,o[u]=f)}f?(yield Xt(nt(this.firestore,"jobs",s.id),{postedBy:f}),console.log(`[Fix postedBy] Job ${s.id}: ${u} \u2192 ${f}`),r++):console.warn(`[Fix postedBy] Could not find UID for email: ${u}`)}}r>0?console.log(`%c\u2713 Fixed ${r} jobs with email postedBy`,"color: blue; font-weight: bold;"):console.log("[Fix postedBy] No jobs needed fixing")}catch(e){console.error("Fix postedBy error:",e)}})}migrateOldJobs(){return b(this,null,function*(){try{let e=Lt(this.firestore,"jobs"),t=yield $t(e),r=0,i=Lt(this.firestore,"users"),o=Vs(i,js("email","==",Bs[0].email)),s=yield $t(o),a=s.docs.length>0?s.docs[0].id:Bs[0].email;for(let l of t.docs){let u=l.data(),f={};u.postedBy||(f.postedBy=a,console.log(`[Migration] Added postedBy to job ${l.id}`)),u.status||(f.status="approved",console.log(`[Migration] Added status to job ${l.id}`)),!u.company&&u.company_name?(f.company=u.company_name,console.log(`[Migration] Added company (from company_name) to job ${l.id}`)):u.company||(f.company="Unknown Company",console.log(`[Migration] Added default company to job ${l.id}`)),u.postedDate&&!(u.postedDate instanceof Be)&&!u.postedDate?.toDate?(typeof u.postedDate=="string"?f.postedDate=Be.fromDate(new Date(u.postedDate)):u.postedDate?.seconds&&(f.postedDate=Be.fromDate(new Date(u.postedDate.seconds*1e3))),console.log(`[Migration] Converted postedDate to Timestamp for job ${l.id}`)):u.postedDate||(f.postedDate=Be.now(),console.log(`[Migration] Added default postedDate to job ${l.id}`)),Object.keys(f).length>0&&(yield Xt(nt(this.firestore,"jobs",l.id),f),r++)}r>0&&console.log(`%c\u2713 Migrated ${r} jobs to current format`,"color: green; font-weight: bold;")}catch(e){console.error("Job migration error:",e)}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})};var nk=(n,e)=>e.value;function u9(n,e){if(n&1&&(p(0,"div",2),y(1),m()),n&2){let t=x();w(),H(t.error)}}function d9(n,e){if(n&1&&(p(0,"option",25),y(1),m()),n&2){let t=e.$implicit;J("value",t.value),w(),H(t.label)}}function f9(n,e){if(n&1&&(p(0,"option",25),y(1),m()),n&2){let t=e.$implicit;J("value",t.value),w(),H(t.label)}}function h9(n,e){if(n&1){let t=se();p(0,"div",30)(1,"div",31)(2,"h2"),y(3,"Confirm Job Posting"),m(),p(4,"div",32)(5,"div",33)(6,"span",34),y(7,"Job Title:"),m(),p(8,"span",35),y(9),m()(),p(10,"div",33)(11,"span",34),y(12,"Company:"),m(),p(13,"span",35),y(14),m()(),p(15,"div",33)(16,"span",34),y(17,"Location:"),m(),p(18,"span",35),y(19),m()(),p(20,"div",33)(21,"span",34),y(22,"Type:"),m(),p(23,"span",35),y(24),m()(),p(25,"div",33)(26,"span",34),y(27,"Salary:"),m(),p(28,"span",35),y(29),m()(),p(30,"div",33)(31,"span",34),y(32,"Description:"),m(),p(33,"span",36),y(34),m()()(),p(35,"div",37)(36,"button",38),B("click",function(){j(t);let i=x();return U(i.confirmCreateJob())}),y(37),m(),p(38,"button",39),B("click",function(){j(t);let i=x();return U(i.closeConfirmModal())}),y(39,"Cancel"),m()()()()}if(n&2){let t=x();w(9),H(t.title),w(5),H(t.company),w(5),H(t.location),w(5),H(t.type),w(5),H(t.salary),w(5),H(t.description),w(2),J("disabled",t.isSubmitting),w(),Ie(" ",t.isSubmitting?"Creating...":"Confirm"," "),w(),J("disabled",t.isSubmitting)}}var ig=class n{jobService=P(en);router=P(it);authService=P(ze);title="";company="";location="";type="";description="";salaryMin="";salaryMax="";salary="";error="";showConfirmModal=!1;isSubmitting=!1;salaryOptions=[{value:1e4,label:"\u20B110,000"},{value:2e4,label:"\u20B120,000"},{value:3e4,label:"\u20B130,000"},{value:4e4,label:"\u20B140,000"},{value:5e4,label:"\u20B150,000"},{value:75e3,label:"\u20B175,000"},{value:1e5,label:"\u20B1100,000"},{value:15e4,label:"\u20B1150,000"},{value:2e5,label:"\u20B1200,000"},{value:25e4,label:"\u20B1250,000"},{value:3e5,label:"\u20B1300,000+"}];ngOnInit(){let e=this.authService.userProfile();if(e?.role==="admin")this.company="JobBoard";else if(e?.company)this.company=e.company;else if(e?.email){let t=Bs.find(r=>r.email===e.email);t&&(this.company=t.company)}console.log("Company loaded:",this.company)}isAdmin(){return this.authService.userProfile()?.role==="admin"}openConfirmModal(){if(this.error="",!this.title||!this.location||!this.type||!this.description||!this.salaryMin||!this.salaryMax){this.error="Please fill in all fields";return}let e=parseInt(this.salaryMin),t=parseInt(this.salaryMax);if(e>=t){this.error="Minimum salary must be less than maximum salary";return}this.salary=`\u20B1${e.toLocaleString()} - \u20B1${t.toLocaleString()}`;let r=this.authService.userProfile();r?.role==="admin"?this.company="jobboard":r?.company?(this.company=r.company,console.log("Company set to:",this.company)):console.warn("Company not found in profile:",r),this.showConfirmModal=!0}closeConfirmModal(){this.showConfirmModal=!1}confirmCreateJob(){return b(this,null,function*(){this.isSubmitting=!0,this.error="";let e=this.authService.currentUser()?.uid;if(!e){this.error="User not authenticated",this.isSubmitting=!1;return}let t={title:this.title,company:this.company,location:this.location,type:this.type,description:this.description,salary:this.salary,postedBy:e};try{let r=yield this.jobService.create(t);r?(console.log("Job created successfully:",r),this.router.navigate(["/employer-jobs"])):(this.error="Failed to create job",this.isSubmitting=!1)}catch(r){console.error("Error creating job:",r),this.error="Error creating job: "+(r instanceof Error?r.message:String(r)),this.isSubmitting=!1}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-create-job"]],decls:62,vars:10,consts:[[1,"fw-bold"],[1,"container-fluid"],[1,"alert","alert-danger"],[1,"row"],["for","title"],[1,"input-icon-container"],[1,"fas","fa-briefcase","input-icon"],["type","text","name","job-title","id","title","placeholder","Enter job title",1,"form-control",3,"ngModelChange","ngModel"],["for","company"],[1,"fas","fa-building","input-icon"],["type","text","name","company","id","company","placeholder","Enter company name",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","location"],[1,"fas","fa-location-dot","input-icon"],["type","text","name","job-location","id","location","placeholder","Enter city or region",1,"form-control",3,"ngModelChange","ngModel"],["for","type"],[1,"fas","fa-tag","input-icon"],["name","job-type","id","type",1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","Part-Time"],["value","Full-Time"],["value","Contract"],["value","Remote"],["for","salary-min"],[2,"display","flex","gap","10px","align-items","center"],["name","salary-min","id","salary-min",1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],["name","salary-max","id","salary-max",1,"form-control",3,"ngModelChange","ngModel"],["for","description"],["rows","5","name","job-description",1,"form-control",3,"ngModelChange","ngModel"],[3,"click"],[1,"modal-overlay"],[1,"modal-content"],[1,"modal-body"],[1,"detail-row"],[1,"label"],[1,"value"],[1,"value","description-text"],[1,"modal-footer"],[1,"btn-confirm",3,"click","disabled"],[1,"btn-cancel",3,"click","disabled"]],template:function(t,r){t&1&&(p(0,"h1",0),y(1,"Post a Job"),m(),p(2,"div",1),W(3,u9,2,1,"div",2),p(4,"div",3)(5,"label",4),y(6,"Job Title"),m(),p(7,"div",5),ne(8,"i",6),p(9,"input",7),be("ngModelChange",function(o){return Ee(r.title,o)||(r.title=o),o}),m()()(),p(10,"div",3)(11,"label",8),y(12,"Company"),m(),p(13,"div",5),ne(14,"i",9),p(15,"input",10),be("ngModelChange",function(o){return Ee(r.company,o)||(r.company=o),o}),m()()(),p(16,"div",3)(17,"label",11),y(18,"Location"),m(),p(19,"div",5),ne(20,"i",12),p(21,"input",13),be("ngModelChange",function(o){return Ee(r.location,o)||(r.location=o),o}),m()()(),p(22,"div",3)(23,"label",14),y(24,"Type"),m(),p(25,"div",5),ne(26,"i",15),p(27,"select",16),be("ngModelChange",function(o){return Ee(r.type,o)||(r.type=o),o}),p(28,"option",17),y(29,"Select Job Type"),m(),p(30,"option",18),y(31,"Part-Time"),m(),p(32,"option",19),y(33,"Full-Time"),m(),p(34,"option",20),y(35,"Contract"),m(),p(36,"option",21),y(37,"Remote"),m()()()(),p(38,"div",3)(39,"label",22),y(40,"Salary Range"),m(),p(41,"div",23)(42,"select",24),be("ngModelChange",function(o){return Ee(r.salaryMin,o)||(r.salaryMin=o),o}),p(43,"option",17),y(44,"Min Salary"),m(),qe(45,d9,2,2,"option",25,nk),m(),p(47,"span"),y(48,"-"),m(),p(49,"select",26),be("ngModelChange",function(o){return Ee(r.salaryMax,o)||(r.salaryMax=o),o}),p(50,"option",17),y(51,"Max Salary"),m(),qe(52,f9,2,2,"option",25,nk),m()()(),p(54,"div",3)(55,"label",27),y(56,"Description"),m(),p(57,"textarea",28),be("ngModelChange",function(o){return Ee(r.description,o)||(r.description=o),o}),m()(),p(58,"div",3)(59,"button",29),B("click",function(){return r.openConfirmModal()}),y(60,"Post Job"),m()()(),W(61,h9,40,9,"div",30)),t&2&&(w(3),G(r.error?3:-1),w(6),_e("ngModel",r.title),w(6),_e("ngModel",r.company),J("disabled",r.isAdmin()),w(6),_e("ngModel",r.location),w(6),_e("ngModel",r.type),w(15),_e("ngModel",r.salaryMin),w(3),We(r.salaryOptions),w(4),_e("ngModel",r.salaryMax),w(3),We(r.salaryOptions),w(5),_e("ngModel",r.description),w(4),G(r.showConfirmModal?61:-1))},dependencies:[wn,Gr,Jr,tn,Wr,En,hn,lt],styles:[".container-fluid[_ngcontent-%COMP%]{max-width:700px;margin:20px auto;background:#fff;padding:40px;border-radius:16px;box-shadow:0 10px 15px -3px #0000001a;border:1px solid #e2e8f0;font-family:Poppins,sans-serif}h1[_ngcontent-%COMP%]{font-family:Poppins;text-align:center;color:#051a49;margin-bottom:10px;font-size:2rem}.row[_ngcontent-%COMP%]{margin-bottom:12px;display:flex;flex-direction:column}label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:8px;color:#475569;font-size:.95rem}.input-icon-container[_ngcontent-%COMP%]{position:relative;width:100%}.input-icon[_ngcontent-%COMP%]{position:absolute;left:30px;top:50%;transform:translateY(-50%);color:#64748b;font-size:1.1rem;z-index:2;margin-top:2px}.input-peso[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:700;font-size:1.2rem;color:#64748b;margin-top:0}input[type=text][_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:12px;border:1px solid #cbd5e1;border-radius:8px;font-size:1rem;background-color:#fff;transition:border-color .2s,box-shadow .2s;font-family:Poppins,sans-serif}.input-icon-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:65px}input[type=text][_ngcontent-%COMP%]:focus, .form-control[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}button[_ngcontent-%COMP%]{width:100%;padding:14px;background-color:#1a417e;color:#fff;font-weight:600;border:none;border-radius:8px;font-size:1.1rem;cursor:pointer;margin-top:10px;transition:background-color .2s;font-family:Poppins,sans-serif}button[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#051a49}textarea[_ngcontent-%COMP%]{resize:vertical}.alert[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;margin-bottom:20px}.alert-danger[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b;border:1px solid #fecaca}.modal-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;box-shadow:0 20px 25px -5px #0000001a;max-width:500px;width:90%;padding:0;overflow:hidden;font-family:Poppins,sans-serif}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{padding:24px;margin:0;font-size:1.5rem;font-weight:700;color:#051a49;border-bottom:1px solid #e2e8f0}.modal-body[_ngcontent-%COMP%]{padding:24px;max-height:400px;overflow-y:auto}.detail-row[_ngcontent-%COMP%]{display:flex;margin-bottom:16px;gap:12px;align-items:flex-start}.detail-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;color:#475569;min-width:100px}.detail-row[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#475569;flex:1;word-break:break-word}.detail-row[_ngcontent-%COMP%]   .description-text[_ngcontent-%COMP%]{white-space:pre-wrap;line-height:1.5}.modal-footer[_ngcontent-%COMP%]{padding:16px 24px;border-top:1px solid #e2e8f0;display:flex;gap:12px;justify-content:flex-end}.btn-cancel[_ngcontent-%COMP%], .btn-confirm[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:8px;font-weight:600;cursor:pointer;transition:all .2s;font-family:Poppins,sans-serif}.btn-cancel[_ngcontent-%COMP%]{background-color:#e43547;color:#fdfdfd}.btn-cancel[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#b32332}.btn-confirm[_ngcontent-%COMP%]{background-color:#1f57bf;color:#fff}.btn-confirm[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#19489f}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}"]})};function p9(n,e){if(n&1&&(p(0,"div",4),y(1),m()),n&2){let t=x();w(),Ie(" ",t.authError()," ")}}function m9(n,e){if(n&1){let t=se();p(0,"div",20)(1,"label",21),y(2,"First Name"),m(),p(3,"input",22),B("ngModelChange",function(i){j(t);let o=x();return U(o.firstName.set(i))}),m()()}if(n&2){let t=x();w(3),J("ngModel",t.firstName())("disabled",t.loading())}}function g9(n,e){if(n&1){let t=se();p(0,"div",20)(1,"label",23),y(2,"Last Name"),m(),p(3,"input",24),B("ngModelChange",function(i){j(t);let o=x();return U(o.lastName.set(i))}),m()()}if(n&2){let t=x();w(3),J("ngModel",t.lastName())("disabled",t.loading())}}function y9(n,e){if(n&1){let t=se();p(0,"div",20)(1,"label",25),y(2,"Company Name"),m(),p(3,"input",26),B("ngModelChange",function(i){j(t);let o=x();return U(o.companyName.set(i))}),m()()}if(n&2){let t=x();w(3),J("ngModel",t.companyName())("disabled",t.loading())}}function v9(n,e){n&1&&y(0," I confirm that I am of legal age to use this platform (job seekers must be 18 or older) and I agree to the ")}function _9(n,e){n&1&&y(0," I agree to the ")}function b9(n,e){if(n&1){let t=se();p(0,"div",20)(1,"label",27),y(2,"I am a..."),m(),p(3,"div",28)(4,"button",29),B("click",function(){j(t);let i=x();return U(i.setRole("applicant"))}),p(5,"div",30),y(6,"\u{1F464}"),m(),p(7,"div",31),y(8,"Job Seeker"),m(),p(9,"div",32),y(10,"Looking for jobs"),m()(),p(11,"button",29),B("click",function(){j(t);let i=x();return U(i.setRole("employer"))}),p(12,"div",30),y(13,"\u{1F3E2}"),m(),p(14,"div",31),y(15,"Employer"),m(),p(16,"div",32),y(17,"Posting jobs"),m()()()(),p(18,"div",33)(19,"input",34),B("ngModelChange",function(i){j(t);let o=x();return U(o.acceptedTerms.set(i))}),m(),p(20,"label",35),W(21,v9,1,0)(22,_9,1,0),p(23,"a",36),B("click",function(){j(t);let i=x();return U(i.showTerms.set(!0))}),y(24,"Terms and Conditions"),m(),y(25,". "),m()()}if(n&2){let t=x();w(4),It("active",t.selectedRole()==="applicant"),J("disabled",t.loading()),w(7),It("active",t.selectedRole()==="employer"),J("disabled",t.loading()),w(8),J("ngModel",t.acceptedTerms())("disabled",t.loading()),w(2),G(t.selectedRole()==="applicant"?21:22)}}function E9(n,e){n&1&&(ne(0,"span",37),y(1," Please wait... "))}function w9(n,e){if(n&1&&y(0),n&2){let t=x();Ie(" ",t.isRegisterMode()?"Sign Up":"Login"," ")}}function I9(n,e){if(n&1){let t=se();p(0,"div",15)(1,"button",38),B("click",function(){j(t);let i=x();return U(i.onForgotPassword())}),y(2),m()()}if(n&2){let t=x();w(),J("disabled",t.resetInProgress()||t.loading()),w(),Ie(" ",t.resetInProgress()?"Sending reset email...":"Forgot password?"," ")}}function C9(n,e){if(n&1){let t=se();p(0,"div",16)(1,"div",39)(2,"h4"),y(3,"Terms and Conditions"),m(),p(4,"p",40),y(5," Please read these Terms and Conditions carefully before creating an account. "),m(),p(6,"div",41)(7,"h6"),y(8,"1. Eligibility"),m(),p(9,"p"),y(10," By creating a job seeker account, you confirm that you are at least 18 years old. Employers confirm they are authorized to post jobs and represent their organization. "),m(),p(11,"h6"),y(12,"2. Use of the Platform"),m(),p(13,"p"),y(14," You agree to provide accurate information in your profile and job listings, and not to post misleading, fraudulent, or inappropriate content. "),m(),p(15,"h6"),y(16,"3. Data & Privacy"),m(),p(17,"p"),y(18," Your profile information and job listings may be visible to other users of the platform. Do not share sensitive personal information (e.g., government IDs, bank details) through this site. "),m(),p(19,"h6"),y(20,"4. Prohibited Activities"),m(),p(21,"p"),y(22," You agree not to use the platform to harass, discriminate, or otherwise harm other users, and not to attempt to circumvent security or misuse the service. "),m(),p(23,"h6"),y(24,"5. Changes to These Terms"),m(),p(25,"p"),y(26," These Terms may be updated over time. Continued use of the platform after changes are posted constitutes acceptance of the updated Terms. "),m()(),p(27,"div",42)(28,"button",43),B("click",function(){j(t);let i=x();return U(i.showTerms.set(!1))}),y(29,"Close"),m()()()()}}function D9(n,e){if(n&1){let t=se();p(0,"div",16)(1,"div",39)(2,"h4"),y(3,"Password Reset Email Sent"),m(),p(4,"p",44),y(5," If an account exists for "),p(6,"strong"),y(7),m(),y(8,", a password reset link has been sent to that address. "),m(),p(9,"p",45),y(10," Please check your inbox (and spam folder). Follow the link in the email to create a new password. "),m(),p(11,"div",42)(12,"button",43),B("click",function(){j(t);let i=x();return U(i.showResetConfirmation.set(!1))}),y(13,"Close"),m()()()()}if(n&2){let t=x();w(7),H(t.email())}}var og=class n{authService=P(ze);firstName=ee("");lastName=ee("");companyName=ee("");email=ee("");password=ee("");selectedRole=ee("applicant");isRegisterMode=ee(!1);showPassword=ee(!1);acceptedTerms=ee(!1);showTerms=ee(!1);showResetConfirmation=ee(!1);resetInProgress=ee(!1);loading=this.authService.loading;authError=this.authService.authError;ngOnInit(){this.authService.clearError(),this.resetForm()}ngOnDestroy(){this.authService.clearError()}toggleMode(){this.isRegisterMode.update(e=>!e),this.authService.clearError()}resetForm(){this.email.set(""),this.password.set(""),this.selectedRole.set("applicant"),this.acceptedTerms.set(!1),this.showTerms.set(!1)}setRole(e){this.selectedRole.set(e)}onForgotPassword(){return b(this,null,function*(){let e=this.email().trim();if(this.authService.clearError(),!e){this.authService.authError.set("Please enter your email address to reset your password.");return}this.resetInProgress.set(!0);try{yield this.authService.sendPasswordReset(e),this.showResetConfirmation.set(!0)}catch{}finally{this.resetInProgress.set(!1)}})}onSubmit(){return b(this,null,function*(){let e=this.email(),t=this.password(),r=this.firstName(),i=this.lastName(),o=this.companyName();if(!e||!t){this.authService.authError.set("Please fill in all fields.");return}if(this.isRegisterMode()&&!this.acceptedTerms()){this.authService.authError.set("You must agree to the Terms and Conditions to create an account.");return}let s;this.isRegisterMode()?s=yield this.authService.register(r,i,o,e,t,this.selectedRole()):s=yield this.authService.login(e,t),s&&this.resetForm()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-login"]],decls:32,vars:20,consts:[[1,"login-container"],[1,"login-card"],[1,"text-center","mb-4"],[3,"ngSubmit"],["role","alert",1,"alert","alert-danger"],["class","mb-4",4,"ngIf"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","password",1,"form-label"],[1,"input-group"],["id","password","name","password","placeholder","Enter your password",1,"form-control",3,"ngModelChange","type","ngModel","disabled"],["type","button","aria-label","Toggle password visibility",1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"fas",3,"ngClass"],["type","submit",1,"btn","btn-primary","w-100","mb-3",3,"disabled"],[1,"text-end","mb-3"],[1,"modal-overlay"],[1,"text-center"],[1,"mb-0"],["href","javascript:void(0)",1,"text-primary",3,"click"],[1,"mb-4"],["for","firstName",1,"form-label"],["type","text","id","firstName","name","firstName","placeholder","Enter your First Name",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","lastName",1,"form-label"],["type","text","id","lastName","name","lastName","placeholder","Enter your Last Name",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","companyName",1,"form-label"],["type","text","id","companyName","name","email","placeholder","Enter your Company Name",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"form-label"],[1,"role-selector"],["type","button",1,"role-btn",3,"click","disabled"],[1,"role-icon"],[1,"role-title"],[1,"role-desc"],[1,"form-check","mb-3"],["type","checkbox","id","terms","name","terms",1,"form-check-input",3,"ngModelChange","ngModel","disabled"],["for","terms",1,"form-check-label"],["href","javascript:void(0)",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],["type","button",1,"btn","btn-link","p-0",3,"click","disabled"],[1,"modal-content","modal-lg"],[1,"text-muted","small","mb-3"],[1,"terms-body"],[1,"modal-footer","mt-3"],[1,"btn","btn-secondary",3,"click"],[1,"mt-3"],[1,"text-muted","small"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"div",1)(2,"h2",2),y(3),m(),p(4,"form",3),B("ngSubmit",function(){return r.onSubmit()}),W(5,p9,2,1,"div",4),mh(6,m9,4,2,"div",5)(7,g9,4,2,"div",5)(8,y9,4,2,"div",5),p(9,"div",6)(10,"label",7),y(11,"Email address"),m(),p(12,"input",8),B("ngModelChange",function(o){return r.email.set(o)}),m()(),p(13,"div",6)(14,"label",9),y(15,"Password"),m(),p(16,"div",10)(17,"input",11),B("ngModelChange",function(o){return r.password.set(o)}),m(),p(18,"button",12),B("click",function(){return r.showPassword.set(!r.showPassword())}),ne(19,"i",13),m()()(),W(20,b9,26,9),p(21,"button",14),W(22,E9,2,0)(23,w9,1,1),m(),W(24,I9,3,2,"div",15),m(),W(25,C9,30,0,"div",16),W(26,D9,14,1,"div",16),p(27,"div",17)(28,"p",18),y(29),p(30,"a",19),B("click",function(){return r.toggleMode()}),y(31),m()()()()()),t&2&&(w(3),Ie(" ",r.isRegisterMode()?"Create Account":"Welcome Back!"," "),w(2),G(r.authError()?5:-1),w(),J("ngIf",r.isRegisterMode()&&r.selectedRole()==="applicant"),w(),J("ngIf",r.isRegisterMode()&&r.selectedRole()==="applicant"),w(),J("ngIf",r.isRegisterMode()&&r.selectedRole()==="employer"),w(4),J("ngModel",r.email())("disabled",r.loading()),w(5),J("type",r.showPassword()?"text":"password")("ngModel",r.password())("disabled",r.loading()),w(),J("disabled",r.loading()),w(),J("ngClass",r.showPassword()?"fa-eye-slash":"fa-eye"),w(),G(r.isRegisterMode()?20:-1),w(),J("disabled",r.loading()),w(),G(r.loading()?22:23),w(2),G(r.isRegisterMode()?-1:24),w(),G(r.showTerms()?25:-1),w(),G(r.showResetConfirmation()?26:-1),w(3),Ie(" ",r.isRegisterMode()?"Already have an account?":"Don't have an account?"," "),w(2),Ie(" ",r.isRegisterMode()?"Login":"Sign Up"," "))},dependencies:[lt,gi,$_,wn,ng,tn,bI,En,eg,hn,sd,vi],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:calc(100vh - 100px);padding:20px}.login-card[_ngcontent-%COMP%]{font-family:Poppins;background:#fff;padding:40px;border-radius:12px;box-shadow:0 4px 20px #0000001a;width:100%;max-width:450px}.login-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#051a49;font-weight:800}.form-control[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;border:1px solid #e0e0e0;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{border-color:#021de6;box-shadow:0 0 0 3px #020ae633}.btn-primary[_ngcontent-%COMP%]{font-family:Poppins;padding:12px;border-radius:15px;font-weight:500;background-color:#1a417e;border-color:#1a417e}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#051a49;border-color:#051a49}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#6c757d;border-color:#6c757d}.text-primary[_ngcontent-%COMP%]{color:#e60278!important;text-decoration:none;font-weight:500}.text-primary[_ngcontent-%COMP%]:hover{text-decoration:underline}.role-selector[_ngcontent-%COMP%]{display:flex;gap:12px}.role-btn[_ngcontent-%COMP%]{flex:1;padding:14px;border:1px solid #cbd5e1;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s;text-align:center}.role-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#0228e6;background:#d1d4f7}.role-btn.active[_ngcontent-%COMP%]{border-color:#d1d4f7;background:#d1d4f7}.role-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.role-icon[_ngcontent-%COMP%]{font-family:Poppins;font-size:24px;margin-bottom:8px}.role-title[_ngcontent-%COMP%]{font-family:Poppins;font-weight:600;color:#051a49;margin-bottom:4px}.role-desc[_ngcontent-%COMP%]{font-family:Poppins;font-size:12px;color:#455263}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:24px;max-width:640px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 8px 20px #0003;font-family:Poppins,sans-serif}.terms-body[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-top:1rem;font-weight:600;color:#051a49}.terms-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#4b5563}"]})};var T9=()=>[],S9=(n,e)=>e.id;function A9(n,e){if(n&1&&(p(0,"div",18),y(1),m()),n&2){let t,r,i,o=x();It("alert-success",((t=o.actionMessage())==null?null:t.type)==="success")("alert-danger",((r=o.actionMessage())==null?null:r.type)==="error"),w(),Ie(" ",(i=o.actionMessage())==null?null:i.text," ")}}function x9(n,e){n&1&&(p(0,"div",17)(1,"div",19)(2,"span",20),y(3,"Loading..."),m()()())}function M9(n,e){n&1&&y(0," No jobs found matching your search criteria. ")}function R9(n,e){n&1&&y(0," No jobs available. ")}function P9(n,e){if(n&1&&(p(0,"div",21),W(1,M9,1,0)(2,R9,1,0),m()),n&2){let t=x(2);w(),G(t.filteredJobs().length===0&&(t.searchTitle()||t.searchCompany()||t.searchLocation())?1:2)}}function N9(n,e){if(n&1){let t=se();p(0,"tr")(1,"td",35),y(2),m(),p(3,"td")(4,"strong"),y(5),m()(),p(6,"td"),y(7),m(),p(8,"td"),y(9),m(),p(10,"td")(11,"span",36),y(12),m()(),p(13,"td")(14,"button",37),B("click",function(){let i=j(t).$implicit,o=x(3);return U(o.selectJob(i))}),y(15," View "),m(),p(16,"button",38),B("click",function(){let i=j(t).$implicit,o=x(3);return U(o.openDeleteConfirm(i))}),y(17," Delete "),m()()()}if(n&2){let t=e.$implicit;w(2),H(t.id),w(3),H(t.title),w(2),H(t.company),w(2),H(t.location),w(3),H(t.type)}}function k9(n,e){if(n&1&&(p(0,"option",28),y(1),m()),n&2){let t=e.$implicit,r=x(3);J("value",t)("selected",r.pageSize()===t),w(),H(t)}}function O9(n,e){if(n&1){let t=se();p(0,"button",39),B("click",function(){let i=j(t).$index,o=x(3);return U(o.goToPage(i+1))}),y(1),m()}if(n&2){let t=e.$index,r=x(3);It("btn-primary",r.currentPage()===t+1)("btn-outline-primary",r.currentPage()!==t+1),w(),Ie(" ",t+1," ")}}function F9(n,e){if(n&1){let t=se();p(0,"div",22)(1,"table",23)(2,"thead",24)(3,"tr")(4,"th"),y(5,"ID"),m(),p(6,"th"),y(7,"Title"),m(),p(8,"th"),y(9,"Company"),m(),p(10,"th"),y(11,"Location"),m(),p(12,"th"),y(13,"Type"),m(),p(14,"th"),y(15,"Actions"),m()()(),p(16,"tbody"),qe(17,N9,18,5,"tr",null,S9),m()()(),p(19,"div",25)(20,"div")(21,"label",26),y(22,"Rows per page:"),m(),p(23,"select",27),B("change",function(i){j(t);let o=x(2);return U(o.changePageSize(i.target.value))}),qe(24,k9,2,3,"option",28,Rl),m()(),p(26,"div",29)(27,"button",30),B("click",function(){j(t);let i=x(2);return U(i.previousPage())}),y(28," Previous "),m(),p(29,"div",31),qe(30,O9,2,5,"button",32,hi),m(),p(32,"button",33),B("click",function(){j(t);let i=x(2);return U(i.nextPage())}),y(33," Next "),m()(),p(34,"div")(35,"small",34),y(36),m()()()}if(n&2){let t=x(2);w(17),We(t.paginatedJobs()),w(7),We(t.pageSizeOptions),w(3),J("disabled",t.currentPage()===1),w(3),We(Nl(4,T9).constructor(t.totalPages())),w(2),J("disabled",t.currentPage()===t.totalPages()),w(4),vn("Page ",t.currentPage()," of ",t.totalPages())}}function L9(n,e){if(n&1&&W(0,P9,3,1,"div",21)(1,F9,37,5),n&2){let t=x();G(t.paginatedJobs().length===0?0:1)}}function V9(n,e){if(n&1){let t=se();p(0,"div",40),B("click",function(){j(t);let i=x();return U(i.closeModal())}),m(),p(1,"div",41)(2,"div",42)(3,"div",43)(4,"h5",44),y(5),m(),p(6,"button",45),B("click",function(){j(t);let i=x();return U(i.closeModal())}),m()(),p(7,"div",46)(8,"div",47)(9,"label",48),y(10,"Company:"),m(),p(11,"p"),y(12),m()(),p(13,"div",47)(14,"label",48),y(15,"Location:"),m(),p(16,"p"),y(17),m()(),p(18,"div",47)(19,"label",48),y(20,"Type:"),m(),p(21,"p"),y(22),m()(),p(23,"div",47)(24,"label",48),y(25,"Salary:"),m(),p(26,"p",49),y(27),m()(),p(28,"div",47)(29,"label",48),y(30,"Description:"),m(),p(31,"p"),y(32),m()(),p(33,"div",47)(34,"label",48),y(35,"Status:"),m(),p(36,"p"),y(37),m()()(),p(38,"div",50)(39,"button",51),B("click",function(){j(t);let i=x();return U(i.approveJob(i.selectedJob()))}),y(40," Approve "),m(),p(41,"button",52),B("click",function(){j(t);let i=x();return U(i.openRejectConfirm(i.selectedJob()))}),y(42," Reject "),m(),p(43,"button",16),B("click",function(){j(t);let i=x();return U(i.openDeleteConfirm(i.selectedJob()))}),y(44," Delete "),m()()()()}if(n&2){let t,r,i,o,s,a,l,u=x();w(5),H((t=u.selectedJob())==null?null:t.title),w(7),H((r=u.selectedJob())==null?null:r.company),w(5),H((i=u.selectedJob())==null?null:i.location),w(5),H((o=u.selectedJob())==null?null:o.type),w(5),H((s=u.selectedJob())==null?null:s.salary),w(5),H((a=u.selectedJob())==null?null:a.description),w(5),H(((l=u.selectedJob())==null?null:l.status)||"N/A")}}function j9(n,e){if(n&1){let t=se();p(0,"div",40),B("click",function(){j(t);let i=x();return U(i.closeConfirmModal())}),m(),p(1,"div",41)(2,"div",42)(3,"div",43)(4,"h5",44),ne(5,"i",53),y(6),m(),p(7,"button",45),B("click",function(){j(t);let i=x();return U(i.closeConfirmModal())}),m()(),p(8,"div",46)(9,"p"),y(10),m()(),p(11,"div",50)(12,"button",54),B("click",function(){j(t);let i=x();return U(i.closeConfirmModal())}),y(13,"Cancel"),m(),p(14,"button",16),B("click",function(){j(t);let i=x();return U(i.executeConfirmAction())}),y(15,"Confirm"),m()()()()}if(n&2){let t=x();w(6),H(t.confirmModalTitle),w(4),H(t.confirmModalMessage)}}var sg=class n{jobsService=P(en);allJobs=ee([]);selectedJob=ee(null);loading=ee(!1);actionMessage=ee(null);showConfirmModal=!1;confirmModalTitle="";confirmModalMessage="";confirmModalAction=null;jobToAction=null;searchTitle=ee("");searchCompany=ee("");searchLocation=ee("");currentPage=ee(1);pageSize=ee(10);pageSizeOptions=[5,10,25,50];filteredJobs=_n(()=>{let e=this.allJobs(),t=this.searchTitle().toLowerCase(),r=this.searchCompany().toLowerCase(),i=this.searchLocation().toLowerCase();return t&&(e=e.filter(o=>o.title.toLowerCase().includes(t))),r&&(e=e.filter(o=>o.company.toLowerCase().includes(r))),i&&(e=e.filter(o=>o.location.toLowerCase().includes(i))),e});totalPages=_n(()=>Math.ceil(this.filteredJobs().length/this.pageSize()));paginatedJobs=_n(()=>{let e=this.filteredJobs(),t=(this.currentPage()-1)*this.pageSize(),r=t+this.pageSize();return e.slice(t,r)});ngOnInit(){this.loadJobs()}loadJobs(){this.loading.set(!0),this.allJobs.set(this.jobsService.list()),this.currentPage.set(1),this.loading.set(!1)}resetFilters(){this.searchTitle.set(""),this.searchCompany.set(""),this.searchLocation.set(""),this.currentPage.set(1)}nextPage(){this.currentPage()<this.totalPages()&&this.currentPage.set(this.currentPage()+1)}previousPage(){this.currentPage()>1&&this.currentPage.set(this.currentPage()-1)}goToPage(e){e>=1&&e<=this.totalPages()&&this.currentPage.set(e)}changePageSize(e){this.pageSize.set(e),this.currentPage.set(1)}selectJob(e){this.selectedJob.set(e),this.actionMessage.set(null)}closeModal(){this.selectedJob.set(null),this.actionMessage.set(null)}approveJob(e){return b(this,null,function*(){e.id&&(yield this.jobsService.update(e.id,{status:"approved"}),this.loadJobs(),this.showMessage("success",`Job "${e.title}" has been approved.`),this.closeModal())})}openRejectConfirm(e){this.jobToAction=e,this.confirmModalTitle="Reject Job",this.confirmModalMessage=`Are you sure you want to reject "${e.title}"?`,this.confirmModalAction=()=>b(this,null,function*(){this.jobToAction?.id&&(yield this.jobsService.delete(this.jobToAction.id),this.loadJobs(),this.showMessage("success",`Job "${this.jobToAction.title}" has been removed.`),this.closeModal())}),this.showConfirmModal=!0}openDeleteConfirm(e){this.jobToAction=e,this.confirmModalTitle="Delete Job",this.confirmModalMessage=`Are you sure you want to delete "${e.title}"? This action cannot be undone.`,this.confirmModalAction=()=>b(this,null,function*(){this.jobToAction?.id&&(yield this.jobsService.delete(this.jobToAction.id),this.loadJobs(),this.showMessage("success",`Job "${this.jobToAction.title}" has been deleted.`),this.closeModal())}),this.showConfirmModal=!0}closeConfirmModal(){this.showConfirmModal=!1,this.confirmModalTitle="",this.confirmModalMessage="",this.confirmModalAction=null,this.jobToAction=null}executeConfirmAction(){return b(this,null,function*(){this.confirmModalAction&&(yield this.confirmModalAction()),this.closeConfirmModal()})}showMessage(e,t){this.actionMessage.set({type:e,text:t}),setTimeout(()=>this.actionMessage.set(null),3e3)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-admin-dashboard"]],decls:30,vars:9,consts:[[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"badge","bg-dark"],[1,"alert",3,"alert-success","alert-danger"],[1,"mb-4"],[1,"row","justify-content-center"],[1,"col-lg-12"],[1,"row","g-2","align-items-center","search-bar-wrapper"],[1,"col-md-3"],[1,"input-icon-container"],[1,"fas","fa-search","input-icon"],["type","text","placeholder","Search by Title",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-building","input-icon"],["type","text","placeholder","Search by Company",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-location-dot","input-icon"],["type","text","placeholder","Search by Location",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-danger",3,"click"],[1,"text-center","py-5"],[1,"alert"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"alert","alert-info","text-center"],[1,"table-responsive"],[1,"table","table-hover"],[1,"table-dark"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"me-2"],[1,"form-select","d-inline-block",2,"width","auto",3,"change"],[3,"value","selected"],[1,"pagination","m-0"],[1,"btn","btn-outline-primary","me-1",3,"click","disabled"],["role","group",1,"btn-group"],["type","button",1,"btn",3,"btn-primary","btn-outline-primary"],[1,"btn","btn-outline-primary","ms-1",3,"click","disabled"],[1,"text-muted"],[1,"text-truncate",2,"max-width","80px","font-size","0.85rem"],[1,"badge","badge-meta"],[1,"btn","btn-sm","btn-outline-primary","me-1",3,"click"],["title","Permanently Delete Job",1,"btn","btn-sm","btn-outline-danger",3,"click"],["type","button",1,"btn",3,"click"],[1,"modal-backdrop",3,"click"],[1,"modal-container"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"fw-bold"],[1,"text-success"],[1,"modal-footer"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-warning",3,"click"],[1,"fas","fa-exclamation-triangle","text-warning","me-2"],[1,"btn","btn-secondary",3,"click"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"div",1)(2,"h2"),y(3,"Admin Dashboard"),m(),p(4,"span",2),y(5),m()(),W(6,A9,2,5,"div",3),p(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),ne(13,"i",10),p(14,"input",11),be("ngModelChange",function(o){return Ee(r.searchTitle,o)||(r.searchTitle=o),o}),m()()(),p(15,"div",8)(16,"div",9),ne(17,"i",12),p(18,"input",13),be("ngModelChange",function(o){return Ee(r.searchCompany,o)||(r.searchCompany=o),o}),m()()(),p(19,"div",8)(20,"div",9),ne(21,"i",14),p(22,"input",15),be("ngModelChange",function(o){return Ee(r.searchLocation,o)||(r.searchLocation=o),o}),m()()(),p(23,"div",8)(24,"button",16),B("click",function(){return r.resetFilters()}),y(25," Reset Filters "),m()()()()()(),W(26,x9,4,0,"div",17)(27,L9,2,1),m(),W(28,V9,45,7),W(29,j9,16,2)),t&2&&(w(5),vn("",r.allJobs().length," Total Jobs | ",r.filteredJobs().length," Filtered"),w(),G(r.actionMessage()?6:-1),w(8),_e("ngModel",r.searchTitle),w(4),_e("ngModel",r.searchCompany),w(4),_e("ngModel",r.searchLocation),w(4),G(r.loading()?26:27),w(2),G(r.selectedJob()?28:-1),w(),G(r.showConfirmModal?29:-1))},dependencies:[lt,wn,Gr,Jr,tn,En,hn],styles:[".badge-meta[_ngcontent-%COMP%]{background-color:#051a49;color:#fff;padding:.5em .8em;font-weight:500;border-radius:4px;font-family:Poppins,sans-serif}.table[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;border-radius:12px;overflow:hidden}.table-dark[_ngcontent-%COMP%]{--bs-table-bg: #051a49;--bs-table-border-color: #051a49;color:#fff}.card[_ngcontent-%COMP%]{border:1px solid #e0e0e0;box-shadow:0 1px 3px #0000001a;border-radius:12px;font-family:Poppins,sans-serif}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600}.search-bar-wrapper[_ngcontent-%COMP%]{background-color:transparent;box-shadow:none;overflow:visible}.input-icon-container[_ngcontent-%COMP%]{position:relative;width:100%}.input-icon[_ngcontent-%COMP%]{position:absolute;left:30px;top:50%;transform:translateY(-50%);color:#64748b;font-size:1.1rem;z-index:2;margin-top:2px}.form-control[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:8px;background-color:#fff;box-shadow:0 1px 3px #0000000d;font-size:1rem;transition:background-color .3s,box-shadow .3s;font-family:Poppins,sans-serif}.input-icon-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:65px}.form-control[_ngcontent-%COMP%]:focus{outline:none;background-color:#fff;border:1px solid #3b82f6;box-shadow:none}.btn-success[_ngcontent-%COMP%]{--bs-btn-bg: #1f57bf;--bs-btn-border-color: #1f57bf;--bs-btn-hover-bg: #19489f;--bs-btn-hover-border-color: #19489f;color:#fff}.btn-warning[_ngcontent-%COMP%]{--bs-btn-bg: #e60278;--bs-btn-border-color: #e60278;--bs-btn-hover-bg: #cc026b;--bs-btn-hover-border-color: #cc026b;color:#fff}.btn-danger[_ngcontent-%COMP%]{--bs-btn-bg: #dc3545;--bs-btn-border-color: #dc3545;--bs-btn-hover-bg: #c82333;--bs-btn-hover-border-color: #c82333;color:#fff;padding:10px 16px;font-size:1rem}.btn-outline-primary[_ngcontent-%COMP%]{--bs-btn-color: #3b82f6;--bs-btn-border-color: #3b82f6;--bs-btn-hover-color: #fff;--bs-btn-hover-bg: #3b82f6;--bs-btn-active-bg: #2563eb;--bs-btn-active-border-color: #2563eb}.btn-primary[_ngcontent-%COMP%]{--bs-btn-bg: #3b82f6;--bs-btn-border-color: #3b82f6}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1040}.modal-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1050;width:100%;max-width:600px;padding:20px}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 40px #0003;overflow:hidden;font-family:Poppins,sans-serif}.modal-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center}.modal-title[_ngcontent-%COMP%]{margin:0;font-weight:600}.modal-body[_ngcontent-%COMP%]{padding:20px;max-height:400px;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:20px;border-top:1px solid #e0e0e0;display:flex;gap:10px;justify-content:flex-end}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;opacity:.5}.btn-close[_ngcontent-%COMP%]:hover{opacity:1}.pagination[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:4px}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:first-child){margin-left:-1px}h2[_ngcontent-%COMP%]{font-family:Poppins;font-weight:700}"]})};var U9=(n,e)=>e.id;function B9(n,e){n&1&&(p(0,"div",2)(1,"div",5)(2,"span",6),y(3,"Loading..."),m()()())}function $9(n,e){n&1&&(p(0,"div",3)(1,"div",7),ne(2,"i",8),m(),p(3,"h4"),y(4,"No saved jobs yet"),m(),p(5,"p",9),y(6,"Jobs you save will appear here"),m(),p(7,"a",10),y(8,"Browse Jobs"),m()())}function H9(n,e){if(n&1){let t=se();p(0,"div",11)(1,"div",12)(2,"div",13)(3,"h5",14),y(4),m(),p(5,"p",15),y(6),m(),p(7,"div",16)(8,"span",17),y(9),m(),p(10,"span",18),y(11),m()(),p(12,"p",19),y(13),m()(),p(14,"div",20)(15,"button",21),B("click",function(){let i=j(t).$implicit,o=x(2);return U(o.removeSavedJob(i.id))}),ne(16,"i",22),y(17," Remove from Saved "),m()()()()}if(n&2){let t=e.$implicit;w(4),H(t.title),w(2),H(t.company),w(3),H(t.location),w(2),H(t.type),w(2),H(t.salary)}}function z9(n,e){if(n&1&&(p(0,"div",4),qe(1,H9,18,5,"div",11,U9),m()),n&2){let t=x();w(),We(t.savedJobs())}}var ag=class n{authService=P(ze);jobsService=P(en);savedJobs=ee([]);loading=ee(!1);ngOnInit(){this.loadSavedJobs()}loadSavedJobs(){this.loading.set(!0);let e=this.authService.userProfile()?.savedJobs||[],r=this.jobsService.list().filter(i=>i.id&&e.includes(i.id));this.savedJobs.set(r),this.loading.set(!1)}removeSavedJob(e){return b(this,null,function*(){e&&(yield this.jobsService.unsaveJob(e),this.loadSavedJobs())})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-saved-jobs"]],decls:6,vars:1,consts:[[1,"container","py-4"],[1,"mb-4","fw-bold"],[1,"text-center","py-5"],[1,"empty-state","text-center","py-5"],[1,"row"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"empty-icon","mb-3"],[1,"fas","fa-bookmark","empty-state-icon"],[1,"text-muted"],["routerLink","/job-list",1,"btn","btn-primary","btn-lg"],[1,"col-md-6","col-lg-4","mb-4"],[1,"card","job-card","h-100"],[1,"card-body"],[1,"card-title"],[1,"company-name","text-muted","mb-2"],[1,"job-meta","mb-3"],[1,"badge","badge-meta","me-2"],[1,"badge","badge-meta"],[1,"salary","text-success","fw-bold"],[1,"card-footer","bg-white","border-top-0"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash-alt","me-2"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"h2",1),y(2,"Saved Jobs"),m(),W(3,B9,4,0,"div",2)(4,$9,9,0,"div",3)(5,z9,3,0,"div",4),m()),t&2&&(w(3),G(r.loading()?3:r.savedJobs().length===0?4:5))},dependencies:[lt,vi,lo],styles:[".container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.empty-state[_ngcontent-%COMP%]{background:#f4f7f9;border-radius:12px;padding:60px 20px}.empty-state-icon[_ngcontent-%COMP%]{font-size:4rem;color:#051a49;margin-bottom:20px;display:block;margin-left:auto;margin-right:auto;width:fit-content}.job-card[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:16px;transition:transform .2s,box-shadow .2s;font-family:Poppins,sans-serif;position:relative}.job-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 15px 25px #00000026;z-index:10}.job-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:24px!important}.job-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:16px 24px 24px;border-top:none!important}.card-title[_ngcontent-%COMP%]{font-weight:800;font-size:1.5rem;color:#051a49}.company-name[_ngcontent-%COMP%]{font-size:1rem;color:#64748b!important}.badge-meta[_ngcontent-%COMP%]{background-color:#051a49;color:#fff;padding:.5em .8em;font-weight:500;border-radius:4px}.salary[_ngcontent-%COMP%]{font-size:1rem}.card-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 12px;border-radius:12px;font-family:Poppins,sans-serif}.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;border-color:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb;border-color:#2563eb}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#c82333}"]})};var q9=(n,e)=>e.id;function W9(n,e){n&1&&(p(0,"div",2)(1,"div",5)(2,"span",6),y(3,"Loading..."),m()()())}function G9(n,e){n&1&&(p(0,"div",3)(1,"div",7),ne(2,"i",8),m(),p(3,"h4"),y(4,"No applied jobs yet"),m(),p(5,"p",9),y(6,"Jobs you apply to will appear here"),m(),p(7,"a",10),y(8,"Browse Jobs"),m()())}function J9(n,e){if(n&1&&(p(0,"div",11)(1,"div",12)(2,"div",13)(3,"h5",14),y(4),m(),p(5,"p",15),y(6),m(),p(7,"div",16)(8,"span",17),y(9),m(),p(10,"span",18),y(11),m()(),p(12,"p",19),y(13),m(),p(14,"div",20)(15,"span",21),y(16),Hn(17,"titlecase"),m()()()()()),n&2){let t=e.$implicit,r=x(2);w(4),H(t.title),w(2),H(t.company),w(3),H(t.location),w(2),H(t.type),w(2),H(t.salary),w(2),J("ngClass",r.getStatusBadgeClass(t.applicationStatus)),w(),Ie(" Application: ",Aa(17,7,t.applicationStatus)," ")}}function K9(n,e){if(n&1&&(p(0,"div",4),qe(1,J9,18,9,"div",11,q9),m()),n&2){let t=x();w(),We(t.appliedJobs())}}var cg=class n{authService=P(ze);jobsService=P(en);appliedJobs=ee([]);loading=ee(!1);ngOnInit(){return b(this,null,function*(){yield this.loadAppliedJobs()})}loadAppliedJobs(){return b(this,null,function*(){this.loading.set(!0);let e=this.authService.currentUser()?.uid;if(e){let r=(yield this.jobsService.getAllJobs()).filter(i=>i.applicants?.some(o=>o.userId===e&&o.status!=="rejected")).map(i=>{let o=i.applicants?.find(s=>s.userId===e);return te(V({},i),{applicationStatus:o?.status||"pending"})});this.appliedJobs.set(r)}this.loading.set(!1)})}getStatusBadgeClass(e){switch(e){case"accepted":return"bg-success";case"pending":return"bg-warning text-dark";case"rejected":return"bg-danger";default:return"bg-secondary"}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-applied-jobs"]],decls:6,vars:1,consts:[[1,"container","py-4"],[1,"mb-4","fw-bold"],[1,"text-center","py-5"],[1,"empty-state","text-center","py-5"],[1,"row"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"empty-icon","mb-3"],[1,"fas","fa-briefcase","empty-state-icon"],[1,"text-muted"],["routerLink","/job-list",1,"btn","btn-primary","btn-lg"],[1,"col-md-6","col-lg-4","mb-4"],[1,"card","job-card","h-100"],[1,"card-body"],[1,"card-title"],[1,"company-name","text-muted","mb-2"],[1,"job-meta","mb-3"],[1,"badge","badge-meta","me-2"],[1,"badge","badge-meta"],[1,"salary","text-success","fw-bold"],[1,"mt-3"],[1,"badge",3,"ngClass"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"h2",1),y(2,"Applied Jobs"),m(),W(3,W9,4,0,"div",2)(4,G9,9,0,"div",3)(5,K9,3,0,"div",4),m()),t&2&&(w(3),G(r.loading()?3:r.appliedJobs().length===0?4:5))},dependencies:[lt,gi,vi,lo,$l],styles:[".container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.empty-state[_ngcontent-%COMP%]{background:#f4f7f9;border-radius:12px;padding:60px 20px}.empty-state-icon[_ngcontent-%COMP%]{font-size:4rem;color:#051a49;margin-bottom:20px;display:block;margin-left:auto;margin-right:auto;width:fit-content}.job-card[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:16px;transition:transform .2s,box-shadow .2s;font-family:Poppins,sans-serif;position:relative}.job-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 15px 25px #00000026;z-index:10}.job-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:24px!important}.card-title[_ngcontent-%COMP%]{font-weight:800;font-size:1.5rem;color:#051a49}.company-name[_ngcontent-%COMP%]{font-size:1rem;color:#64748b!important}.badge-meta[_ngcontent-%COMP%]{background-color:#051a49;color:#fff;padding:.5em .8em;font-weight:500;border-radius:4px}.salary[_ngcontent-%COMP%]{font-size:1rem}"]})};var lg=class n{authService=P(ze);router=P(it);ngOnInit(){let e=this.authService.userProfile();e?.role==="employer"?this.router.navigate(["/employer-jobs"]):e?.role==="admin"?this.router.navigate(["/admin"]):this.router.navigate(["/job-list"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-home"]],decls:0,vars:0,template:function(t,r){},encapsulation:2})};var ik=(n,e,t)=>({"bg-success":n,"bg-danger":e,"bg-warning text-dark":t}),Q9=(n,e)=>e.id,Y9=(n,e)=>e.userId,rk=(n,e)=>e.value;function Z9(n,e){n&1&&(p(0,"p",4),y(1,"Loading..."),m())}function X9(n,e){n&1&&(p(0,"p",4),y(1,"You haven't posted any jobs yet."),m())}function ez(n,e){if(n&1){let t=se();p(0,"div",22),B("click",function(){let i=j(t).$implicit,o=x(2);return U(o.viewJob(i))}),p(1,"div")(2,"h2",23),y(3),m(),p(4,"p",24),y(5),m(),p(6,"p",25),y(7),m(),p(8,"span",26),y(9),m()()()}if(n&2){let t=e.$implicit,r=x(2);It("active",(r.selectedJob==null?null:r.selectedJob.id)===t.id),w(3),H(t.title),w(2),vn("",t.location," | ",t.type),w(2),H(t.salary),w(),J("ngClass",r.getStatusBadgeClass(t.status)),w(),H(t.status)}}function tz(n,e){if(n&1){let t=se();p(0,"div",9)(1,"label",10),y(2,"Sort By:"),m(),p(3,"select",11),be("ngModelChange",function(i){j(t);let o=x();return Ee(o.sortBy,i)||(o.sortBy=i),U(i)}),B("change",function(){j(t);let i=x();return U(i.onSortChange())}),p(4,"option",12),y(5,"Newest First"),m(),p(6,"option",13),y(7,"Oldest First"),m(),p(8,"option",14),y(9,"Title (A-Z)"),m(),p(10,"option",15),y(11,"Title (Z-A)"),m(),p(12,"option",16),y(13,"Status (A-Z)"),m(),p(14,"option",17),y(15,"Status (Z-A)"),m(),p(16,"option",18),y(17,"Most Applicants"),m(),p(18,"option",19),y(19,"Least Applicants"),m()()(),p(20,"div",20),qe(21,ez,10,8,"div",21,Q9),m()}if(n&2){let t=x();w(3),_e("ngModel",t.sortBy),w(18),We(t.jobs)}}function nz(n,e){if(n&1&&(p(0,"p",34),y(1),Hn(2,"date"),m()),n&2){let t=x(2);w(),Ie(" Posted: ",to(2,1,t.selectedJob.postedDate,"short")," ")}}function rz(n,e){if(n&1&&(p(0,"p",45)(1,"span",26),y(2),Hn(3,"titlecase"),m()()),n&2){let t=x().$implicit;w(),J("ngClass",yh(4,ik,t.status==="accepted",t.status==="rejected",t.status==="pending")),w(),Ie(" ",Aa(3,2,t.status)," ")}}function iz(n,e){if(n&1){let t=se();p(0,"div",41)(1,"div",42)(2,"div")(3,"p",43),y(4),m(),p(5,"p",44),y(6),m(),p(7,"p",44),y(8),Hn(9,"date"),m(),W(10,rz,4,8,"p",45),m(),p(11,"div",46)(12,"button",47),B("click",function(){let i=j(t).$implicit,o=x(3);return U(o.openApplicantModal(i))}),ne(13,"i",48),m(),p(14,"button",49),B("click",function(){let i=j(t).$implicit,o=x(3);return U(o.acceptApplicant(i))}),ne(15,"i",50),m(),p(16,"button",51),B("click",function(){let i=j(t).$implicit,o=x(3);return U(o.openRejectConfirm(i))}),ne(17,"i",52),m()()()()}if(n&2){let t=e.$implicit;w(4),H(t.name||t.email),w(2),H(t.email),w(2),Ie(" Applied: ",to(9,6,t.appliedAt,"short")," "),w(2),G(t.status?10:-1),w(4),J("disabled",t.status==="accepted"),w(2),J("disabled",t.status==="rejected")}}function oz(n,e){if(n&1&&(p(0,"div",37),qe(1,iz,18,9,"div",41,Y9),m()),n&2){let t=x(2);w(),We(t.selectedJob.applicants)}}function sz(n,e){n&1&&(p(0,"p",4),y(1,"No applicants yet"),m())}function az(n,e){if(n&1){let t=se();p(0,"div",6)(1,"div",27)(2,"div")(3,"h2",28),y(4),m(),p(5,"h3",29),y(6),m()(),p(7,"span",26),y(8),m()(),p(9,"div",30)(10,"span",31),y(11),m(),p(12,"span",31),y(13),m(),p(14,"span",32),y(15),m()(),p(16,"p",33),y(17),m(),W(18,nz,3,4,"p",34),p(19,"div",35)(20,"h4",36),y(21),m(),W(22,oz,3,0,"div",37)(23,sz,2,0,"p",4),m(),p(24,"div",38)(25,"button",39),B("click",function(){j(t);let i=x();return U(i.startEdit(i.selectedJob))}),y(26,"Edit"),m(),p(27,"button",40),B("click",function(){j(t);let i=x();return U(i.openDeleteConfirm(i.selectedJob.id))}),y(28," Delete "),m()()()}if(n&2){let t=x();w(4),H(t.selectedJob.title),w(2),H(t.selectedJob.company),w(),J("ngClass",t.getStatusBadgeClass(t.selectedJob.status)),w(),H(t.selectedJob.status),w(3),H(t.selectedJob.location),w(2),H(t.selectedJob.type),w(2),H(t.selectedJob.salary),w(2),H(t.selectedJob.description),w(),G(t.selectedJob.postedDate?18:-1),w(3),Ie("Applicants (",(t.selectedJob.applicants==null?null:t.selectedJob.applicants.length)||0,")"),w(),G(t.selectedJob.applicants&&t.selectedJob.applicants.length>0?22:23),w(5),J("disabled",t.isDeleting)}}function cz(n,e){n&1&&(p(0,"div",7),ne(1,"i",53),p(2,"p",4),y(3,"Select a job to view details"),m()())}function lz(n,e){if(n&1&&(p(0,"div",9)(1,"label",70),y(2,"Location:"),m(),p(3,"p",71),y(4),m()()),n&2){let t=x(2);w(4),H(t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.location)}}function uz(n,e){if(n&1&&(p(0,"div",9)(1,"label",70),y(2,"Phone:"),m(),p(3,"p",71),y(4),m()()),n&2){let t=x(2);w(4),H(t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.phone)}}function dz(n,e){if(n&1&&(p(0,"div",9)(1,"label",70),y(2,"Website:"),m(),p(3,"p",71)(4,"a",79),y(5),m()()()),n&2){let t=x(2);w(4),J("href",t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.website,nh),w(),H(t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.website)}}function fz(n,e){if(n&1&&(p(0,"div",9)(1,"label",70),y(2,"Headline:"),m(),p(3,"p",71),y(4),m()()),n&2){let t=x(2);w(4),H(t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.headline)}}function hz(n,e){if(n&1&&(p(0,"div",9)(1,"label",70),y(2,"Bio:"),m(),p(3,"p",71),y(4),m()()),n&2){let t=x(2);w(4),H(t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.bio)}}function pz(n,e){if(n&1&&(p(0,"div",80)(1,"p",81),ne(2,"i",82),y(3),m(),p(4,"p",83),ne(5,"i",84),y(6),m()()),n&2){let t=e.$implicit;w(3),H(t.question),w(3),H(t.answer)}}function mz(n,e){if(n&1&&qe(0,pz,7,2,"div",80,hi),n&2){let t=x(2);We(t.selectedApplicant.responses)}}function gz(n,e){n&1&&(p(0,"p",73),y(1,"No application responses provided."),m())}function yz(n,e){if(n&1){let t=se();p(0,"div",8)(1,"div",54)(2,"div",55)(3,"h5",56),y(4,"Applicant Details"),m(),p(5,"button",57),B("click",function(){j(t);let i=x();return U(i.closeApplicantModal())}),m()(),p(6,"div",58)(7,"div",59)(8,"div",60)(9,"div",61),ne(10,"i",62),m(),p(11,"div")(12,"h4",63),y(13),m(),p(14,"p",64),y(15),m(),p(16,"span",65),y(17),Hn(18,"titlecase"),m()()()(),p(19,"div",66)(20,"div",67)(21,"h6",68),ne(22,"i",69),y(23,"Profile Information"),m(),p(24,"div",9)(25,"label",70),y(26,"Applied On:"),m(),p(27,"p",71),y(28),Hn(29,"date"),m()(),W(30,lz,5,1,"div",9),W(31,uz,5,1,"div",9),W(32,dz,6,2,"div",9),W(33,fz,5,1,"div",9),W(34,hz,5,1,"div",9),m(),p(35,"div",67)(36,"h6",68),ne(37,"i",72),y(38,"Application Questions & Answers"),m(),W(39,mz,2,0)(40,gz,2,0,"p",73),m()()(),p(41,"div",74)(42,"button",75),B("click",function(){j(t);let i=x();return U(i.acceptApplicant(i.selectedApplicant))}),ne(43,"i",76),y(44," Accept "),m(),p(45,"button",40),B("click",function(){j(t);let i=x();return U(i.openRejectConfirm(i.selectedApplicant))}),ne(46,"i",77),y(47," Reject "),m(),p(48,"button",78),B("click",function(){j(t);let i=x();return U(i.closeApplicantModal())}),y(49,"Close"),m()()()()}if(n&2){let t=x();w(13),H(t.selectedApplicant.name||(t.selectedApplicantProfile!=null&&t.selectedApplicantProfile.firstName?((t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.firstName)||"")+" "+((t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.lastName)||""):t.selectedApplicant.email)),w(2),H(t.selectedApplicant.email),w(),J("ngClass",yh(18,ik,t.selectedApplicant.status==="accepted",t.selectedApplicant.status==="rejected",!t.selectedApplicant.status||t.selectedApplicant.status==="pending")),w(),Ie(" ",Aa(18,13,t.selectedApplicant.status||"pending")," "),w(11),H(to(29,15,t.selectedApplicant.appliedAt,"medium")),w(2),G(t.selectedApplicantProfile!=null&&t.selectedApplicantProfile.location?30:-1),w(),G(t.selectedApplicantProfile!=null&&t.selectedApplicantProfile.phone?31:-1),w(),G(t.selectedApplicantProfile!=null&&t.selectedApplicantProfile.website?32:-1),w(),G(t.selectedApplicantProfile!=null&&t.selectedApplicantProfile.headline?33:-1),w(),G(t.selectedApplicantProfile!=null&&t.selectedApplicantProfile.bio?34:-1),w(5),G(t.selectedApplicant.responses&&t.selectedApplicant.responses.length>0?39:40),w(3),J("disabled",t.selectedApplicant.status==="accepted"),w(3),J("disabled",t.selectedApplicant.status==="rejected")}}function vz(n,e){if(n&1&&(p(0,"option",105),y(1),m()),n&2){let t=e.$implicit;J("value",t.value),w(),H(t.label)}}function _z(n,e){if(n&1&&(p(0,"option",105),y(1),m()),n&2){let t=e.$implicit;J("value",t.value),w(),H(t.label)}}function bz(n,e){if(n&1){let t=se();p(0,"div",8)(1,"div",54)(2,"h2"),y(3,"Edit Job"),m(),p(4,"div",85)(5,"label",86),y(6,"Job Title"),m(),p(7,"div",87),ne(8,"i",88),p(9,"input",89),be("ngModelChange",function(i){j(t);let o=x();return Ee(o.editingJob.title,i)||(o.editingJob.title=i),U(i)}),m()()(),p(10,"div",85)(11,"label",90),y(12,"Location"),m(),p(13,"div",87),ne(14,"i",91),p(15,"input",92),be("ngModelChange",function(i){j(t);let o=x();return Ee(o.editingJob.location,i)||(o.editingJob.location=i),U(i)}),m()()(),p(16,"div",85)(17,"label",93),y(18,"Type"),m(),p(19,"div",87),ne(20,"i",94),p(21,"select",95),be("ngModelChange",function(i){j(t);let o=x();return Ee(o.editingJob.type,i)||(o.editingJob.type=i),U(i)}),p(22,"option",96),y(23,"Select Job Type"),m(),p(24,"option",97),y(25,"Part-Time"),m(),p(26,"option",98),y(27,"Full-Time"),m(),p(28,"option",99),y(29,"Contract"),m(),p(30,"option",100),y(31,"Remote"),m()()()(),p(32,"div",85)(33,"label",101),y(34,"Salary Range"),m(),p(35,"div",102)(36,"div",87)(37,"span",103),y(38,"\u20B1"),m(),p(39,"select",104),be("ngModelChange",function(i){j(t);let o=x();return Ee(o.editSalaryMin,i)||(o.editSalaryMin=i),U(i)}),p(40,"option",96),y(41,"Min Salary"),m(),qe(42,vz,2,2,"option",105,rk),m()(),p(44,"span"),y(45,"-"),m(),p(46,"div",87)(47,"span",103),y(48,"\u20B1"),m(),p(49,"select",106),be("ngModelChange",function(i){j(t);let o=x();return Ee(o.editSalaryMax,i)||(o.editSalaryMax=i),U(i)}),p(50,"option",96),y(51,"Max Salary"),m(),qe(52,_z,2,2,"option",105,rk),m()()()(),p(54,"div",85)(55,"label",107),y(56,"Description"),m(),p(57,"textarea",108),be("ngModelChange",function(i){j(t);let o=x();return Ee(o.editingJob.description,i)||(o.editingJob.description=i),U(i)}),m()(),p(58,"div",74)(59,"button",109),B("click",function(){j(t);let i=x();return U(i.cancelEdit())}),y(60,"Cancel"),m(),p(61,"button",75),B("click",function(){j(t);let i=x();return U(i.saveEdit())}),y(62),m()()()()}if(n&2){let t=x();w(9),_e("ngModel",t.editingJob.title),w(6),_e("ngModel",t.editingJob.location),w(6),_e("ngModel",t.editingJob.type),w(18),_e("ngModel",t.editSalaryMin),w(3),We(t.salaryOptions),w(7),_e("ngModel",t.editSalaryMax),w(3),We(t.salaryOptions),w(5),_e("ngModel",t.editingJob.description),w(2),J("disabled",t.isSaving),w(2),J("disabled",t.isSaving),w(),Ie(" ",t.isSaving?"Saving...":"Save Changes"," ")}}function Ez(n,e){if(n&1){let t=se();p(0,"div",8)(1,"div",110)(2,"h2"),y(3,"Confirm Deletion"),m(),p(4,"p"),y(5,"Are you sure you want to delete this job posting? This action cannot be undone."),m(),p(6,"div",74)(7,"button",109),B("click",function(){j(t);let i=x();return U(i.closeDeleteConfirm())}),y(8,"Cancel"),m(),p(9,"button",40),B("click",function(){j(t);let i=x();return U(i.confirmDelete())}),y(10),m()()()()}if(n&2){let t=x();w(7),J("disabled",t.isDeleting),w(2),J("disabled",t.isDeleting),w(),Ie(" ",t.isDeleting?"Deleting...":"Delete"," ")}}function wz(n,e){if(n&1){let t=se();p(0,"div",8)(1,"div",110)(2,"div",55)(3,"h5",56),ne(4,"i",111),y(5,"Confirm Rejection"),m(),p(6,"button",57),B("click",function(){j(t);let i=x();return U(i.closeRejectConfirm())}),m()(),p(7,"div",58)(8,"p"),y(9,"Are you sure you want to reject this applicant?"),m(),p(10,"p",112),y(11,"They will be removed from the applicants list."),m()(),p(12,"div",74)(13,"button",78),B("click",function(){j(t);let i=x();return U(i.closeRejectConfirm())}),y(14,"Cancel"),m(),p(15,"button",113),B("click",function(){j(t);let i=x();return U(i.confirmRejectApplicant())}),ne(16,"i",77),y(17," Reject Applicant "),m()()()()}}function Iz(n,e){if(n&1){let t=se();p(0,"div",8)(1,"div",110)(2,"div",55)(3,"h5",56),ne(4,"i",114),y(5,"Notice"),m(),p(6,"button",57),B("click",function(){j(t);let i=x();return U(i.closeAlertModal())}),m()(),p(7,"div",58)(8,"p"),y(9),m()(),p(10,"div",74)(11,"button",39),B("click",function(){j(t);let i=x();return U(i.closeAlertModal())}),y(12,"OK"),m()()()()}if(n&2){let t=x();w(9),H(t.alertMessage)}}var ug=class n{jobService=P(en);authService=P(ze);jobs=[];allJobs=[];loading=!1;selectedJob=null;selectedApplicant=null;selectedApplicantProfile=null;editingJob=null;isDeleting=!1;isSaving=!1;showDeleteConfirmModal=!1;jobToDelete=null;showEditModal=!1;editSalaryMin="";editSalaryMax="";sortBy="date-desc";showAlertModal=!1;alertMessage="";showRejectConfirmModal=!1;applicantToReject=null;salaryOptions=[{value:1e4,label:"\u20B110,000"},{value:2e4,label:"\u20B120,000"},{value:3e4,label:"\u20B130,000"},{value:4e4,label:"\u20B140,000"},{value:5e4,label:"\u20B150,000"},{value:75e3,label:"\u20B175,000"},{value:1e5,label:"\u20B1100,000"},{value:15e4,label:"\u20B1150,000"},{value:2e5,label:"\u20B1200,000"},{value:25e4,label:"\u20B1250,000"},{value:3e5,label:"\u20B1300,000+"}];ngOnInit(){return b(this,null,function*(){yield this.loadEmployerJobs()})}loadEmployerJobs(){return b(this,null,function*(){this.loading=!0;let e=this.authService.currentUser()?.uid;e&&(this.allJobs=yield this.jobService.getEmployerJobs(e),this.applySorting()),this.loading=!1})}applySorting(){let e=[...this.allJobs];switch(this.sortBy){case"date-desc":e.sort((t,r)=>{let i=t.postedDate?new Date(t.postedDate).getTime():0;return(r.postedDate?new Date(r.postedDate).getTime():0)-i});break;case"date-asc":e.sort((t,r)=>{let i=t.postedDate?new Date(t.postedDate).getTime():0,o=r.postedDate?new Date(r.postedDate).getTime():0;return i-o});break;case"title-asc":e.sort((t,r)=>t.title.localeCompare(r.title));break;case"title-desc":e.sort((t,r)=>r.title.localeCompare(t.title));break;case"status-asc":e.sort((t,r)=>(t.status||"").localeCompare(r.status||""));break;case"status-desc":e.sort((t,r)=>(r.status||"").localeCompare(t.status||""));break;case"applicants-desc":e.sort((t,r)=>(r.applicants?.length||0)-(t.applicants?.length||0));break;case"applicants-asc":e.sort((t,r)=>(t.applicants?.length||0)-(r.applicants?.length||0));break}this.jobs=e}onSortChange(){this.applySorting()}viewJob(e){this.selectedJob=e,this.editingJob=null,this.selectedApplicant=null}openApplicantModal(e){return b(this,null,function*(){this.selectedApplicant=e,e.userId&&(this.selectedApplicantProfile=yield this.authService.getUserProfile(e.userId))})}closeApplicantModal(){this.selectedApplicant=null,this.selectedApplicantProfile=null}startEdit(e){this.editingJob=V({},e),this.parseSalaryRange(e.salary),this.showEditModal=!0}parseSalaryRange(e){let t=e.match(/([\d,]+)\s*-\s*([\d,]+)/);t&&(this.editSalaryMin=t[1].replace(/,/g,""),this.editSalaryMax=t[2].replace(/,/g,""))}cancelEdit(){this.editingJob=null,this.showEditModal=!1,this.editSalaryMin="",this.editSalaryMax=""}showAlert(e){this.alertMessage=e,this.showAlertModal=!0}closeAlertModal(){this.showAlertModal=!1,this.alertMessage=""}saveEdit(){return b(this,null,function*(){if(!this.editingJob||!this.editingJob.id)return;if(!this.editingJob.title||!this.editingJob.location||!this.editingJob.type||!this.editingJob.description||!this.editSalaryMin||!this.editSalaryMax){this.showAlert("Please fill in all fields");return}let e=parseInt(this.editSalaryMin),t=parseInt(this.editSalaryMax);if(e>=t){this.showAlert("Minimum salary must be less than maximum salary");return}this.isSaving=!0;try{this.editingJob.salary=`\u20B1${e.toLocaleString()} - \u20B1${t.toLocaleString()}`,yield this.jobService.update(this.editingJob.id,this.editingJob),yield this.loadEmployerJobs(),this.editingJob=null,this.showEditModal=!1,this.editSalaryMin="",this.editSalaryMax=""}catch(r){console.error("Error updating job:",r),this.showAlert("Failed to update job")}finally{this.isSaving=!1}})}openDeleteConfirm(e){e&&(this.jobToDelete=e,this.showDeleteConfirmModal=!0)}closeDeleteConfirm(){this.showDeleteConfirmModal=!1,this.jobToDelete=null}confirmDelete(){return b(this,null,function*(){if(this.jobToDelete){this.isDeleting=!0;try{yield this.jobService.delete(this.jobToDelete),yield this.loadEmployerJobs(),this.selectedJob=null,this.editingJob=null,this.showDeleteConfirmModal=!1,this.jobToDelete=null}catch(e){console.error("Error deleting job:",e),this.showAlert("Failed to delete job")}finally{this.isDeleting=!1}}})}acceptApplicant(e){return b(this,null,function*(){if(!this.selectedJob?.id||!e.userId)return;(yield this.jobService.updateApplicantStatus(this.selectedJob.id,e.userId,"accepted"))?(yield this.loadEmployerJobs(),this.selectedJob=this.jobs.find(r=>r.id===this.selectedJob?.id)||null,this.closeApplicantModal()):this.showAlert("Failed to update applicant status.")})}openRejectConfirm(e){this.applicantToReject=e,this.showRejectConfirmModal=!0}closeRejectConfirm(){this.showRejectConfirmModal=!1,this.applicantToReject=null}confirmRejectApplicant(){return b(this,null,function*(){if(!this.selectedJob?.id||!this.applicantToReject?.userId)return;(yield this.jobService.removeApplicant(this.selectedJob.id,this.applicantToReject.userId))?(yield this.loadEmployerJobs(),this.selectedJob=this.jobs.find(t=>t.id===this.selectedJob?.id)||null,this.closeApplicantModal(),this.closeRejectConfirm()):(this.showAlert("Failed to reject applicant."),this.closeRejectConfirm())})}getStatusBadgeClass(e){switch(e){case"approved":return"bg-success";case"pending":return"bg-warning text-dark";case"rejected":return"bg-danger";default:return"bg-secondary"}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-employer-jobs"]],decls:16,vars:7,consts:[[1,"fw-bold","my-4"],[1,"container-fluid"],[1,"row","mx-5","my-4"],[1,"col-4"],[1,"text-muted"],[1,"col"],[1,"job-details-card"],[1,"empty-details","text-center","py-5"],[1,"modal-overlay"],[1,"mb-3"],[1,"form-label","fw-bold"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value","date-desc"],["value","date-asc"],["value","title-asc"],["value","title-desc"],["value","status-asc"],["value","status-desc"],["value","applicants-desc"],["value","applicants-asc"],[1,"job-list"],[1,"job-item",3,"active"],[1,"job-item",3,"click"],[1,"fs-5","mb-1"],[1,"text-muted","mb-1"],[1,"text-success","fw-bold","mb-2"],[1,"badge",3,"ngClass"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"fs-2","fw-bold"],[1,"fs-5","text-muted"],[1,"job-meta","my-3"],[1,"badge","badge-meta","me-2"],[1,"badge","bg-success"],[1,"mt-4"],[1,"text-muted","small","mt-4"],[1,"applicants-section","mt-5"],[1,"fw-bold","mb-3"],[1,"applicants-list"],[1,"action-buttons","mt-4","d-flex","gap-2"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click","disabled"],[1,"applicant-item","card","mb-2","p-3"],[1,"d-flex","justify-content-between","align-items-start"],[1,"fw-bold","mb-1"],[1,"text-muted","small","mb-0"],[1,"small","mt-1"],[1,"d-flex","gap-2"],["title","View applicant details",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-eye"],["title","Accept applicant",1,"btn","btn-sm","btn-outline-success",3,"click","disabled"],[1,"fas","fa-check"],["title","Reject applicant",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],[1,"fas","fa-times"],[1,"fas","fa-search","empty-details-icon"],[1,"modal-content","modal-lg"],[1,"modal-header","d-flex","justify-content-between","align-items-center"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"applicant-header","mb-4","p-3","bg-light","rounded"],[1,"d-flex","align-items-center","gap-3"],[1,"applicant-avatar"],[1,"fas","fa-user-circle","fa-3x","text-primary"],[1,"mb-1"],[1,"mb-0","text-muted"],[1,"badge","mt-2",3,"ngClass"],[1,"row"],[1,"col-md-6"],[1,"fw-bold","text-primary","mb-3"],[1,"fas","fa-user","me-2"],[1,"fw-bold","small","text-muted"],[1,"mb-0"],[1,"fas","fa-question-circle","me-2"],[1,"text-muted","fst-italic"],[1,"modal-footer"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-check","me-1"],[1,"fas","fa-times","me-1"],[1,"btn","btn-secondary",3,"click"],["target","_blank",3,"href"],[1,"qa-item","mb-3","p-3","border","rounded"],[1,"fw-bold","mb-2","text-dark"],[1,"fas","fa-question","me-2","text-primary"],[1,"mb-0","ps-4"],[1,"fas","fa-reply","me-2","text-muted"],[1,"form-group","mb-3"],["for","edit-title"],[1,"input-icon-container"],[1,"fas","fa-briefcase","input-icon"],["type","text","id","edit-title","placeholder","Enter job title",1,"form-control",3,"ngModelChange","ngModel"],["for","edit-location"],[1,"fas","fa-location-dot","input-icon"],["type","text","id","edit-location","placeholder","Enter city or region",1,"form-control",3,"ngModelChange","ngModel"],["for","edit-type"],[1,"fas","fa-tag","input-icon"],["id","edit-type",1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","Part-Time"],["value","Full-Time"],["value","Contract"],["value","Remote"],["for","edit-salary-min"],[2,"display","flex","gap","10px","align-items","center"],[1,"input-icon","input-peso"],["id","edit-salary-min",1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],["id","edit-salary-max",1,"form-control",3,"ngModelChange","ngModel"],["for","edit-description"],["id","edit-description","rows","5",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"modal-content"],[1,"fas","fa-exclamation-triangle","text-warning","me-2"],[1,"text-muted","small"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-info-circle","text-primary","me-2"]],template:function(t,r){t&1&&(p(0,"h1",0),y(1,"My Job Postings"),m(),p(2,"div",1)(3,"div",2)(4,"div",3),W(5,Z9,2,0,"p",4)(6,X9,2,0,"p",4)(7,tz,23,1),m(),p(8,"div",5),W(9,az,29,12,"div",6)(10,cz,4,0,"div",7),m()()(),W(11,yz,50,22,"div",8),W(12,bz,63,9,"div",8),W(13,Ez,11,3,"div",8),W(14,wz,18,0,"div",8),W(15,Iz,13,1,"div",8)),t&2&&(w(5),G(r.loading?5:r.jobs.length===0?6:7),w(4),G(r.selectedJob?9:10),w(2),G(r.selectedApplicant&&r.selectedJob?11:-1),w(),G(r.showEditModal&&r.editingJob?12:-1),w(),G(r.showDeleteConfirmModal?13:-1),w(),G(r.showRejectConfirmModal?14:-1),w(),G(r.showAlertModal?15:-1))},dependencies:[lt,gi,wn,Gr,Jr,tn,Wr,En,hn,$l,Hl],styles:[".job-list[_ngcontent-%COMP%], .job-details-card[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%], h1[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;margin-left:40px}h1[_ngcontent-%COMP%]{font-size:2rem}.badge-meta[_ngcontent-%COMP%]{background-color:#051a49;color:#fff;padding:.5em .8em;font-weight:500;border-radius:4px}.job-details-card[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > .badge[_ngcontent-%COMP%]{font-size:.95rem;padding:.6em 1em;line-height:1;border-radius:8px;font-weight:600;min-width:80px;text-align:center;display:inline-flex;align-items:center;justify-content:center}.job-details-card[_ngcontent-%COMP%]   .job-meta[_ngcontent-%COMP%]   .bg-success[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:30px;line-height:1;font-size:1rem}.job-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.job-item[_ngcontent-%COMP%]{padding:16px;border:1px solid #e0e0e0;border-radius:12px;cursor:pointer;transition:all .2s;background-color:#fff}.job-item[_ngcontent-%COMP%]:hover{border-color:#d6e5f7;background-color:#d6e5f7;box-shadow:0 4px 10px #0000000d}.job-item.active[_ngcontent-%COMP%]{border-color:#d6e5f7;background-color:#f0f4f9}.job-details-card[_ngcontent-%COMP%]{padding:30px;border:1px solid #e0e0e0;border-radius:16px;background-color:#fff}.job-details-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#051a49;font-weight:700}.job-details-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#475569}.applicants-section[_ngcontent-%COMP%]{padding-top:20px;margin-top:20px;border-top:1px solid #f0f0f0}.applicant-item[_ngcontent-%COMP%]{border-radius:8px;padding:12px!important;background-color:#f8f8f8;border:none}.action-buttons[_ngcontent-%COMP%]{margin-top:24px;padding-top:16px;border-top:1px solid #e0e0e0}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;border-radius:8px;padding:8px 16px;font-size:.95rem;font-weight:600}.action-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;border-color:#3b82f6}.action-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb;border-color:#2563eb}.action-buttons[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545}.action-buttons[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#c82333}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:24px;max-width:600px;box-shadow:0 8px 20px #0003;max-height:90vh;overflow-y:auto}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:16px;color:#051a49;font-weight:600}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;padding-top:20px;margin-top:20px;border-top:1px solid #e0e0e0}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;border-radius:8px;padding:8px 16px;font-weight:600}.modal-footer[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]{background-color:#1f57bf;border-color:#1f57bf}.modal-footer[_ngcontent-%COMP%]   .btn-success[_ngcontent-%COMP%]:hover{background-color:#19489f;border-color:#19489f}.input-icon-container[_ngcontent-%COMP%]{position:relative;width:100%}.input-icon[_ngcontent-%COMP%]{position:absolute;left:30px;top:50%;transform:translateY(-50%);color:#64748b;font-size:1.1rem;z-index:2;margin-top:2px}.input-peso[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;color:#64748b;margin-top:0}.form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding:10px 12px}.input-icon-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:65px}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;border-radius:8px;border:1px solid #e0e0e0}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.job-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.empty-details[_ngcontent-%COMP%]{padding:40px;color:#999}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#333}.empty-details-icon[_ngcontent-%COMP%]{font-size:6rem;color:silver;margin-bottom:20px;display:block;margin-left:auto;margin-right:auto;width:fit-content;transform:translate(5px)}p[_ngcontent-%COMP%]{font-family:Poppins;font-size:1.15rem}.response-item[_ngcontent-%COMP%]{background-color:#f8f9fa;border-radius:8px;border:1px solid #e0e0e0}.modal-lg[_ngcontent-%COMP%]{max-width:800px!important;width:90%}.applicant-header[_ngcontent-%COMP%]{background-color:#f8f9fa}.applicant-avatar[_ngcontent-%COMP%]{flex-shrink:0}.applicant-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;color:#051a49;margin:0}.qa-item[_ngcontent-%COMP%]{background-color:#fafafa;transition:all .2s ease}.qa-item[_ngcontent-%COMP%]:hover{background-color:#f0f4f9;border-color:#3b82f6!important}.qa-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:.95rem}.qa-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{font-size:.9rem;color:#475569}.modal-body[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:1rem;border-bottom:2px solid #3b82f6;padding-bottom:8px;margin-bottom:16px}"]})};function Cz(n,e){n&1&&(p(0,"div",2)(1,"div",3)(2,"span",4),y(3,"Loading..."),m()()())}function Dz(n,e){if(n&1&&(p(0,"div",5),y(1),m()),n&2){let t=x(2);w(),H(t.error)}}function Tz(n,e){if(n&1&&(p(0,"div",6),y(1),m()),n&2){let t=x(2);w(),H(t.successMessage)}}function Sz(n,e){if(n&1){let t=se();p(0,"div",11)(1,"div",14)(2,"label",12),y(3,"First Name"),m(),p(4,"input",15),be("ngModelChange",function(i){j(t);let o=x(3);return Ee(o.firstName,i)||(o.firstName=i),U(i)}),m()(),p(5,"div",14)(6,"label",12),y(7,"Last Name"),m(),p(8,"input",15),be("ngModelChange",function(i){j(t);let o=x(3);return Ee(o.lastName,i)||(o.lastName=i),U(i)}),m()()()}if(n&2){let t=x(3);w(4),_e("ngModel",t.firstName),J("disabled",t.savingProfile),w(4),_e("ngModel",t.lastName),J("disabled",t.savingProfile)}}function Az(n,e){if(n&1){let t=se();p(0,"div",10)(1,"label",12),y(2,"Company"),m(),p(3,"input",15),be("ngModelChange",function(i){j(t);let o=x(3);return Ee(o.company,i)||(o.company=i),U(i)}),m()()}if(n&2){let t=x(3);w(3),_e("ngModel",t.company),J("disabled",t.savingProfile)}}function xz(n,e){if(n&1){let t=se();p(0,"div",10)(1,"label",12),y(2,"Headline"),m(),p(3,"input",26),be("ngModelChange",function(i){j(t);let o=x(3);return Ee(o.headline,i)||(o.headline=i),U(i)}),m()()}if(n&2){let t=x(3);w(3),_e("ngModel",t.headline),J("disabled",t.savingProfile)}}function Mz(n,e){if(n&1){let t=se();p(0,"div",7)(1,"div",8)(2,"div",9)(3,"h4",10),y(4,"Profile Information"),m(),W(5,Sz,9,4,"div",11),W(6,Az,4,2,"div",10),W(7,xz,4,2,"div",10),p(8,"div",10)(9,"label",12),y(10,"Bio / About"),m(),p(11,"textarea",13),be("ngModelChange",function(i){j(t);let o=x(2);return Ee(o.bio,i)||(o.bio=i),U(i)}),m()(),p(12,"div",11)(13,"div",14)(14,"label",12),y(15,"Location"),m(),p(16,"input",15),be("ngModelChange",function(i){j(t);let o=x(2);return Ee(o.location,i)||(o.location=i),U(i)}),m()(),p(17,"div",14)(18,"label",12),y(19,"Phone"),m(),p(20,"input",16),be("ngModelChange",function(i){j(t);let o=x(2);return Ee(o.phone,i)||(o.phone=i),U(i)}),m()()(),p(21,"div",10)(22,"label",12),y(23,"Website / Portfolio"),m(),p(24,"input",17),be("ngModelChange",function(i){j(t);let o=x(2);return Ee(o.website,i)||(o.website=i),U(i)}),m()(),p(25,"button",18),B("click",function(){j(t);let i=x(2);return U(i.saveProfile())}),y(26),m()()(),p(27,"div",19)(28,"div",9)(29,"h4",10),y(30,"Account Settings"),m(),p(31,"div",10)(32,"label",12),y(33,"Email"),m(),p(34,"input",20),be("ngModelChange",function(i){j(t);let o=x(2);return Ee(o.email,i)||(o.email=i),U(i)}),m(),p(35,"small",21),y(36," Changing your email updates the email used to log in. "),m()(),ne(37,"hr",22),p(38,"div",10)(39,"label",12),y(40,"New Password"),m(),p(41,"input",23),be("ngModelChange",function(i){j(t);let o=x(2);return Ee(o.newPassword,i)||(o.newPassword=i),U(i)}),m()(),p(42,"div",10)(43,"label",12),y(44,"Confirm New Password"),m(),p(45,"input",23),be("ngModelChange",function(i){j(t);let o=x(2);return Ee(o.confirmPassword,i)||(o.confirmPassword=i),U(i)}),m()(),p(46,"button",24),B("click",function(){j(t);let i=x(2);return U(i.saveAccountSettings())}),y(47),m(),p(48,"p",25),y(49," For security reasons, you may be asked to log in again after changing sensitive information. "),m()()()()}if(n&2){let t=x(2);w(5),G(t.profile.role!=="employer"?5:-1),w(),G(t.profile.role==="employer"?6:-1),w(),G(t.profile.role!=="employer"?7:-1),w(4),_e("ngModel",t.bio),J("disabled",t.savingProfile),w(5),_e("ngModel",t.location),J("disabled",t.savingProfile),w(4),_e("ngModel",t.phone),J("disabled",t.savingProfile),w(4),_e("ngModel",t.website),J("disabled",t.savingProfile),w(),J("disabled",t.savingProfile),w(),Ie(" ",t.savingProfile?"Saving...":"Save Profile"," "),w(8),_e("ngModel",t.email),J("disabled",t.savingAccount),w(7),_e("ngModel",t.newPassword),J("disabled",t.savingAccount),w(4),_e("ngModel",t.confirmPassword),J("disabled",t.savingAccount),w(),J("disabled",t.savingAccount),w(),Ie(" ",t.savingAccount?"Saving...":"Update Account Settings"," ")}}function Rz(n,e){if(n&1&&(W(0,Dz,2,1,"div",5),W(1,Tz,2,1,"div",6),W(2,Mz,50,21,"div",7)),n&2){let t=x();G(t.error?0:-1),w(),G(t.successMessage?1:-1),w(),G(t.profile?2:-1)}}var dg=class n{authService=P(ze);profile=null;firstName="";lastName="";company="";headline="";bio="";location="";website="";phone="";email="";newPassword="";confirmPassword="";loadingProfile=!1;savingProfile=!1;savingAccount=!1;error=null;successMessage=null;constructor(){this.loadProfile()}loadProfile(){return b(this,null,function*(){this.loadingProfile=!0,this.error=null;try{yield this.authService.waitForAuthState();let e=this.authService.userProfile(),t=this.authService.currentUser();if(!e||!t){this.error="You must be logged in to view your profile.";return}this.profile=e,this.firstName=e.firstName||"",this.lastName=e.lastName||"",this.company=e.company||e.companyName||"",this.headline=e.headline||"",this.bio=e.bio||"",this.location=e.location||"",this.website=e.website||"",this.phone=e.phone||"",this.email=t.email||e.email}catch(e){console.error("Error loading profile:",e),this.error="Failed to load profile."}finally{this.loadingProfile=!1}})}saveProfile(){return b(this,null,function*(){if(this.profile){this.savingProfile=!0,this.error=null,this.successMessage=null;try{yield this.authService.updateUserProfile(this.profile.uid,{firstName:this.firstName||void 0,lastName:this.lastName||void 0,company:this.company||void 0,headline:this.headline||void 0,bio:this.bio||void 0,location:this.location||void 0,website:this.website||void 0,phone:this.phone||void 0}),this.successMessage="Profile updated successfully.",yield this.loadProfile()}catch(e){console.error("Error saving profile:",e),this.error="Failed to update profile."}finally{this.savingProfile=!1}}})}saveAccountSettings(){return b(this,null,function*(){if(this.profile){if(this.newPassword&&this.newPassword!==this.confirmPassword){this.error="New password and confirmation do not match.";return}this.savingAccount=!0,this.error=null,this.successMessage=null;try{this.email&&this.email!==this.profile.email&&(yield this.authService.updateEmail(this.email)),this.newPassword&&(yield this.authService.updatePassword(this.newPassword),this.newPassword="",this.confirmPassword=""),this.successMessage="Account settings updated successfully.",yield this.loadProfile()}catch(e){console.error("Error updating account settings:",e),this.error=e?.message||"Failed to update account settings."}finally{this.savingAccount=!1}}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-profile"]],decls:5,vars:1,consts:[[1,"container","py-4"],[1,"mb-4"],[1,"text-center","py-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"row","g-4"],[1,"col-lg-7"],[1,"card","p-4","mb-4"],[1,"mb-3"],[1,"row"],[1,"form-label"],["rows","4","placeholder","Tell others a bit about yourself.",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"col-md-6","mb-3"],["type","text",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","tel",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","url",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"btn","btn-primary",3,"click","disabled"],[1,"col-lg-5"],["type","email",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"text-muted"],[1,"my-4"],["type","password",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"btn","btn-outline-primary","w-100",3,"click","disabled"],[1,"text-muted","small","mt-3"],["type","text","placeholder","e.g. Senior Frontend Developer, Hiring Manager at TechCorp",1,"form-control",3,"ngModelChange","ngModel","disabled"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"h2",1),y(2,"My Profile"),m(),W(3,Cz,4,0,"div",2)(4,Rz,3,3),m()),t&2&&(w(3),G(r.loadingProfile?3:4))},dependencies:[lt,wn,tn,En,hn],styles:[".container[_ngcontent-%COMP%]{max-width:1100px}.card[_ngcontent-%COMP%]{box-shadow:0 4px 10px #0000000f;border-radius:12px;border:1px solid #e5e7eb}.form-label[_ngcontent-%COMP%]{font-weight:500}input.form-control[_ngcontent-%COMP%], textarea.form-control[_ngcontent-%COMP%]{border-radius:8px}button.btn-primary[_ngcontent-%COMP%], button.btn-outline-primary[_ngcontent-%COMP%]{border-radius:999px}"]})};var Pz=()=>[],Nz=(n,e)=>e.uid;function kz(n,e){if(n&1&&(p(0,"div",22),y(1),m()),n&2){let t,r,i,o=x();It("alert-success",((t=o.actionMessage())==null?null:t.type)==="success")("alert-danger",((r=o.actionMessage())==null?null:r.type)==="error"),w(),Ie(" ",(i=o.actionMessage())==null?null:i.text," ")}}function Oz(n,e){n&1&&(p(0,"div",21)(1,"div",23)(2,"span",24),y(3,"Loading..."),m()()())}function Fz(n,e){n&1&&y(0," No users found matching your search criteria. ")}function Lz(n,e){n&1&&y(0," No users available. ")}function Vz(n,e){if(n&1&&(p(0,"div",25),W(1,Fz,1,0)(2,Lz,1,0),m()),n&2){let t=x(2);w(),G(t.filteredUsers().length===0&&(t.searchEmail()||t.searchRole())?1:2)}}function jz(n,e){if(n&1&&y(0),n&2){let t=x().$implicit;vn(" ",t.firstName," ",t.lastName," ")}}function Uz(n,e){if(n&1&&y(0),n&2){let t=x().$implicit;Ie(" ",t.company," ")}}function Bz(n,e){n&1&&y(0," N/A ")}function $z(n,e){if(n&1){let t=se();p(0,"tr")(1,"td"),y(2),m(),p(3,"td")(4,"span",39),y(5),m()(),p(6,"td"),W(7,jz,1,2)(8,Uz,1,1)(9,Bz,1,0),m(),p(10,"td"),y(11),Hn(12,"date"),m(),p(13,"td")(14,"button",40),B("click",function(){let i=j(t).$implicit,o=x(3);return U(o.selectUser(i))}),y(15," View "),m(),p(16,"button",41),B("click",function(){let i=j(t).$implicit,o=x(3);return U(o.openDeleteConfirm(i.uid))}),y(17," Delete "),m()()()}if(n&2){let t=e.$implicit,r=x(3);w(2),H(t.email),w(2),J("ngClass",r.getRoleBadgeClass(t.role)),w(),H(t.role),w(2),G(t.firstName&&t.lastName?7:t.company?8:9),w(4),H(to(12,5,t.createdAt,"short"))}}function Hz(n,e){if(n&1&&(p(0,"option",32),y(1),m()),n&2){let t=e.$implicit,r=x(3);J("value",t)("selected",r.pageSize()===t),w(),H(t)}}function zz(n,e){if(n&1){let t=se();p(0,"button",42),B("click",function(){let i=j(t).$index,o=x(3);return U(o.goToPage(i+1))}),y(1),m()}if(n&2){let t=e.$index,r=x(3);It("btn-primary",r.currentPage()===t+1)("btn-outline-primary",r.currentPage()!==t+1),w(),Ie(" ",t+1," ")}}function qz(n,e){if(n&1){let t=se();p(0,"div",26)(1,"table",27)(2,"thead",28)(3,"tr")(4,"th"),y(5,"Email"),m(),p(6,"th"),y(7,"Role"),m(),p(8,"th"),y(9,"Name/Company"),m(),p(10,"th"),y(11,"Created"),m(),p(12,"th"),y(13,"Actions"),m()()(),p(14,"tbody"),qe(15,$z,18,8,"tr",null,Nz),m()()(),p(17,"div",29)(18,"div")(19,"label",30),y(20,"Rows per page:"),m(),p(21,"select",31),B("change",function(i){j(t);let o=x(2);return U(o.changePageSize(i.target.value))}),qe(22,Hz,2,3,"option",32,Rl),m()(),p(24,"div",33)(25,"button",34),B("click",function(){j(t);let i=x(2);return U(i.previousPage())}),y(26," Previous "),m(),p(27,"div",35),qe(28,zz,2,5,"button",36,hi),m(),p(30,"button",37),B("click",function(){j(t);let i=x(2);return U(i.nextPage())}),y(31," Next "),m()(),p(32,"div")(33,"small",38),y(34),m()()()}if(n&2){let t=x(2);w(15),We(t.paginatedUsers()),w(7),We(t.pageSizeOptions),w(3),J("disabled",t.currentPage()===1),w(3),We(Nl(4,Pz).constructor(t.totalPages())),w(2),J("disabled",t.currentPage()===t.totalPages()),w(4),vn("Page ",t.currentPage()," of ",t.totalPages())}}function Wz(n,e){if(n&1&&W(0,Vz,3,1,"div",25)(1,qz,35,5),n&2){let t=x();G(t.paginatedUsers().length===0?0:1)}}function Gz(n,e){if(n&1&&(p(0,"div",50)(1,"label",51),y(2,"Name:"),m(),p(3,"p"),y(4),m()()),n&2){let t,r=x(2);w(4),vn("",(t=r.selectedUser())==null?null:t.firstName," ",(t=r.selectedUser())==null?null:t.lastName)}}function Jz(n,e){if(n&1&&(p(0,"div",50)(1,"label",51),y(2,"Company:"),m(),p(3,"p"),y(4),m()()),n&2){let t,r=x(2);w(4),H((t=r.selectedUser())==null?null:t.company)}}function Kz(n,e){if(n&1&&(p(0,"div",50)(1,"label",51),y(2,"Saved Jobs:"),m(),p(3,"p"),y(4),m()()),n&2){let t=x(2);w(4),Ie("",t.selectedUser().savedJobs.length," jobs saved")}}function Qz(n,e){if(n&1){let t=se();p(0,"div",43),B("click",function(){j(t);let i=x();return U(i.closeModal())}),m(),p(1,"div",44)(2,"div",45)(3,"div",46)(4,"h5",47),y(5,"User Details"),m(),p(6,"button",48),B("click",function(){j(t);let i=x();return U(i.closeModal())}),m()(),p(7,"div",49)(8,"div",50)(9,"label",51),y(10,"Email:"),m(),p(11,"p"),y(12),m()(),p(13,"div",50)(14,"label",51),y(15,"Role:"),m(),p(16,"p")(17,"span",39),y(18),m()()(),W(19,Gz,5,2,"div",50),W(20,Jz,5,1,"div",50),p(21,"div",50)(22,"label",51),y(23,"User ID:"),m(),p(24,"p",52),y(25),m()(),p(26,"div",50)(27,"label",51),y(28,"Created:"),m(),p(29,"p"),y(30),Hn(31,"date"),m()(),W(32,Kz,5,1,"div",50),m(),p(33,"div",53)(34,"button",20),B("click",function(){j(t);let i=x();return U(i.openDeleteConfirm(i.selectedUser().uid))}),y(35," Delete User "),m(),p(36,"button",54),B("click",function(){j(t);let i=x();return U(i.closeModal())}),y(37,"Close"),m()()()()}if(n&2){let t,r,i,o,s,a,l,u=x();w(12),H((t=u.selectedUser())==null?null:t.email),w(5),J("ngClass",u.getRoleBadgeClass(u.selectedUser().role)),w(),Ie(" ",(r=u.selectedUser())==null?null:r.role," "),w(),G((i=u.selectedUser())!=null&&i.firstName&&((i=u.selectedUser())!=null&&i.lastName)?19:-1),w(),G((o=u.selectedUser())!=null&&o.company?20:-1),w(5),H((s=u.selectedUser())==null?null:s.uid),w(5),H(to(31,8,(a=u.selectedUser())==null?null:a.createdAt,"medium")),w(2),G((l=u.selectedUser())!=null&&l.savedJobs&&u.selectedUser().savedJobs.length>0?32:-1)}}function Yz(n,e){if(n&1){let t=se();p(0,"div",43),B("click",function(){j(t);let i=x();return U(i.closeDeleteConfirm())}),m(),p(1,"div",44)(2,"div",45)(3,"h2"),y(4,"Confirm Deletion"),m(),p(5,"p"),y(6,"Are you sure you want to delete this user? This action cannot be undone."),m(),p(7,"div",53)(8,"button",54),B("click",function(){j(t);let i=x();return U(i.closeDeleteConfirm())}),y(9,"Cancel"),m(),p(10,"button",20),B("click",function(){j(t);let i=x();return U(i.confirmDelete())}),y(11," Delete "),m()()()()}}var fg=class n{firestore=P(fn);allUsers=ee([]);selectedUser=ee(null);loading=ee(!1);actionMessage=ee(null);searchEmail=ee("");searchRole=ee("");showDeleteConfirmModal=!1;userToDelete=null;currentPage=ee(1);pageSize=ee(10);pageSizeOptions=[5,10,25,50];filteredUsers=_n(()=>{let e=this.allUsers(),t=this.searchEmail().toLowerCase(),r=this.searchRole();return t&&(e=e.filter(i=>i.email.toLowerCase().includes(t))),r&&(e=e.filter(i=>i.role===r)),e});totalPages=_n(()=>Math.ceil(this.filteredUsers().length/this.pageSize()));paginatedUsers=_n(()=>{let e=this.filteredUsers(),t=(this.currentPage()-1)*this.pageSize(),r=t+this.pageSize();return e.slice(t,r)});ngOnInit(){return b(this,null,function*(){yield this.loadUsers()})}loadUsers(){return b(this,null,function*(){this.loading.set(!0);try{let e=Lt(this.firestore,"users"),r=(yield $t(e)).docs.map(i=>{let o=i.data();return te(V({uid:i.id},o),{createdAt:o.createdAt?.toDate?o.createdAt.toDate():o.createdAt})});this.allUsers.set(r),this.currentPage.set(1)}catch(e){console.error("Error loading users:",e),this.showMessage("error","Failed to load users")}finally{this.loading.set(!1)}})}resetFilters(){this.searchEmail.set(""),this.searchRole.set(""),this.currentPage.set(1)}selectUser(e){this.selectedUser.set(e),this.actionMessage.set(null)}closeModal(){this.selectedUser.set(null),this.actionMessage.set(null)}openDeleteConfirm(e){this.userToDelete=e,this.showDeleteConfirmModal=!0}closeDeleteConfirm(){this.showDeleteConfirmModal=!1,this.userToDelete=null}confirmDelete(){return b(this,null,function*(){if(this.userToDelete)try{yield $m(nt(this.firestore,"users",this.userToDelete)),yield this.loadUsers(),this.showMessage("success","User has been deleted"),this.closeDeleteConfirm(),this.closeModal()}catch(e){console.error("Error deleting user:",e),this.showMessage("error","Failed to delete user")}})}nextPage(){this.currentPage()<this.totalPages()&&this.currentPage.set(this.currentPage()+1)}previousPage(){this.currentPage()>1&&this.currentPage.set(this.currentPage()-1)}goToPage(e){e>=1&&e<=this.totalPages()&&this.currentPage.set(e)}changePageSize(e){this.pageSize.set(e),this.currentPage.set(1)}getRoleBadgeClass(e){switch(e){case"admin":return"bg-danger";case"employer":return"bg-primary";case"applicant":return"bg-success";default:return"bg-secondary"}}showMessage(e,t){this.actionMessage.set({type:e,text:t}),setTimeout(()=>this.actionMessage.set(null),3e3)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Ke({type:n,selectors:[["app-user-management"]],decls:34,vars:8,consts:[[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"badge","bg-dark"],[1,"alert",3,"alert-success","alert-danger"],[1,"mb-4"],[1,"row","justify-content-center"],[1,"col-lg-12"],[1,"row","g-2","align-items-center","search-bar-wrapper"],[1,"col-md-4"],[1,"input-icon-container"],[1,"fas","fa-envelope","input-icon"],["type","text","placeholder","Search by Email",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],[1,"fas","fa-user-tag","input-icon"],[1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","admin"],["value","employer"],["value","applicant"],[1,"col-md-2"],[1,"btn","btn-danger",3,"click"],[1,"text-center","py-5"],[1,"alert"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"alert","alert-info","text-center"],[1,"table-responsive"],[1,"table","table-hover"],[1,"table-dark"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"me-2"],[1,"form-select","d-inline-block",2,"width","auto",3,"change"],[3,"value","selected"],[1,"pagination","m-0"],[1,"btn","btn-outline-primary","me-1",3,"click","disabled"],["role","group",1,"btn-group"],["type","button",1,"btn",3,"btn-primary","btn-outline-primary"],[1,"btn","btn-outline-primary","ms-1",3,"click","disabled"],[1,"text-muted"],[1,"badge",3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-1",3,"click"],["title","Delete User",1,"btn","btn-sm","btn-outline-danger",3,"click"],["type","button",1,"btn",3,"click"],[1,"modal-backdrop",3,"click"],[1,"modal-container"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"fw-bold"],[1,"text-muted","small"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"]],template:function(t,r){t&1&&(p(0,"div",0)(1,"div",1)(2,"h2"),y(3,"User Management"),m(),p(4,"span",2),y(5),m()(),W(6,kz,2,5,"div",3),p(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),ne(13,"i",10),p(14,"input",11),be("ngModelChange",function(o){return Ee(r.searchEmail,o)||(r.searchEmail=o),o}),m()()(),p(15,"div",12)(16,"div",9),ne(17,"i",13),p(18,"select",14),be("ngModelChange",function(o){return Ee(r.searchRole,o)||(r.searchRole=o),o}),p(19,"option",15),y(20,"All Roles"),m(),p(21,"option",16),y(22,"Admin"),m(),p(23,"option",17),y(24,"Employer"),m(),p(25,"option",18),y(26,"Applicant"),m()()()(),p(27,"div",19)(28,"button",20),B("click",function(){return r.resetFilters()}),y(29," Reset Filters "),m()()()()()(),W(30,Oz,4,0,"div",21)(31,Wz,2,1),m(),W(32,Qz,38,11),W(33,Yz,12,0)),t&2&&(w(5),vn("",r.allUsers().length," Total Users | ",r.filteredUsers().length," Filtered"),w(),G(r.actionMessage()?6:-1),w(8),_e("ngModel",r.searchEmail),w(4),_e("ngModel",r.searchRole),w(12),G(r.loading()?30:31),w(2),G(r.selectedUser()?32:-1),w(),G(r.showDeleteConfirmModal?33:-1))},dependencies:[lt,gi,wn,Gr,Jr,tn,Wr,En,hn,Hl],styles:[".badge-meta[_ngcontent-%COMP%]{background-color:#051a49;color:#fff;padding:.5em .8em;font-weight:500;border-radius:4px;font-family:Poppins,sans-serif}.table[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;border-radius:12px;overflow:hidden}.table-dark[_ngcontent-%COMP%]{--bs-table-bg: #051a49;--bs-table-border-color: #051a49;color:#fff}.card[_ngcontent-%COMP%]{border:1px solid #e0e0e0;box-shadow:0 1px 3px #0000001a;border-radius:12px;font-family:Poppins,sans-serif}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600}.search-bar-wrapper[_ngcontent-%COMP%]{background-color:transparent;box-shadow:none;overflow:visible}.input-icon-container[_ngcontent-%COMP%]{position:relative;width:100%}.input-icon[_ngcontent-%COMP%]{position:absolute;left:30px;top:50%;transform:translateY(-50%);color:#64748b;font-size:1.1rem;z-index:2;margin-top:2px}.form-control[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:8px;background-color:#fff;box-shadow:0 1px 3px #0000000d;font-size:1rem;transition:background-color .3s,box-shadow .3s;font-family:Poppins,sans-serif}.input-icon-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:65px}.form-control[_ngcontent-%COMP%]:focus{outline:none;background-color:#fff;border:1px solid #3b82f6;box-shadow:none}.btn-outline-primary[_ngcontent-%COMP%]{--bs-btn-color: #3b82f6;--bs-btn-border-color: #3b82f6;--bs-btn-hover-color: #fff;--bs-btn-hover-bg: #3b82f6;--bs-btn-active-bg: #2563eb;--bs-btn-active-border-color: #2563eb}.btn-primary[_ngcontent-%COMP%]{--bs-btn-bg: #3b82f6;--bs-btn-border-color: #3b82f6}.btn-danger[_ngcontent-%COMP%]{--bs-btn-bg: #dc3545;--bs-btn-border-color: #dc3545;--bs-btn-hover-bg: #c82333;--bs-btn-hover-border-color: #c82333;color:#fff;padding:10px 16px;font-size:1rem}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1040}.modal-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1050;width:100%;max-width:600px;padding:20px}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 40px #0003;overflow:hidden;font-family:Poppins,sans-serif}.modal-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center}.modal-title[_ngcontent-%COMP%]{margin:0;font-weight:600}.modal-body[_ngcontent-%COMP%]{padding:20px;max-height:400px;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:20px;border-top:1px solid #e0e0e0;display:flex;gap:10px;justify-content:flex-end}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;opacity:.5}.btn-close[_ngcontent-%COMP%]:hover{opacity:1}.pagination[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:4px}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:first-child){margin-left:-1px}h2[_ngcontent-%COMP%]{font-family:Poppins;font-weight:700}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;border-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268;border-color:#5a6268}"]})};var DI=()=>b(null,null,function*(){let n=P(ze),e=P(it);return yield n.waitForAuthState(),n.isLoggedIn()?n.isEmployer()||n.isAdmin()?!0:(e.navigate(["/"]),!1):(e.navigate(["/login"]),!1)}),TI=()=>b(null,null,function*(){let n=P(ze),e=P(it);return yield n.waitForAuthState(),n.isLoggedIn()?n.isAdmin()?!0:(e.navigate(["/"]),!1):(e.navigate(["/login"]),!1)});var hg=()=>b(null,null,function*(){let n=P(ze),e=P(it);return yield n.waitForAuthState(),n.isLoggedIn()?!0:(e.navigate(["/login"]),!1)});var ok=[{path:"",component:lg},{path:"job-list",component:rg},{path:"create-job",component:ig,canActivate:[DI]},{path:"employer-jobs",component:ug,canActivate:[DI]},{path:"login",component:og},{path:"admin",component:sg,canActivate:[TI]},{path:"user-management",component:fg,canActivate:[TI]},{path:"saved-jobs",component:ag,canActivate:[hg]},{path:"applied-jobs",component:cg,canActivate:[hg]},{path:"profile",component:dg,canActivate:[hg]}];var sk={production:!1,firebase:{apiKey:"AIzaSyBDpWMfxyFMiJG5F1i-YddxaL8SYyFyA1A",authDomain:"community-appdev.firebaseapp.com",projectId:"community-appdev",storageBucket:"community-appdev.firebasestorage.app",messagingSenderId:"903859173134",appId:"1:903859173134:web:03b539ce71d1f532de095f",measurementId:"G-F6S948FX0K"}};var ak={providers:[cv(),R_({eventCoalescing:!0}),S0(ok),P1(()=>N1(sk.firebase)),VM(()=>{let n=jM();return Lp(n,Vp).catch(e=>{console.error("Error setting auth persistence:",e)}),n}),AN(()=>MN())]};X_(zm,ak).catch(n=>console.error(n));
