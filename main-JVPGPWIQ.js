var JO=Object.defineProperty,KO=Object.defineProperties;var QO=Object.getOwnPropertyDescriptors;var dD=Object.getOwnPropertySymbols,YO=Object.getPrototypeOf,ZO=Object.prototype.hasOwnProperty,XO=Object.prototype.propertyIsEnumerable,eF=Reflect.get;var hD=(n,e,t)=>e in n?JO(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,j=(n,e)=>{for(var t in e||={})ZO.call(e,t)&&hD(n,t,e[t]);if(dD)for(var t of dD(e))XO.call(e,t)&&hD(n,t,e[t]);return n},ne=(n,e)=>KO(n,QO(e));var Bi=(n,e,t)=>eF(YO(n),t,e);var b=(n,e,t)=>new Promise((r,i)=>{var o=l=>{try{a(t.next(l))}catch(u){i(u)}},s=l=>{try{a(t.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((t=t.apply(n,e)).next())});var Qg;function Pd(){return Qg}function Er(n){let e=Qg;return Qg=n,e}var fD=Symbol("NotFound");function Xs(n){return n===fD||n?.name==="\u0275NotFound"}var Gt=null,Nd=!1,Yg=1,tF=null,Jt=Symbol("SIGNAL");function fe(n){let e=Gt;return Gt=n,e}function Ld(){return Gt}var ea={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ta(n){if(Nd)throw new Error("");if(Gt===null)return;Gt.consumerOnSignalRead(n);let e=Gt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=Gt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:Gt.producers,t!==void 0&&t.producer===n)){Gt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===Gt&&(!r||rF(i,Gt)))return;let o=ra(Gt),s={producer:n,consumer:Gt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};Gt.producersTail=s,e!==void 0?e.nextProducer=s:Gt.producers=s,o&&yD(n,s)}function pD(){Yg++}function Vd(n){if(!(ra(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Yg)){if(!n.producerMustRecompute(n)&&!nl(n)){Fd(n);return}n.producerRecomputeValue(n),Fd(n)}}function Zg(n){if(n.consumers===void 0)return;let e=Nd;Nd=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||nF(r)}}finally{Nd=e}}function Xg(){return Gt?.consumerAllowSignalWrites!==!1}function nF(n){n.dirty=!0,Zg(n),n.consumerMarkedDirty?.(n)}function Fd(n){n.dirty=!1,n.lastCleanEpoch=Yg}function na(n){return n&&mD(n),fe(n)}function mD(n){n.producersTail=void 0,n.recomputing=!0}function tl(n,e){fe(e),n&&gD(n)}function gD(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(ra(n))do t=ey(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function nl(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(Vd(t),r!==t.version))return!0}return!1}function rl(n){if(ra(n)){let e=n.producers;for(;e!==void 0;)e=ey(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function yD(n,e){let t=n.consumersTail,r=ra(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)yD(i.producer,i)}function ey(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ra(e)){let o=e.producers;for(;o!==void 0;)o=ey(o)}return t}function ra(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function jd(n){tF?.(n)}function rF(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ud(n,e){return Object.is(n,e)}function Bd(n,e){let t=Object.create(iF);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Vd(t),ta(t),t.value===el)throw t.error;return t.value};return r[Jt]=t,jd(t),r}var kd=Symbol("UNSET"),Od=Symbol("COMPUTING"),el=Symbol("ERRORED"),iF=ne(j({},ea),{value:kd,dirty:!0,error:null,equal:Ud,kind:"computed",producerMustRecompute(n){return n.value===kd||n.value===Od},producerRecomputeValue(n){if(n.value===Od)throw new Error("");let e=n.value;n.value=Od;let t=na(n),r,i=!1;try{r=n.computation(),fe(null),i=e!==kd&&e!==el&&r!==el&&n.equal(e,r)}catch(o){r=el,n.error=o}finally{tl(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function oF(){throw new Error}var vD=oF;function _D(n){vD(n)}function ty(n){vD=n}var sF=null;function ny(n,e){let t=Object.create($d);t.value=n,e!==void 0&&(t.equal=e);let r=()=>bD(t);return r[Jt]=t,jd(t),[r,s=>ia(t,s),s=>ry(t,s)]}function bD(n){return ta(n),n.value}function ia(n,e){Xg()||_D(n),n.equal(n.value,e)||(n.value=e,aF(n))}function ry(n,e){Xg()||_D(n),ia(n,e(n.value))}var $d=ne(j({},ea),{equal:Ud,value:void 0,kind:"signal"});function aF(n){n.version++,pD(),Zg(n),sF?.(n)}function be(n){return typeof n=="function"}function oa(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Hd=oa(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function zo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var ot=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(be(r))try{r()}catch(o){e=o instanceof Hd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{ED(o)}catch(s){e=e??[],s instanceof Hd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Hd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ED(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&zo(t,e)}remove(e){let{_finalizers:t}=this;t&&zo(t,e),e instanceof n&&e._removeParent(this)}};ot.EMPTY=(()=>{let n=new ot;return n.closed=!0,n})();var iy=ot.EMPTY;function zd(n){return n instanceof ot||n&&"closed"in n&&be(n.remove)&&be(n.add)&&be(n.unsubscribe)}function ED(n){be(n)?n():n.unsubscribe()}var Qn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var sa={setTimeout(n,e,...t){let{delegate:r}=sa;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=sa;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function qd(n){sa.setTimeout(()=>{let{onUnhandledError:e}=Qn;if(e)e(n);else throw n})}function il(){}var wD=oy("C",void 0,void 0);function ID(n){return oy("E",void 0,n)}function CD(n){return oy("N",n,void 0)}function oy(n,e,t){return{kind:n,value:e,error:t}}var qo=null;function aa(n){if(Qn.useDeprecatedSynchronousErrorHandling){let e=!qo;if(e&&(qo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=qo;if(qo=null,t)throw r}}else n()}function DD(n){Qn.useDeprecatedSynchronousErrorHandling&&qo&&(qo.errorThrown=!0,qo.error=n)}var Wo=class extends ot{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,zd(e)&&e.add(this)):this.destination=uF}static create(e,t,r){return new ca(e,t,r)}next(e){this.isStopped?ay(CD(e),this):this._next(e)}error(e){this.isStopped?ay(ID(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ay(wD,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},cF=Function.prototype.bind;function sy(n,e){return cF.call(n,e)}var cy=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Wd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Wd(r)}else Wd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Wd(t)}}},ca=class extends Wo{constructor(e,t,r){super();let i;if(be(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Qn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&sy(e.next,o),error:e.error&&sy(e.error,o),complete:e.complete&&sy(e.complete,o)}):i=e}this.destination=new cy(i)}};function Wd(n){Qn.useDeprecatedSynchronousErrorHandling?DD(n):qd(n)}function lF(n){throw n}function ay(n,e){let{onStoppedNotification:t}=Qn;t&&sa.setTimeout(()=>t(n,e))}var uF={closed:!0,next:il,error:lF,complete:il};var la=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wn(n){return n}function ly(...n){return uy(n)}function uy(n){return n.length===0?wn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Ie=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=hF(t)?t:new ca(t,r,i);return aa(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=TD(r),new r((i,o)=>{let s=new ca({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[la](){return this}pipe(...t){return uy(t)(this)}toPromise(t){return t=TD(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function TD(n){var e;return(e=n??Qn.Promise)!==null&&e!==void 0?e:Promise}function dF(n){return n&&be(n.next)&&be(n.error)&&be(n.complete)}function hF(n){return n&&n instanceof Wo||dF(n)&&zd(n)}function dy(n){return be(n?.lift)}function Re(n){return e=>{if(dy(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ae(n,e,t,r,i){return new hy(n,e,t,r,i)}var hy=class extends Wo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ua(){return Re((n,e)=>{let t=null;n._refCount++;let r=Ae(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var da=class extends Ie{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,dy(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ot;let t=this.getSubject();e.add(this.source.subscribe(Ae(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ot.EMPTY)}return e}refCount(){return ua()(this)}};var SD=oa(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ft=(()=>{class n extends Ie{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Gd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new SD}next(t){aa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){aa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){aa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?iy:(this.currentObservers=null,o.push(t),new ot(()=>{this.currentObservers=null,zo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Ie;return t.source=this,t}}return n.create=(e,t)=>new Gd(e,t),n})(),Gd=class extends ft{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:iy}};var jt=class extends ft{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var fy={now(){return(fy.delegate||Date).now()},delegate:void 0};var Jd=class extends ot{constructor(e,t){super()}schedule(e,t=0){return this}};var ol={setInterval(n,e,...t){let{delegate:r}=ol;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=ol;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ha=class extends Jd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return ol.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&ol.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,zo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var fa=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};fa.now=fy.now;var pa=class extends fa{constructor(e,t=fa.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var py=new pa(ha);var Kd=class extends ha{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Qd=class extends pa{};var my=new Qd(Kd);var hn=new Ie(n=>n.complete());function AD(n){return n&&be(n.schedule)}function xD(n){return n[n.length-1]}function Yd(n){return be(xD(n))?n.pop():void 0}function $i(n){return AD(xD(n))?n.pop():void 0}function gy(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function RD(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(g){s(g)}}function l(h){try{u(r.throw(h))}catch(g){s(g)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(n,e||[])).next())})}function MD(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Go(n){return this instanceof Go?(this.v=n,this):new Go(n)}function PD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(w){return function(x){return Promise.resolve(x).then(w,g)}}function a(w,x){r[w]&&(i[w]=function(F){return new Promise(function(O,W){o.push([w,F,O,W])>1||l(w,F)})},x&&(i[w]=x(i[w])))}function l(w,x){try{u(r[w](x))}catch(F){v(o[0][3],F)}}function u(w){w.value instanceof Go?Promise.resolve(w.value.v).then(h,g):v(o[0][2],w)}function h(w){l("next",w)}function g(w){l("throw",w)}function v(w,x){w(x),o.shift(),o.length&&l(o[0][0],o[0][1])}}function ND(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof MD=="function"?MD(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){s=n[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var Zd=n=>n&&typeof n.length=="number"&&typeof n!="function";function Xd(n){return be(n?.then)}function eh(n){return be(n[la])}function th(n){return Symbol.asyncIterator&&be(n?.[Symbol.asyncIterator])}function nh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function fF(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var rh=fF();function ih(n){return be(n?.[rh])}function oh(n){return PD(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Go(t.read());if(i)return yield Go(void 0);yield yield Go(r)}}finally{t.releaseLock()}})}function sh(n){return be(n?.getReader)}function bt(n){if(n instanceof Ie)return n;if(n!=null){if(eh(n))return pF(n);if(Zd(n))return mF(n);if(Xd(n))return gF(n);if(th(n))return kD(n);if(ih(n))return yF(n);if(sh(n))return vF(n)}throw nh(n)}function pF(n){return new Ie(e=>{let t=n[la]();if(be(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function mF(n){return new Ie(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function gF(n){return new Ie(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,qd)})}function yF(n){return new Ie(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function kD(n){return new Ie(e=>{_F(n,e).catch(t=>e.error(t))})}function vF(n){return kD(oh(n))}function _F(n,e){var t,r,i,o;return RD(this,void 0,void 0,function*(){try{for(t=ND(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function fn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Hi(n,e=0){return Re((t,r)=>{t.subscribe(Ae(r,i=>fn(r,n,()=>r.next(i),e),()=>fn(r,n,()=>r.complete(),e),i=>fn(r,n,()=>r.error(i),e)))})}function zi(n,e=0){return Re((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function OD(n,e){return bt(n).pipe(zi(e),Hi(e))}function FD(n,e){return bt(n).pipe(zi(e),Hi(e))}function LD(n,e){return new Ie(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function VD(n,e){return new Ie(t=>{let r;return fn(t,e,()=>{r=n[rh](),fn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>be(r?.return)&&r.return()})}function ah(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ie(t=>{fn(t,e,()=>{let r=n[Symbol.asyncIterator]();fn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function jD(n,e){return ah(oh(n),e)}function UD(n,e){if(n!=null){if(eh(n))return OD(n,e);if(Zd(n))return LD(n,e);if(Xd(n))return FD(n,e);if(th(n))return ah(n,e);if(ih(n))return VD(n,e);if(sh(n))return jD(n,e)}throw nh(n)}function Ke(n,e){return e?UD(n,e):bt(n)}function ae(...n){let e=$i(n);return Ke(n,e)}function ma(n,e){let t=be(n)?n:()=>n,r=i=>i.error(t());return new Ie(e?i=>e.schedule(r,0,i):r)}function yy(n){return!!n&&(n instanceof Ie||be(n.lift)&&be(n.subscribe))}var ti=oa(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function xe(n,e){return Re((t,r)=>{let i=0;t.subscribe(Ae(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:bF}=Array;function EF(n,e){return bF(e)?n(...e):n(e)}function ch(n){return xe(e=>EF(n,e))}var{isArray:wF}=Array,{getPrototypeOf:IF,prototype:CF,keys:DF}=Object;function lh(n){if(n.length===1){let e=n[0];if(wF(e))return{args:e,keys:null};if(TF(e)){let t=DF(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function TF(n){return n&&typeof n=="object"&&IF(n)===CF}function uh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function sl(...n){let e=$i(n),t=Yd(n),{args:r,keys:i}=lh(n);if(r.length===0)return Ke([],e);let o=new Ie(SF(r,e,i?s=>uh(i,s):wn));return t?o.pipe(ch(t)):o}function SF(n,e,t=wn){return r=>{BD(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)BD(e,()=>{let u=Ke(n[l],e),h=!1;u.subscribe(Ae(r,g=>{o[l]=g,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function BD(n,e,t){n?fn(t,n,e):e()}function $D(n,e,t,r,i,o,s,a){let l=[],u=0,h=0,g=!1,v=()=>{g&&!l.length&&!u&&e.complete()},w=F=>u<r?x(F):l.push(F),x=F=>{o&&e.next(F),u++;let O=!1;bt(t(F,h++)).subscribe(Ae(e,W=>{i?.(W),o?w(W):e.next(W)},()=>{O=!0},void 0,()=>{if(O)try{for(u--;l.length&&u<r;){let W=l.shift();s?fn(e,s,()=>x(W)):x(W)}v()}catch(W){e.error(W)}}))};return n.subscribe(Ae(e,w,()=>{g=!0,v()})),()=>{a?.()}}function pt(n,e,t=1/0){return be(e)?pt((r,i)=>xe((o,s)=>e(r,o,i,s))(bt(n(r,i))),t):(typeof e=="number"&&(t=e),Re((r,i)=>$D(r,i,n,t)))}function qi(n=1/0){return pt(wn,n)}function HD(){return qi(1)}function ga(...n){return HD()(Ke(n,$i(n)))}function al(n){return new Ie(e=>{bt(n()).subscribe(e)})}function vy(...n){let e=Yd(n),{args:t,keys:r}=lh(n),i=new Ie(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let h=0;h<s;h++){let g=!1;bt(t[h]).subscribe(Ae(o,v=>{g||(g=!0,u--),a[h]=v},()=>l--,void 0,()=>{(!l||!g)&&(u||o.next(r?uh(r,a):a),o.complete())}))}});return e?i.pipe(ch(e)):i}function pn(n,e){return Re((t,r)=>{let i=0;t.subscribe(Ae(r,o=>n.call(e,o,i++)&&r.next(o)))})}function ni(n){return Re((e,t)=>{let r=null,i=!1,o;r=e.subscribe(Ae(t,void 0,void 0,s=>{o=bt(n(s,ni(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function zD(n,e,t,r,i){return(o,s)=>{let a=t,l=e,u=0;o.subscribe(Ae(s,h=>{let g=u++;l=a?n(l,h,g):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Wi(n,e){return be(e)?pt(n,e,1):pt(n,1)}function Gi(n){return Re((e,t)=>{let r=!1;e.subscribe(Ae(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ri(n){return n<=0?()=>hn:Re((e,t)=>{let r=0;e.subscribe(Ae(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function dh(n=AF){return Re((e,t)=>{let r=!1;e.subscribe(Ae(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function AF(){return new ti}function cl(n){return Re((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ii(n,e){let t=arguments.length>=2;return r=>r.pipe(n?pn((i,o)=>n(i,o,r)):wn,ri(1),t?Gi(e):dh(()=>new ti))}function ya(n){return n<=0?()=>hn:Re((e,t)=>{let r=[];e.subscribe(Ae(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function _y(n,e){let t=arguments.length>=2;return r=>r.pipe(n?pn((i,o)=>n(i,o,r)):wn,ya(1),t?Gi(e):dh(()=>new ti))}function by(n,e){return Re(zD(n,e,arguments.length>=2,!0))}function Ey(...n){let e=$i(n);return Re((t,r)=>{(e?ga(n,t,e):ga(n,t)).subscribe(r)})}function rn(n,e){return Re((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(Ae(r,l=>{i?.unsubscribe();let u=0,h=o++;bt(n(l,h)).subscribe(i=Ae(r,g=>r.next(e?e(l,g,h,u++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function hh(n){return Re((e,t)=>{bt(n).subscribe(Ae(t,()=>t.complete(),il)),!t.closed&&e.subscribe(t)})}function Rt(n,e,t){let r=be(n)||e||t?{next:n,error:e,complete:t}:n;return r?Re((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ae(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):wn}function qD(n){let e=fe(null);try{return n()}finally{fe(e)}}var Ji=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},ky=new Ji("20.3.13");var gh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",Q=class extends Error{code;constructor(e,t){super(Yi(e,t)),this.code=e}};function xF(n){return`NG0${Math.abs(n)}`}function Yi(n,e){return`${xF(n)}${e?": "+e:""}`}var Zn=globalThis;function Fe(n){for(let e in n)if(n[e]===Fe)return e;throw Error("")}function JD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function si(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(si).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Oy(n,e){return n?e?`${n} ${e}`:n:e||""}var MF=Fe({__forward_ref__:Fe});function Xn(n){return n.__forward_ref__=Xn,n.toString=function(){return si(this())},n}function Ut(n){return Fy(n)?n():n}function Fy(n){return typeof n=="function"&&n.hasOwnProperty(MF)&&n.__forward_ref__===Xn}function X(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function er(n){return{providers:n.providers||[],imports:n.imports||[]}}function hl(n){return RF(n,yh)}function Ly(n){return hl(n)!==null}function RF(n,e){return n.hasOwnProperty(e)&&n[e]||null}function PF(n){let e=n?.[yh]??null;return e||null}function Iy(n){return n&&n.hasOwnProperty(ph)?n[ph]:null}var yh=Fe({\u0275prov:Fe}),ph=Fe({\u0275inj:Fe}),Z=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=X({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Vy(n){return n&&!!n.\u0275providers}var jy=Fe({\u0275cmp:Fe}),Uy=Fe({\u0275dir:Fe}),By=Fe({\u0275pipe:Fe}),$y=Fe({\u0275mod:Fe}),ul=Fe({\u0275fac:Fe}),Zo=Fe({__NG_ELEMENT_ID__:Fe}),WD=Fe({__NG_ENV_ID__:Fe});function Zi(n){return typeof n=="string"?n:n==null?"":String(n)}function KD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Zi(n)}var QD=Fe({ngErrorCode:Fe}),NF=Fe({ngErrorMessage:Fe}),kF=Fe({ngTokenPath:Fe});function Hy(n,e){return YD("",-200,e)}function vh(n,e){throw new Q(-201,!1)}function YD(n,e,t){let r=new Q(e,n);return r[QD]=e,r[NF]=n,t&&(r[kF]=t),r}function OF(n){return n[QD]}var Cy;function ZD(){return Cy}function on(n){let e=Cy;return Cy=n,e}function zy(n,e,t){let r=hl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;vh(n,"Injector")}var FF={},Jo=FF,Dy="__NG_DI_FLAG__",Ty=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Ko(t)||0;try{return this.injector.get(e,r&8?null:Jo,r)}catch(i){if(Xs(i))return i;throw i}}};function LF(n,e=0){let t=Pd();if(t===void 0)throw new Q(-203,!1);if(t===null)return zy(n,void 0,e);{let r=VF(e),i=t.retrieve(n,r);if(Xs(i)){if(r.optional)return null;throw i}return i}}function de(n,e=0){return(ZD()||LF)(Ut(n),e)}function P(n,e){return de(n,Ko(e))}function Ko(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function VF(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function Sy(n){let e=[];for(let t=0;t<n.length;t++){let r=Ut(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],l=jF(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(de(i,o))}else e.push(de(r))}return e}function XD(n,e){return n[Dy]=e,n.prototype[Dy]=e,n}function jF(n){return n[Dy]}function Ki(n,e){let t=n.hasOwnProperty(ul);return t?n[ul]:null}function eT(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function tT(n){return n.flat(Number.POSITIVE_INFINITY)}function _h(n,e){n.forEach(t=>Array.isArray(t)?_h(t,e):e(t))}function qy(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function fl(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function nT(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function rT(n,e,t){let r=_a(n,e);return r>=0?n[r|1]=t:(r=~r,nT(n,r,e,t)),r}function bh(n,e){let t=_a(n,e);if(t>=0)return n[t|1]}function _a(n,e){return UF(n,e,1)}function UF(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Xi={},In=[],ci=new Z(""),Wy=new Z("",-1),Gy=new Z(""),dl=class{get(e,t=Jo){if(t===Jo){let i=YD("",-201);throw i.name="\u0275NotFound",i}return t}};function Jy(n){return n[$y]||null}function li(n){return n[jy]||null}function Ky(n){return n[Uy]||null}function iT(n){return n[By]||null}function mn(n){return{\u0275providers:n}}function oT(n){return mn([{provide:ci,multi:!0,useValue:n}])}function sT(...n){return{\u0275providers:Qy(!0,n),\u0275fromNgModule:!0}}function Qy(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return _h(e,s=>{let a=s;mh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&aT(i,o),t}function aT(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Yy(i,o=>{e(o,r)})}}function mh(n,e,t,r){if(n=Ut(n),!n)return!1;let i=null,o=Iy(n),s=!o&&li(n);if(!o&&!s){let l=n.ngModule;if(o=Iy(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)mh(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{_h(o.imports,h=>{mh(h,e,t,r)&&(u||=[],u.push(h))})}finally{}u!==void 0&&aT(u,e)}if(!a){let u=Ki(i)||(()=>new i);e({provide:i,useFactory:u,deps:In},i),e({provide:Gy,useValue:i,multi:!0},i),e({provide:ci,useValue:()=>de(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=n;Yy(l,h=>{e(h,u)})}}else return!1;return i!==n&&n.providers!==void 0}function Yy(n,e){for(let t of n)Vy(t)&&(t=t.\u0275providers),Array.isArray(t)?Yy(t,e):e(t)}var BF=Fe({provide:String,useValue:Fe});function cT(n){return n!==null&&typeof n=="object"&&BF in n}function $F(n){return!!(n&&n.useExisting)}function HF(n){return!!(n&&n.useFactory)}function Qo(n){return typeof n=="function"}function lT(n){return!!n.useClass}var pl=new Z(""),fh={},GD={},wy;function ml(){return wy===void 0&&(wy=new dl),wy}var mt=class{},Yo=class extends mt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,xy(e,s=>this.processProvider(s)),this.records.set(Wy,va(void 0,this)),i.has("environment")&&this.records.set(mt,va(void 0,this));let o=this.records.get(pl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Gy,In,{self:!0}))}retrieve(e,t){let r=Ko(t)||0;try{return this.get(e,Jo,r)}catch(i){if(Xs(i))return i;throw i}}destroy(){ll(this),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return ll(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){ll(this);let t=Er(this),r=on(void 0),i;try{return e()}finally{Er(t),on(r)}}get(e,t=Jo,r){if(ll(this),e.hasOwnProperty(WD))return e[WD](this);let i=Ko(r),o,s=Er(this),a=on(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let h=JF(e)&&hl(e);h&&this.injectableDefInScope(h)?u=va(Ay(e),fh):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let l=i&2?ml():this.parent;return t=i&8&&t===Jo?null:t,l.get(e,t)}catch(l){let u=OF(l);throw u===-200||u===-201?new Q(u,null):l}finally{on(a),Er(s)}}resolveInjectorInitializers(){let e=fe(null),t=Er(this),r=on(void 0),i;try{let o=this.get(ci,In,{self:!0});for(let s of o)s()}finally{Er(t),on(r),fe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(si(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Ut(e);let t=Qo(e)?e:Ut(e&&e.provide),r=qF(e);if(!Qo(e)&&e.multi===!0){let i=this.records.get(t);i||(i=va(void 0,fh,!0),i.factory=()=>Sy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=fe(null);try{if(t.value===GD)throw Hy(si(e));return t.value===fh&&(t.value=GD,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&GF(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{fe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ut(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Ay(n){let e=hl(n),t=e!==null?e.factory:Ki(n);if(t!==null)return t;if(n instanceof Z)throw new Q(204,!1);if(n instanceof Function)return zF(n);throw new Q(204,!1)}function zF(n){if(n.length>0)throw new Q(204,!1);let t=PF(n);return t!==null?()=>t.factory(n):()=>new n}function qF(n){if(cT(n))return va(void 0,n.useValue);{let e=Zy(n);return va(e,fh)}}function Zy(n,e,t){let r;if(Qo(n)){let i=Ut(n);return Ki(i)||Ay(i)}else if(cT(n))r=()=>Ut(n.useValue);else if(HF(n))r=()=>n.useFactory(...Sy(n.deps||[]));else if($F(n))r=(i,o)=>de(Ut(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=Ut(n&&(n.useClass||n.provide));if(WF(n))r=()=>new i(...Sy(n.deps));else return Ki(i)||Ay(i)}return r}function ll(n){if(n.destroyed)throw new Q(205,!1)}function va(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function WF(n){return!!n.deps}function GF(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function JF(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function xy(n,e){for(let t of n)Array.isArray(t)?xy(t,e):t&&Vy(t)?xy(t.\u0275providers,e):e(t)}function Et(n,e){let t;n instanceof Yo?(ll(n),t=n):t=new Ty(n);let r,i=Er(t),o=on(void 0);try{return e()}finally{Er(i),on(o)}}function uT(){return ZD()!==void 0||Pd()!=null}var tr=0,ce=1,pe=2,At=3,On=4,Fn=5,ba=6,Ea=7,gt=8,ui=9,wr=10,nt=11,wa=12,Xy=13,Xo=14,Cn=15,eo=16,es=17,Ir=18,gl=19,ev=20,oi=21,Eh=22,yl=23,Dn=24,ts=25,ns=26,wt=27,dT=1,tv=6,to=7,vl=8,rs=9,at=10;function Cr(n){return Array.isArray(n)&&typeof n[dT]=="object"}function nr(n){return Array.isArray(n)&&n[dT]===!0}function nv(n){return(n.flags&4)!==0}function no(n){return n.componentOffset>-1}function _l(n){return(n.flags&1)===1}function Dr(n){return!!n.template}function Ia(n){return(n[pe]&512)!==0}function is(n){return(n[pe]&256)===256}var hT="svg",fT="math";function Ln(n){for(;Array.isArray(n);)n=n[tr];return n}function rv(n,e){return Ln(e[n])}function rr(n,e){return Ln(e[n.index])}function bl(n,e){return n.data[e]}function iv(n,e){return n[e]}function ov(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function Vn(n,e){let t=e[n];return Cr(t)?t:t[tr]}function pT(n){return(n[pe]&4)===4}function wh(n){return(n[pe]&128)===128}function mT(n){return nr(n[At])}function Tr(n,e){return e==null?null:n[e]}function sv(n){n[es]=0}function av(n){n[pe]&1024||(n[pe]|=1024,wh(n)&&Ca(n))}function gT(n,e){for(;n>0;)e=e[Xo],n--;return e}function El(n){return!!(n[pe]&9216||n[Dn]?.dirty)}function Ih(n){n[wr].changeDetectionScheduler?.notify(8),n[pe]&64&&(n[pe]|=1024),El(n)&&Ca(n)}function Ca(n){n[wr].changeDetectionScheduler?.notify(0);let e=Qi(n);for(;e!==null&&!(e[pe]&8192||(e[pe]|=8192,!wh(e)));)e=Qi(e)}function cv(n,e){if(is(n))throw new Q(911,!1);n[oi]===null&&(n[oi]=[]),n[oi].push(e)}function yT(n,e){if(n[oi]===null)return;let t=n[oi].indexOf(e);t!==-1&&n[oi].splice(t,1)}function Qi(n){let e=n[At];return nr(e)?e[At]:e}function lv(n){return n[Ea]??=[]}function uv(n){return n.cleanup??=[]}function vT(n,e,t,r){let i=lv(e);i.push(t),n.firstCreatePass&&uv(n).push(r,i.length-1)}var Ce={lFrame:kT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var My=!1;function _T(){return Ce.lFrame.elementDepthCount}function bT(){Ce.lFrame.elementDepthCount++}function ET(){Ce.lFrame.elementDepthCount--}function dv(){return Ce.bindingsEnabled}function wT(){return Ce.skipHydrationRootTNode!==null}function IT(n){return Ce.skipHydrationRootTNode===n}function CT(){Ce.skipHydrationRootTNode=null}function me(){return Ce.lFrame.lView}function xt(){return Ce.lFrame.tView}function U(n){return Ce.lFrame.contextLView=n,n[gt]}function B(n){return Ce.lFrame.contextLView=null,n}function Bt(){let n=hv();for(;n!==null&&n.type===64;)n=n.parent;return n}function hv(){return Ce.lFrame.currentTNode}function DT(){let n=Ce.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Da(n,e){let t=Ce.lFrame;t.currentTNode=n,t.isParent=e}function fv(){return Ce.lFrame.isParent}function TT(){Ce.lFrame.isParent=!1}function pv(){return My}function mv(n){let e=My;return My=n,e}function Ta(){let n=Ce.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function ST(){return Ce.lFrame.bindingIndex}function AT(n){return Ce.lFrame.bindingIndex=n}function os(){return Ce.lFrame.bindingIndex++}function gv(n){let e=Ce.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function xT(){return Ce.lFrame.inI18n}function MT(n,e){let t=Ce.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ch(e)}function RT(){return Ce.lFrame.currentDirectiveIndex}function Ch(n){Ce.lFrame.currentDirectiveIndex=n}function PT(n){let e=Ce.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function yv(){return Ce.lFrame.currentQueryIndex}function Dh(n){Ce.lFrame.currentQueryIndex=n}function KF(n){let e=n[ce];return e.type===2?e.declTNode:e.type===1?n[Fn]:null}function vv(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=KF(o),i===null||(o=o[Xo],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=Ce.lFrame=NT();return r.currentTNode=e,r.lView=n,!0}function Th(n){let e=NT(),t=n[ce];Ce.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function NT(){let n=Ce.lFrame,e=n===null?null:n.child;return e===null?kT(n):e}function kT(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function OT(){let n=Ce.lFrame;return Ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var _v=OT;function Sh(){let n=OT();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function FT(n){return(Ce.lFrame.contextLView=gT(n,Ce.lFrame.contextLView))[gt]}function di(){return Ce.lFrame.selectedIndex}function ro(n){Ce.lFrame.selectedIndex=n}function Ah(){let n=Ce.lFrame;return bl(n.tView,n.selectedIndex)}function LT(){return Ce.lFrame.currentNamespace}var VT=!0;function xh(){return VT}function Mh(n){VT=n}function Ry(n,e=null,t=null,r){let i=bv(n,e,t,r);return i.resolveInjectorInitializers(),i}function bv(n,e=null,t=null,r,i=new Set){let o=[t||In,sT(n)];return r=r||(typeof n=="object"?void 0:si(n)),new Yo(o,e||ml(),r||null,i)}var st=class n{static THROW_IF_NOT_FOUND=Jo;static NULL=new dl;static create(e,t){if(Array.isArray(e))return Ry({name:""},t,e,"");{let r=e.name??"";return Ry({name:r},e.parent,e.providers,r)}}static \u0275prov=X({token:n,providedIn:"any",factory:()=>de(Wy)});static __NG_ELEMENT_ID__=-1},yt=new Z(""),jn=(()=>{class n{static __NG_ELEMENT_ID__=QF;static __NG_ENV_ID__=t=>t}return n})(),Py=class extends jn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return is(this._lView)}onDestroy(e){let t=this._lView;return cv(t,e),()=>yT(t,e)}};function QF(){return new Py(me())}var Yn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},sn=new Z("",{providedIn:"root",factory:()=>{let n=P(mt),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Yn),e.handleError(t))}}}),jT={provide:ci,useValue:()=>void P(Yn),multi:!0},YF=new Z("",{providedIn:"root",factory:()=>{let n=P(yt).defaultView;if(!n)return;let e=P(sn),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),P(jn).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function Ev(){return mn([oT(()=>void P(YF))])}function wv(n){return typeof n=="function"&&n[Jt]!==void 0}function ee(n,e){let[t,r,i]=ny(n,e?.equal),o=t,s=o[Jt];return o.set=r,o.update=i,o.asReadonly=UT.bind(o),o}function UT(){let n=this[Jt];if(n.readonlyFn===void 0){let e=()=>this();e[Jt]=n,n.readonlyFn=e}return n.readonlyFn}function Iv(n){return wv(n)&&typeof n.set=="function"}var Rh=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=ZF}return n})();function ZF(){return new Rh(me(),Bt())}var ai=class{},wl=new Z("",{providedIn:"root",factory:()=>!1});var Cv=new Z(""),Dv=new Z(""),Sr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new jt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Ie(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=X({token:n,providedIn:"root",factory:()=>new n})}return n})(),Sa=(()=>{class n{internalPendingTasks=P(Sr);scheduler=P(ai);errorHandler=P(sn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=X({token:n,providedIn:"root",factory:()=>new n})}return n})();function Il(...n){}var Tv=(()=>{class n{static \u0275prov=X({token:n,providedIn:"root",factory:()=>new Ny})}return n})(),Ny=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Pa(n){return{toString:n}.toString()}var Ph="__parameters__";function sL(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function aL(n,e,t){return Pa(()=>{let r=sL(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,h){let g=l.hasOwnProperty(Ph)?l[Ph]:Object.defineProperty(l,Ph,{value:[]})[Ph];for(;g.length<=h;)g.push(null);return(g[h]=g[h]||[]).push(s),l}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Tn=XD(aL("Optional"),8);function cL(n){return typeof n=="function"}var $h=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function CS(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var fi=(()=>{let n=()=>DS;return n.ngInherit=!0,n})();function DS(n){return n.type.prototype.ngOnChanges&&(n.setInput=uL),lL}function lL(){let n=SS(this),e=n?.current;if(e){let t=n.previous;if(t===Xi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function uL(n,e,t,r,i){let o=this.declaredInputs[r],s=SS(n)||dL(n,{previous:Xi,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new $h(u&&u.currentValue,t,l===Xi),CS(n,e,i,t)}var TS="__ngSimpleChanges__";function SS(n){return n[TS]||null}function dL(n,e){return n[TS]=e}var BT=[];var je=function(n,e=null,t){for(let r=0;r<BT.length;r++){let i=BT[r];i(n,e,t)}};function hL(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=DS(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function AS(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Vh(n,e,t){xS(n,e,3,t)}function jh(n,e,t,r){(n[pe]&3)===t&&xS(n,e,t,r)}function Sv(n,e){let t=n[pe];(t&3)===e&&(t&=16383,t+=1,n[pe]=t)}function xS(n,e,t,r){let i=r!==void 0?n[es]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(n[es]+=65536),(a<o||o==-1)&&(fL(n,t,e,l),n[es]=(n[es]&4294901760)+l+2),l++}function $T(n,e){je(4,n,e);let t=fe(null);try{e.call(n)}finally{fe(t),je(5,n,e)}}function fL(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[pe]>>14<n[es]>>16&&(n[pe]&3)===e&&(n[pe]+=16384,$T(a,o)):$T(a,o)}var xa=-1,as=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function pL(n){return(n.flags&8)!==0}function mL(n){return(n.flags&16)!==0}function gL(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];yL(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function MS(n){return n===3||n===4||n===6}function yL(n){return n.charCodeAt(0)===64}function Tl(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?HT(n,t,i,null,e[++r]):HT(n,t,i,null,null))}}return n}function HT(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function RS(n){return n!==xa}function Hh(n){return n&32767}function vL(n){return n>>16}function zh(n,e){let t=vL(n),r=e;for(;t>0;)r=r[Xo],t--;return r}var jv=!0;function qh(n){let e=jv;return jv=n,e}var _L=256,PS=_L-1,NS=5,bL=0,Ar={};function EL(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Zo)&&(r=t[Zo]),r==null&&(r=t[Zo]=bL++);let i=r&PS,o=1<<i;e.data[n+(i>>NS)]|=o}function Wh(n,e){let t=kS(n,e);if(t!==-1)return t;let r=e[ce];r.firstCreatePass&&(n.injectorIndex=e.length,Av(r.data,n),Av(e,null),Av(r.blueprint,null));let i=__(n,e),o=n.injectorIndex;if(RS(i)){let s=Hh(i),a=zh(i,e),l=a[ce].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function Av(n,e){n.push(0,0,0,0,0,0,0,0,e)}function kS(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function __(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=jS(i),r===null)return xa;if(t++,i=i[Xo],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return xa}function Uv(n,e,t){EL(n,e,t)}function wL(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(MS(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function OS(n,e,t){if(t&8||n!==void 0)return n;vh(e,"NodeInjector")}function FS(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[ui],o=on(void 0);try{return i?i.get(e,r,t&8):zy(e,r,t&8)}finally{on(o)}}return OS(r,e,t)}function LS(n,e,t,r=0,i){if(n!==null){if(e[pe]&2048&&!(r&2)){let s=TL(n,e,t,r,Ar);if(s!==Ar)return s}let o=VS(n,e,t,r,Ar);if(o!==Ar)return o}return FS(e,t,r,i)}function VS(n,e,t,r,i){let o=CL(t);if(typeof o=="function"){if(!vv(e,n,r))return r&1?OS(i,t,r):FS(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))vh(t);else return s}finally{_v()}}else if(typeof o=="number"){let s=null,a=kS(n,e),l=xa,u=r&1?e[Cn][Fn]:null;for((a===-1||r&4)&&(l=a===-1?__(n,e):e[a+8],l===xa||!qT(r,!1)?a=-1:(s=e[ce],a=Hh(l),e=zh(l,e)));a!==-1;){let h=e[ce];if(zT(o,a,h.data)){let g=IL(a,e,t,s,r,u);if(g!==Ar)return g}l=e[a+8],l!==xa&&qT(r,e[ce].data[a+8]===u)&&zT(o,a,e)?(s=h,a=Hh(l),e=zh(l,e)):a=-1}}return i}function IL(n,e,t,r,i,o){let s=e[ce],a=s.data[n+8],l=r==null?no(a)&&jv:r!=s&&(a.type&3)!==0,u=i&1&&o===a,h=Uh(a,s,t,l,u);return h!==null?Sl(e,s,h,a,i):Ar}function Uh(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,l=n.directiveStart,u=n.directiveEnd,h=o>>20,g=r?a:a+h,v=i?a+h:u;for(let w=g;w<v;w++){let x=s[w];if(w<l&&t===x||w>=l&&x.type===t)return w}if(i){let w=s[l];if(w&&Dr(w)&&w.type===t)return l}return null}function Sl(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof as){let a=o;if(a.resolving){let w=KD(s[t]);throw Hy(w)}let l=qh(a.canSeeViewProviders);a.resolving=!0;let u=s[t].type||s[t],h,g=a.injectImpl?on(a.injectImpl):null,v=vv(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&hL(t,s[t],e)}finally{g!==null&&on(g),qh(l),a.resolving=!1,_v()}}return o}function CL(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Zo)?n[Zo]:void 0;return typeof e=="number"?e>=0?e&PS:DL:e}function zT(n,e,t){let r=1<<n;return!!(t[e+(n>>NS)]&r)}function qT(n,e){return!(n&2)&&!(n&1&&e)}var ss=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return LS(this._tNode,this._lView,e,Ko(r),t)}};function DL(){return new ss(Bt(),me())}function pi(n){return Pa(()=>{let e=n.prototype.constructor,t=e[ul]||Bv(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[ul]||Bv(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Bv(n){return Fy(n)?()=>{let e=Bv(Ut(n));return e&&e()}:Ki(n)}function TL(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[pe]&2048&&!Ia(s);){let a=VS(o,s,t,r|2,Ar);if(a!==Ar)return a;let l=o.parent;if(!l){let u=s[ev];if(u){let h=u.get(t,Ar,r);if(h!==Ar)return h}l=jS(s),s=s[Xo]}o=l}return i}function jS(n){let e=n[ce],t=e.type;return t===2?e.declTNode:t===1?n[Fn]:null}function Nl(n){return wL(Bt(),n)}function SL(){return Na(Bt(),me())}function Na(n,e){return new Kt(rr(n,e))}var Kt=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=SL}return n})();function AL(n){return n instanceof Kt?n.nativeElement:n}function xL(){return this._results[Symbol.iterator]()}var Gh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new ft}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=tT(e);(this._changesDetected=!eT(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=xL};function US(n){return(n.flags&128)===128}var b_=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(b_||{}),BS=new Map,ML=0;function RL(){return ML++}function PL(n){BS.set(n[gl],n)}function $v(n){BS.delete(n[gl])}var WT="__ngContext__";function Ma(n,e){Cr(e)?(n[WT]=e[gl],PL(e)):n[WT]=e}function $S(n){return zS(n[wa])}function HS(n){return zS(n[On])}function zS(n){for(;n!==null&&!nr(n);)n=n[On];return n}var Hv;function E_(n){Hv=n}function w_(){if(Hv!==void 0)return Hv;if(typeof document<"u")return document;throw new Q(210,!1)}var lf=new Z("",{providedIn:"root",factory:()=>NL}),NL="ng",uf=new Z(""),fs=new Z("",{providedIn:"platform",factory:()=>"unknown"});var df=new Z("",{providedIn:"root",factory:()=>w_().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var kL="h",OL="b";var qS="r";var WS="di";var GS=!1,JS=new Z("",{providedIn:"root",factory:()=>GS});var I_=new Z("");var FL=(n,e,t,r)=>{};function LL(n,e,t,r){FL(n,e,t,r)}function C_(n){return(n.flags&32)===32}var VL=()=>null;function KS(n,e,t=!1){return VL(n,e,t)}function QS(n,e){let t=n.contentQueries;if(t!==null){let r=fe(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Dh(o),a.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function zv(n,e,t){Dh(0);let r=fe(null);try{e(n,t)}finally{fe(r)}}function YS(n,e,t){if(nv(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let l=t[s];a.contentQueries(1,l,s)}}}finally{fe(r)}}}var hi=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(hi||{}),Nh;function jL(){if(Nh===void 0&&(Nh=null,Zn.trustedTypes))try{Nh=Zn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Nh}function hf(n){return jL()?.createHTML(n)||n}var kh;function ZS(){if(kh===void 0&&(kh=null,Zn.trustedTypes))try{kh=Zn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return kh}function GT(n){return ZS()?.createHTML(n)||n}function JT(n){return ZS()?.createScriptURL(n)||n}var Jh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gh})`}};function ka(n){return n instanceof Jh?n.changingThisBreaksApplicationSecurity:n}function ff(n,e){let t=XS(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${gh})`)}return t===e}function XS(n){return n instanceof Jh&&n.getTypeName()||null}function UL(n){let e=new Wv(n);return BL()?new qv(e):e}var qv=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(hf(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Wv=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=hf(e),t}};function BL(){try{return!!new window.DOMParser().parseFromString(hf(""),"text/html")}catch{return!1}}var $L=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function D_(n){return n=String(n),n.match($L)?n:"unsafe:"+n}function mi(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function kl(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var eA=mi("area,br,col,hr,img,wbr"),tA=mi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nA=mi("rp,rt"),HL=kl(nA,tA),zL=kl(tA,mi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qL=kl(nA,mi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),KT=kl(eA,zL,qL,HL),rA=mi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),WL=mi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),GL=mi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),JL=kl(rA,WL,GL),KL=mi("script,style,template"),Gv=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=ZL(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=YL(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=QT(e).toLowerCase();if(!KT.hasOwnProperty(t))return this.sanitizedSomething=!0,!KL.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!JL.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;rA[a]&&(l=D_(l)),this.buf.push(" ",s,'="',YT(l),'"')}return this.buf.push(">"),!0}endElement(e){let t=QT(e).toLowerCase();KT.hasOwnProperty(t)&&!eA.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(YT(e))}};function QL(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function YL(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw iA(e);return e}function ZL(n){let e=n.firstChild;if(e&&QL(n,e))throw iA(e);return e}function QT(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function iA(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var XL=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,e2=/([^\#-~ |!])/g;function YT(n){return n.replace(/&/g,"&amp;").replace(XL,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(e2,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Oh;function oA(n,e){let t=null;try{Oh=Oh||UL(n);let r=e?String(e):"";t=Oh.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=Oh.getInertBodyElement(r)}while(r!==o);let a=new Gv().sanitizeChildren(ZT(t)||t);return hf(a)}finally{if(t){let r=ZT(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function ZT(n){return"content"in n&&t2(n)?n.content:null}function t2(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Ol=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Ol||{});function ps(n){let e=S_();return e?GT(e.sanitize(Ol.HTML,n)||""):ff(n,"HTML")?GT(ka(n)):oA(w_(),Zi(n))}function Oa(n){let e=S_();return e?e.sanitize(Ol.URL,n)||"":ff(n,"URL")?ka(n):D_(Zi(n))}function sA(n){let e=S_();if(e)return JT(e.sanitize(Ol.RESOURCE_URL,n)||"");if(ff(n,"ResourceURL"))return JT(ka(n));throw new Q(904,!1)}function n2(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?sA:Oa}function T_(n,e,t){return n2(e,t)(n)}function S_(){let n=me();return n&&n[wr].sanitizer}function aA(n){return n instanceof Function?n():n}function r2(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var cA="ng-template";function i2(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&r2(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(A_(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function A_(n){return n.type===4&&n.value!==cA}function o2(n,e,t){let r=n.type===4&&!t?cA:n.value;return e===r}function s2(n,e,t){let r=4,i=n.attrs,o=i!==null?l2(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!ir(r)&&!ir(l))return!1;if(s&&ir(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!o2(n,l,t)||l===""&&e.length===1){if(ir(r))return!1;s=!0}}else if(r&8){if(i===null||!i2(n,i,l,t)){if(ir(r))return!1;s=!0}}else{let u=e[++a],h=a2(l,i,A_(n),t);if(h===-1){if(ir(r))return!1;s=!0;continue}if(u!==""){let g;if(h>o?g="":g=i[h+1].toLowerCase(),r&2&&u!==g){if(ir(r))return!1;s=!0}}}}return ir(r)||s}function ir(n){return(n&1)===0}function a2(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return u2(e,n)}function c2(n,e,t=!1){for(let r=0;r<e.length;r++)if(s2(n,e[r],t))return!0;return!1}function l2(n){for(let e=0;e<n.length;e++){let t=n[e];if(MS(t))return e}return n.length}function u2(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function XT(n,e){return n?":not("+e.trim()+")":e}function d2(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ir(s)&&(e+=XT(o,i),i=""),r=s,o=o||!ir(r);t++}return i!==""&&(e+=XT(o,i)),e}function h2(n){return n.map(d2).join(",")}function f2(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!ir(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var Sn={};function p2(n,e){return n.createText(e)}function m2(n,e,t){n.setValue(e,t)}function lA(n,e,t){return n.createElement(e,t)}function Kh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function uA(n,e,t){n.appendChild(e,t)}function eS(n,e,t,r,i){r!==null?Kh(n,e,t,r,i):uA(n,e,t)}function dA(n,e,t,r){n.removeChild(null,e,t,r)}function g2(n,e,t){n.setAttribute(e,"style",t)}function y2(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function hA(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&gL(n,e,r),i!==null&&y2(n,e,i),o!==null&&g2(n,e,o)}function x_(n,e,t,r,i,o,s,a,l,u,h){let g=wt+r,v=g+i,w=v2(g,v),x=typeof u=="function"?u():u;return w[ce]={type:n,blueprint:w,template:t,queries:null,viewQuery:a,declTNode:e,data:w.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:x,incompleteFirstPass:!1,ssrId:h}}function v2(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Sn);return t}function _2(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=x_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function M_(n,e,t,r,i,o,s,a,l,u,h){let g=e.blueprint.slice();return g[tr]=i,g[pe]=r|4|128|8|64|1024,(u!==null||n&&n[pe]&2048)&&(g[pe]|=2048),sv(g),g[At]=g[Xo]=n,g[gt]=t,g[wr]=s||n&&n[wr],g[nt]=a||n&&n[nt],g[ui]=l||n&&n[ui]||null,g[Fn]=o,g[gl]=RL(),g[ba]=h,g[ev]=u,g[Cn]=e.type==2?n[Cn]:g,g}function b2(n,e,t){let r=rr(e,n),i=_2(t),o=n[wr].rendererFactory,s=R_(n,M_(n,i,null,fA(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function fA(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function pA(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function R_(n,e){return n[wa]?n[Xy][On]=e:n[wa]=e,n[Xy]=e,e}function E(n=1){mA(xt(),me(),di()+n,!1)}function mA(n,e,t,r){if(!r)if((e[pe]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Vh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&jh(e,o,0,t)}ro(t)}var pf=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(pf||{});function Jv(n,e,t,r){let i=fe(null);try{let[o,s,a]=n.inputs[t],l=null;(s&pf.SignalBased)!==0&&(l=e[o][Jt]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,l,r,t,o):CS(e,l,o,r)}finally{fe(i)}}var xr=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(xr||{}),E2;function P_(n,e){return E2(n,e)}var cs=new Set,mf=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(mf||{}),ms=new Z(""),tS=new Set;function sr(n){tS.has(n)||(tS.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var gA=!1,Kv=class extends ft{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,uT()&&(this.destroyRef=P(jn,{optional:!0})??void 0,this.pendingTasks=P(Sr,{optional:!0})??void 0)}emit(e){let t=fe(null);try{super.next(e)}finally{fe(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof ot&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},vt=Kv;function yA(n){let e,t;function r(){n=Il;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function nS(n){return queueMicrotask(()=>n()),()=>{n=Il}}var N_="isAngularZone",Qh=N_+"_ID",w2=0,ke=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new vt(!1);onMicrotaskEmpty=new vt(!1);onStable=new vt(!1);onError=new vt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=gA}=e;if(typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,D2(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(N_)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Q(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,I2,Il,Il);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},I2={};function k_(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function C2(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){yA(()=>{n.callbackScheduled=!1,Qv(n),n.isCheckStableRunning=!0,k_(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Qv(n)}function D2(n){let e=()=>{C2(n)},t=w2++;n._inner=n._inner.fork({name:"angular",properties:{[N_]:!0,[Qh]:t,[Qh+t]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(T2(l))return r.invokeTask(o,s,a,l);try{return rS(n),r.invokeTask(o,s,a,l)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),iS(n)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return rS(n),r.invoke(o,s,a,l,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!S2(l)&&e(),iS(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Qv(n),k_(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Qv(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function rS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function iS(n){n._nesting--,k_(n)}var Yh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new vt;onMicrotaskEmpty=new vt;onStable=new vt;onError=new vt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function T2(n){return vA(n,"__ignore_ng_zone__")}function S2(n){return vA(n,"__scheduler_tick__")}function vA(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var O_=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=X({token:n,providedIn:"root",factory:()=>new n})}return n})(),_A=[0,1,2,3],bA=(()=>{class n{ngZone=P(ke);scheduler=P(ai);errorHandler=P(Yn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){P(ms,{optional:!0})}execute(){let t=this.sequences.size>0;t&&je(16),this.executing=!0;for(let r of _A)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&je(17)}register(t){let{view:r}=t;r!==void 0?((r[ts]??=[]).push(t),Ca(r),r[pe]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(mf.AFTER_NEXT_RENDER,t):t()}static \u0275prov=X({token:n,providedIn:"root",factory:()=>new n})}return n})(),Zh=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[ts];e&&(this.view[ts]=e.filter(t=>t!==this))}};function Fl(n,e){let t=e?.injector??P(st);return sr("NgAfterNextRender"),x2(n,t,e,!0)}function A2(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function x2(n,e,t,r){let i=e.get(O_);i.impl??=e.get(bA);let o=e.get(ms,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(jn):null,a=e.get(Rh,null,{optional:!0}),l=new Zh(i.impl,A2(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(l),l}var EA=new Z("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function wA(n,e,t){let r=n.get(EA);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function M2(n,e){let t=n.get(EA);if(e.detachedLeaveAnimationFns){for(let r of e.detachedLeaveAnimationFns)t.queue.delete(r);e.detachedLeaveAnimationFns=void 0}}function R2(n,e){for(let[t,r]of e)wA(n,r.animateFns)}function oS(n,e,t,r){let i=n?.[ns]?.enter;e!==null&&i&&i.has(t.index)&&R2(r,i)}function Aa(n,e,t,r,i,o,s,a){if(i!=null){let l,u=!1;nr(i)?l=i:Cr(i)&&(u=!0,i=i[tr]);let h=Ln(i);n===0&&r!==null?(oS(a,r,o,t),s==null?uA(e,r,h):Kh(e,r,h,s||null,!0)):n===1&&r!==null?(oS(a,r,o,t),Kh(e,r,h,s||null,!0)):n===2?sS(a,o,t,g=>{dA(e,h,u,g)}):n===3&&sS(a,o,t,()=>{e.destroyNode(h)}),l!=null&&z2(e,n,t,l,o,r,s)}}function P2(n,e){IA(n,e),e[tr]=null,e[Fn]=null}function N2(n,e,t,r,i,o){r[tr]=i,r[Fn]=e,yf(n,r,t,1,i,o)}function IA(n,e){e[wr].changeDetectionScheduler?.notify(9),yf(n,e,e[nt],2,null,null)}function k2(n){let e=n[wa];if(!e)return xv(n[ce],n);for(;e;){let t=null;if(Cr(e))t=e[wa];else{let r=e[at];r&&(t=r)}if(!t){for(;e&&!e[On]&&e!==n;)Cr(e)&&xv(e[ce],e),e=e[At];e===null&&(e=n),Cr(e)&&xv(e[ce],e),t=e&&e[On]}e=t}}function F_(n,e){let t=n[rs],r=t.indexOf(e);t.splice(r,1)}function gf(n,e){if(is(e))return;let t=e[nt];t.destroyNode&&yf(n,e,t,3,null,null),k2(e)}function xv(n,e){if(is(e))return;let t=fe(null);try{e[pe]&=-129,e[pe]|=256,e[Dn]&&rl(e[Dn]),L2(n,e),F2(n,e),e[ce].type===1&&e[nt].destroy();let r=e[eo];if(r!==null&&nr(e[At])){r!==e[At]&&F_(r,e);let i=e[Ir];i!==null&&i.detachView(n)}$v(e)}finally{fe(t)}}function sS(n,e,t,r){let i=n?.[ns];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&cs.add(n),wA(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let l=0;l<s.animateFns.length;l++){let u=s.animateFns[l],{promise:h}=u();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),O2(n,r)}else n&&cs.delete(n),r(!1)},i)}function O2(n,e){let t=n[ns]?.running;if(t){t.then(()=>{n[ns].running=void 0,cs.delete(n),e(!0)});return}e(!1)}function F2(n,e){let t=n.cleanup,r=e[Ea];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Ea]=null);let i=e[oi];if(i!==null){e[oi]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[yl];if(o!==null){e[yl]=null;for(let s of o)s.destroy()}}function L2(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof as)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];je(4,a,l);try{l.call(a)}finally{je(5,a,l)}}else{je(4,i,o);try{o.call(i)}finally{je(5,i,o)}}}}}function V2(n,e,t){return j2(n,e.parent,t)}function j2(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[tr];if(no(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===hi.None||i===hi.Emulated)return null}return rr(r,t)}function U2(n,e,t){return $2(n,e,t)}function B2(n,e,t){return n.type&40?rr(n,t):null}var $2=B2,aS;function L_(n,e,t,r){let i=V2(n,r,e),o=e[nt],s=r.parent||e[Fn],a=U2(s,r,e);if(i!=null)if(Array.isArray(t))for(let l=0;l<t.length;l++)eS(o,i,t[l],a,!1);else eS(o,i,t,a,!1);aS!==void 0&&aS(o,r,e,t,i)}function Cl(n,e){if(e!==null){let t=e.type;if(t&3)return rr(e,n);if(t&4)return Yv(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Cl(n,r);{let i=n[e.index];return nr(i)?Yv(-1,i):Ln(i)}}else{if(t&128)return Cl(n,e.next);if(t&32)return P_(e,n)()||Ln(n[e.index]);{let r=CA(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Qi(n[Cn]);return Cl(i,r)}else return Cl(n,e.next)}}}return null}function CA(n,e){if(e!==null){let r=n[Cn][Fn],i=e.projection;return r.projection[i]}return null}function Yv(n,e){let t=at+n+1;if(t<e.length){let r=e[t],i=r[ce].firstChild;if(i!==null)return Cl(r,i)}return e[to]}function V_(n,e,t,r,i,o,s){for(;t!=null;){let a=r[ui];if(t.type===128){t=t.next;continue}let l=r[t.index],u=t.type;if(s&&e===0&&(l&&Ma(Ln(l),r),t.flags|=2),!C_(t))if(u&8)V_(n,e,t.child,r,i,o,!1),Aa(e,n,a,i,l,t,o,r);else if(u&32){let h=P_(t,r),g;for(;g=h();)Aa(e,n,a,i,g,t,o,r);Aa(e,n,a,i,l,t,o,r)}else u&16?H2(n,e,r,t,i,o):Aa(e,n,a,i,l,t,o,r);t=s?t.projectionNext:t.next}}function yf(n,e,t,r,i,o){V_(t,r,n.firstChild,e,i,o,!1)}function H2(n,e,t,r,i,o){let s=t[Cn],l=s[Fn].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let h=l[u];Aa(e,n,t[ui],i,h,r,o,t)}else{let u=l,h=s[At];US(r)&&(u.flags|=128),V_(n,e,u,h,i,o,!0)}}function z2(n,e,t,r,i,o,s){let a=r[to],l=Ln(r);a!==l&&Aa(e,n,t,o,a,i,s);for(let u=at;u<r.length;u++){let h=r[u];yf(h[ce],h,n,e,o,a)}}function q2(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:xr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=xr.Important),n.setStyle(t,r,i,o))}}function DA(n,e,t,r,i){let o=di(),s=r&2;try{ro(-1),s&&e.length>wt&&mA(n,e,wt,!1),je(s?2:0,i,t),t(r,i)}finally{ro(o),je(s?3:1,i,t)}}function j_(n,e,t){Z2(n,e,t),(t.flags&64)===64&&X2(n,e,t)}function U_(n,e,t=rr){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function W2(n,e,t,r){let o=r.get(JS,GS)||t===hi.ShadowDom,s=n.selectRootElement(e,o);return G2(s),s}function G2(n){J2(n)}var J2=()=>null;function K2(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function TA(n,e,t,r,i,o){let s=e[ce];if(B_(n,s,e,t,r)){no(n)&&Y2(e,n.index);return}n.type&3&&(t=K2(t)),Q2(n,e,t,r,i,o)}function Q2(n,e,t,r,i,o){if(n.type&3){let s=rr(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function Y2(n,e){let t=Vn(e,n);t[pe]&16||(t[pe]|=64)}function Z2(n,e,t){let r=t.directiveStart,i=t.directiveEnd;no(t)&&b2(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Wh(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],l=Sl(e,n,s,t);if(Ma(l,e),o!==null&&rV(e,s-r,l,a,t,o),Dr(a)){let u=Vn(t.index,e);u[gt]=Sl(e,n,s,t)}}}function X2(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=RT();try{ro(o);for(let a=r;a<i;a++){let l=n.data[a],u=e[a];Ch(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&eV(l,u)}}finally{ro(-1),Ch(s)}}function eV(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function SA(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];c2(e,o.selectors,!1)&&(r??=[],Dr(o)?r.unshift(o):r.push(o))}return r}function tV(n,e,t,r,i,o){let s=rr(n,e);nV(e[nt],s,o,n.value,t,r,i)}function nV(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Zi(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function rV(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];Jv(r,t,l,u)}}function iV(n,e,t,r,i){let o=wt+t,s=e[ce],a=i(s,e,n,r,t);e[o]=a,Da(n,!0);let l=n.type===2;return l?(hA(e[nt],a,n),(_T()===0||_l(n))&&Ma(a,e),bT()):Ma(a,e),xh()&&(!l||!C_(n))&&L_(s,e,a,n),n}function oV(n){let e=n;return fv()?TT():(e=e.parent,Da(e,!1)),e}function sV(n,e){let t=n[ui];if(!t)return;let r;try{r=t.get(sn,null)}catch{r=null}r?.(e)}function B_(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let l=0;l<s.length;l+=2){let u=s[l],h=s[l+1],g=e.data[u];Jv(g,t[u],h,i),a=!0}if(o)for(let l of o){let u=t[l],h=e.data[l];Jv(h,u,r,i),a=!0}return a}function aV(n,e){let t=Vn(e,n),r=t[ce];cV(r,t);let i=t[tr];i!==null&&t[ba]===null&&(t[ba]=KS(i,t[ui])),je(18),$_(r,t,t[gt]),je(19,t[gt])}function cV(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function $_(n,e,t){Th(e);try{let r=n.viewQuery;r!==null&&zv(1,r,t);let i=n.template;i!==null&&DA(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ir]?.finishViewCreation(n),n.staticContentQueries&&QS(n,e),n.staticViewQueries&&zv(2,n.viewQuery,t);let o=n.components;o!==null&&lV(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[pe]&=-5,Sh()}}function lV(n,e){for(let t=0;t<e.length;t++)aV(n,e[t])}function vf(n,e,t,r){let i=fe(null);try{let o=e.tView,a=n[pe]&4096?4096:16,l=M_(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];l[eo]=u;let h=n[Ir];return h!==null&&(l[Ir]=h.createEmbeddedView(o)),$_(o,l,t),l}finally{fe(i)}}function Al(n,e){return!e||e.firstChild===null||US(n)}function xl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Ln(o)),nr(o)&&AA(o,r);let s=t.type;if(s&8)xl(n,e,t.child,r);else if(s&32){let a=P_(t,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=CA(e,t);if(Array.isArray(a))r.push(...a);else{let l=Qi(e[Cn]);xl(l[ce],l,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function AA(n,e){for(let t=at;t<n.length;t++){let r=n[t],i=r[ce].firstChild;i!==null&&xl(r[ce],r,i,e)}n[to]!==n[tr]&&e.push(n[to])}function xA(n){if(n[ts]!==null){for(let e of n[ts])e.impl.addSequence(e);n[ts].length=0}}var MA=[];function uV(n){return n[Dn]??dV(n)}function dV(n){let e=MA.pop()??Object.create(fV);return e.lView=n,e}function hV(n){n.lView[Dn]!==n&&(n.lView=null,MA.push(n))}var fV=ne(j({},ea),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{Ca(n.lView)},consumerOnSignalRead(){this.lView[Dn]=this}});function pV(n){let e=n[Dn]??Object.create(mV);return e.lView=n,e}var mV=ne(j({},ea),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Qi(n.lView);for(;e&&!RA(e[ce]);)e=Qi(e);e&&av(e)},consumerOnSignalRead(){this.lView[Dn]=this}});function RA(n){return n.type!==2}function PA(n){if(n[yl]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[yl])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[pe]&8192)}}var gV=100;function NA(n,e=0){let r=n[wr].rendererFactory,i=!1;i||r.begin?.();try{yV(n,e)}finally{i||r.end?.()}}function yV(n,e){let t=pv();try{mv(!0),Zv(n,e);let r=0;for(;El(n);){if(r===gV)throw new Q(103,!1);r++,Zv(n,1)}}finally{mv(t)}}function vV(n,e,t,r){if(is(e))return;let i=e[pe],o=!1,s=!1;Th(e);let a=!0,l=null,u=null;o||(RA(n)?(u=uV(e),l=na(u)):Ld()===null?(a=!1,u=pV(e),l=na(u)):e[Dn]&&(rl(e[Dn]),e[Dn]=null));try{sv(e),AT(n.bindingStartIndex),t!==null&&DA(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let w=n.preOrderCheckHooks;w!==null&&Vh(e,w,null)}else{let w=n.preOrderHooks;w!==null&&jh(e,w,0,null),Sv(e,0)}if(s||_V(e),PA(e),kA(e,0),n.contentQueries!==null&&QS(n,e),!o)if(h){let w=n.contentCheckHooks;w!==null&&Vh(e,w)}else{let w=n.contentHooks;w!==null&&jh(e,w,1),Sv(e,1)}EV(n,e);let g=n.components;g!==null&&FA(e,g,0);let v=n.viewQuery;if(v!==null&&zv(2,v,r),!o)if(h){let w=n.viewCheckHooks;w!==null&&Vh(e,w)}else{let w=n.viewHooks;w!==null&&jh(e,w,2),Sv(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Eh]){for(let w of e[Eh])w();e[Eh]=null}o||(xA(e),e[pe]&=-73)}catch(h){throw o||Ca(e),h}finally{u!==null&&(tl(u,l),a&&hV(u)),Sh()}}function kA(n,e){for(let t=$S(n);t!==null;t=HS(t))for(let r=at;r<t.length;r++){let i=t[r];OA(i,e)}}function _V(n){for(let e=$S(n);e!==null;e=HS(e)){if(!(e[pe]&2))continue;let t=e[rs];for(let r=0;r<t.length;r++){let i=t[r];av(i)}}}function bV(n,e,t){je(18);let r=Vn(e,n);OA(r,t),je(19,r[gt])}function OA(n,e){wh(n)&&Zv(n,e)}function Zv(n,e){let r=n[ce],i=n[pe],o=n[Dn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&nl(o)),s||=!1,o&&(o.dirty=!1),n[pe]&=-9217,s)vV(r,n,r.template,n[gt]);else if(i&8192){let a=fe(null);try{PA(n),kA(n,1);let l=r.components;l!==null&&FA(n,l,1),xA(n)}finally{fe(a)}}}function FA(n,e,t){for(let r=0;r<e.length;r++)bV(n,e[r],t)}function EV(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ro(~i);else{let o=i,s=t[++r],a=t[++r];MT(s,o);let l=e[o];je(24,l),a(2,l),je(25,l)}}}finally{ro(-1)}}function H_(n,e){let t=pv()?64:1088;for(n[wr].changeDetectionScheduler?.notify(e);n;){n[pe]|=t;let r=Qi(n);if(Ia(n)&&!r)return n;n=r}return null}function LA(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function VA(n,e){let t=at+e;if(t<n.length)return n[t]}function _f(n,e,t,r=!0){let i=e[ce];if(wV(i,e,n,t),r){let s=Yv(t,n),a=e[nt],l=a.parentNode(n[to]);l!==null&&N2(i,n[Fn],a,e,l,s)}let o=e[ba];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function jA(n,e){let t=Ml(n,e);return t!==void 0&&gf(t[ce],t),t}function Ml(n,e){if(n.length<=at)return;let t=at+e,r=n[t];if(r){let i=r[eo];i!==null&&i!==n&&F_(i,r),e>0&&(n[t-1][On]=r[On]);let o=fl(n,at+e);P2(r[ce],r);let s=o[Ir];s!==null&&s.detachView(o[ce]),r[At]=null,r[On]=null,r[pe]&=-129}return r}function wV(n,e,t,r){let i=at+r,o=t.length;r>0&&(t[i-1][On]=e),r<o-at?(e[On]=t[i],qy(t,at+r,e)):(t.push(e),e[On]=null),e[At]=t;let s=e[eo];s!==null&&t!==s&&UA(s,e);let a=e[Ir];a!==null&&a.insertView(n),Ih(e),e[pe]|=128}function UA(n,e){let t=n[rs],r=e[At];if(Cr(r))n[pe]|=2;else{let i=r[At][Cn];e[Cn]!==i&&(n[pe]|=2)}t===null?n[rs]=[e]:t.push(e)}var io=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[ce];return xl(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[gt]}set context(e){this._lView[gt]=e}get destroyed(){return is(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[At];if(nr(e)){let t=e[vl],r=t?t.indexOf(this):-1;r>-1&&(Ml(e,r),fl(t,r))}this._attachedToViewContainer=!1}gf(this._lView[ce],this._lView)}onDestroy(e){cv(this._lView,e)}markForCheck(){H_(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[pe]&=-129}reattach(){Ih(this._lView),this._lView[pe]|=128}detectChanges(){this._lView[pe]|=1024,NA(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ia(this._lView),t=this._lView[eo];t!==null&&!e&&F_(t,this._lView),IA(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let t=Ia(this._lView),r=this._lView[eo];r!==null&&!t&&UA(r,this._lView),Ih(this._lView)}};var oo=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=IV;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=vf(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new io(o)}}return n})();function IV(){return z_(Bt(),me())}function z_(n,e){return n.type&4?new oo(e,n,Na(n,e)):null}function bf(n,e,t,r,i){let o=n.data[e];if(o===null)o=CV(n,e,t,r,i),xT()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=DT();o.injectorIndex=s===null?-1:s.injectorIndex}return Da(o,!0),o}function CV(n,e,t,r,i){let o=hv(),s=fv(),a=s?o:o&&o.parent,l=n.data[e]=TV(n,a,t,e,r,i);return DV(n,l,o,s),l}function DV(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function TV(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return wT()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var AX=new RegExp(`^(\\d+)*(${OL}|${kL})*(.*)`);function SV(n){let e=n[tv]??[],r=n[At][nt],i=[];for(let o of e)o.data[WS]!==void 0?i.push(o):AV(o,r);n[tv]=i}function AV(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[qS];for(;t<i;){let o=r.nextSibling;dA(e,r,!1),r=o,t++}}}var xV=()=>null,MV=()=>null;function Xv(n,e){return xV(n,e)}function BA(n,e,t){return MV(n,e,t)}var $A=class{},Ef=class{},e_=class{resolveComponentFactory(e){throw new Q(917,!1)}},Ll=class{static NULL=new e_},ls=class{},Un=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>RV()}return n})();function RV(){let n=me(),e=Bt(),t=Vn(e.index,n);return(Cr(t)?t:n)[nt]}var HA=(()=>{class n{static \u0275prov=X({token:n,providedIn:"root",factory:()=>null})}return n})();var Bh={},t_=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,Bh,r);return i!==Bh||t===Bh?i:this.parentInjector.get(e,t,r)}};function cS(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Oy(i,a);else if(o==2){let l=a,u=e[++s];r=Oy(r,l+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function le(n,e=0){let t=me();if(t===null)return de(n,e);let r=Bt();return LS(r,t,Ut(n),e)}function q_(){let n="invalid";throw new Error(n)}function zA(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,l=null,u=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,l,u]=h.resolveHostDirectives(s);break}kV(n,e,t,a,o,l,u)}o!==null&&r!==null&&PV(t,r,o)}function PV(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new Q(-301,!1);r.push(e[i],o)}}function NV(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function kV(n,e,t,r,i,o,s){let a=r.length,l=!1;for(let v=0;v<a;v++){let w=r[v];!l&&Dr(w)&&(l=!0,NV(n,t,v)),Uv(Wh(t,e),n,w.type)}UV(t,n.data.length,a);for(let v=0;v<a;v++){let w=r[v];w.providersResolver&&w.providersResolver(w)}let u=!1,h=!1,g=pA(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let v=0;v<a;v++){let w=r[v];if(t.mergedAttrs=Tl(t.mergedAttrs,w.hostAttrs),FV(n,t,e,g,w),jV(g,w,i),s!==null&&s.has(w)){let[F,O]=s.get(w);t.directiveToIndex.set(w.type,[g,F+t.directiveStart,O+t.directiveStart])}else(o===null||!o.has(w))&&t.directiveToIndex.set(w.type,g);w.contentQueries!==null&&(t.flags|=4),(w.hostBindings!==null||w.hostAttrs!==null||w.hostVars!==0)&&(t.flags|=64);let x=w.type.prototype;!u&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!h&&(x.ngOnChanges||x.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),g++}OV(n,t,o)}function OV(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))lS(0,e,i,r),lS(1,e,i,r),dS(e,r,!1);else{let o=t.get(i);uS(0,e,o,r),uS(1,e,o,r),dS(e,r,!0)}}}function lS(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),qA(e,o)}}function uS(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),qA(e,s)}}function qA(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function dS(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||A_(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let l=r[a];if(l===0){a+=4;continue}else if(l===5){a+=2;continue}else if(typeof l=="number")break;if(!t&&i.hasOwnProperty(l)){let u=i[l];for(let h of u)if(h===e){s??=[],s.push(l,r[a+1]);break}}else if(t&&o.hasOwnProperty(l)){let u=o[l];for(let h=0;h<u.length;h+=2)if(u[h]===e){s??=[],s.push(u[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function FV(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ki(i.type,!0)),s=new as(o,Dr(i),le,null);n.blueprint[r]=s,t[r]=s,LV(n,e,r,pA(n,t,i.hostVars,Sn),i)}function LV(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;VV(s)!=a&&s.push(a),s.push(t,r,o)}}function VV(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function jV(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Dr(e)&&(t[""]=n)}}function UV(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function WA(n,e,t,r,i,o,s,a){let l=e[ce],u=l.consts,h=Tr(u,s),g=bf(l,n,t,r,h);return o&&zA(l,e,g,Tr(u,a),i),g.mergedAttrs=Tl(g.mergedAttrs,g.attrs),g.attrs!==null&&cS(g,g.attrs,!1),g.mergedAttrs!==null&&cS(g,g.mergedAttrs,!0),l.queries!==null&&l.queries.elementStart(l,g),g}function GA(n,e){AS(n,e),nv(e)&&n.queries.elementEnd(e)}function W_(n){return KA(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function JA(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function KA(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function wf(n,e,t){return n[e]=t}function BV(n,e){return n[e]}function or(n,e,t){if(t===Sn)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function G_(n,e,t,r){let i=or(n,e,t);return or(n,e+1,r)||i}function $V(n,e,t,r,i){let o=G_(n,e,t,r);return or(n,e+2,i)||o}function Mv(n,e,t){return function r(i){let o=no(n)?Vn(n.index,e):e;H_(o,5);let s=e[gt],a=hS(e,s,t,i),l=r.__ngNextListenerFn__;for(;l;)a=hS(e,s,l,i)&&a,l=l.__ngNextListenerFn__;return a}}function hS(n,e,t,r){let i=fe(null);try{return je(6,e,t),t(r)!==!1}catch(o){return sV(n,o),!1}finally{je(7,e,t),fe(i)}}function HV(n,e,t,r,i,o,s,a){let l=_l(n),u=!1,h=null;if(!r&&l&&(h=qV(e,t,o,n.index)),h!==null){let g=h.__ngLastListenerFn__||h;g.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,u=!0}else{let g=rr(n,t),v=r?r(g):g;LL(t,v,o,a);let w=i.listen(v,o,a);if(!zV(o)){let x=r?F=>r(Ln(F[n.index])):n.index;QA(x,e,t,o,a,w,!1)}}return u}function zV(n){return n.startsWith("animation")||n.startsWith("transition")}function qV(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Ea],l=i[o+2];return a&&a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function QA(n,e,t,r,i,o,s){let a=e.firstCreatePass?uv(e):null,l=lv(t),u=l.length;l.push(i,o),a&&a.push(r,n,u,(u+1)*(s?-1:1))}function fS(n,e,t,r,i,o){let s=e[t],a=e[ce],u=a.data[t].outputs[r],g=s[u].subscribe(o);QA(n.index,a,e,i,o,g,!0)}var n_=Symbol("BINDING");var Xh=class extends Ll{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=li(e);return new us(t,this.ngModule)}};function WV(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&pf.SignalBased)!==0};return i&&(o.transform=i),o})}function GV(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function JV(n,e,t){let r=e instanceof mt?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new t_(t,r):t}function KV(n){let e=n.get(ls,null);if(e===null)throw new Q(407,!1);let t=n.get(HA,null),r=n.get(ai,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function QV(n,e){let t=YA(n);return lA(e,t,t==="svg"?hT:t==="math"?fT:null)}function YA(n){return(n.selectors[0][0]||"div").toLowerCase()}var us=class extends Ef{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=WV(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=GV(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=h2(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){je(22);let a=fe(null);try{let l=this.componentDef,u=YV(r,l,s,o),h=JV(l,i||this.ngModule,e),g=KV(h),v=g.rendererFactory.createRenderer(null,l),w=r?W2(v,r,l.encapsulation,h):QV(l,v),x=s?.some(pS)||o?.some(W=>typeof W!="function"&&W.bindings.some(pS)),F=M_(null,u,null,512|fA(l),null,null,g,v,h,null,KS(w,h,!0));F[wt]=w,Th(F);let O=null;try{let W=WA(wt,F,2,"#host",()=>u.directiveRegistry,!0,0);hA(v,w,W),Ma(w,F),j_(u,F,W),YS(u,W,F),GA(u,W),t!==void 0&&XV(W,this.ngContentSelectors,t),O=Vn(W.index,F),F[gt]=O[gt],$_(u,F,null)}catch(W){throw O!==null&&$v(O),$v(F),W}finally{je(23),Sh()}return new ef(this.componentType,F,!!x)}finally{fe(a)}}};function YV(n,e,t,r){let i=n?["ng-version","20.3.13"]:f2(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[n_].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let g=r[h];if(typeof g!="function")for(let v of g.bindings){a+=v[n_].requiredVars;let w=h+1;v.create&&(v.targetIdx=w,(o??=[]).push(v)),v.update&&(v.targetIdx=w,(s??=[]).push(v))}}let l=[e];if(r)for(let h of r){let g=typeof h=="function"?h:h.type,v=Ky(g);l.push(v)}return x_(0,null,ZV(o,s),1,a,l,null,null,null,[i],null)}function ZV(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function pS(n){let e=n[n_].kind;return e==="input"||e==="twoWay"}var ef=class extends $A{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=bl(t[ce],wt),this.location=Na(this._tNode,t),this.instance=Vn(this._tNode.index,t)[gt],this.hostView=this.changeDetectorRef=new io(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=B_(r,i[ce],i,e,t);this.previousInputValues.set(e,t);let s=Vn(r.index,i);H_(s,1)}get injector(){return new ss(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function XV(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var gi=(()=>{class n{static __NG_ELEMENT_ID__=ej}return n})();function ej(){let n=Bt();return XA(n,me())}var tj=gi,ZA=class extends tj{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Na(this._hostTNode,this._hostLView)}get injector(){return new ss(this._hostTNode,this._hostLView)}get parentInjector(){let e=__(this._hostTNode,this._hostLView);if(RS(e)){let t=zh(e,this._hostLView),r=Hh(e),i=t[ce].data[r+8];return new ss(i,t)}else return new ss(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=mS(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-at}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Xv(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Al(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let l=e&&!cL(e),u;if(l)u=t;else{let O=t||{};u=O.index,r=O.injector,i=O.projectableNodes,o=O.environmentInjector||O.ngModuleRef,s=O.directives,a=O.bindings}let h=l?e:new us(li(e)),g=r||this.parentInjector;if(!o&&h.ngModule==null){let W=(l?g:this.parentInjector).get(mt,null);W&&(o=W)}let v=li(h.componentType??{}),w=Xv(this._lContainer,v?.id??null),x=w?.firstChild??null,F=h.create(g,i,x,o,s,a);return this.insertImpl(F.hostView,u,Al(this._hostTNode,w)),F}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(mT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[At],u=new ZA(l,l[Fn],l[At]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return _f(s,i,o,r),e.attachToViewContainerRef(),qy(Rv(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=mS(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ml(this._lContainer,t);r&&(fl(Rv(this._lContainer),t),gf(r[ce],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ml(this._lContainer,t);return r&&fl(Rv(this._lContainer),t)!=null?new io(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function mS(n){return n[vl]}function Rv(n){return n[vl]||(n[vl]=[])}function XA(n,e){let t,r=e[n.index];return nr(r)?t=r:(t=LA(r,e,null,n),e[n.index]=t,R_(e,t)),rj(t,e,n,r),new ZA(t,n,e)}function nj(n,e){let t=n[nt],r=t.createComment(""),i=rr(e,n),o=t.parentNode(i);return Kh(t,o,r,t.nextSibling(i),!1),r}var rj=sj,ij=()=>!1;function oj(n,e,t){return ij(n,e,t)}function sj(n,e,t,r){if(n[to])return;let i;t.type&8?i=Ln(r):i=nj(e,t),n[to]=i}var r_=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},i_=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)J_(e,t).matches!==null&&this.queries[t].setDirty()}},o_=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=pj(e):this.predicate=e}},s_=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},a_=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,aj(t,o)),this.matchTNodeWithReadOption(e,t,Uh(t,e,o,!1,!1))}else r===oo?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Uh(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Kt||i===gi||i===oo&&t.type&4)this.addMatch(t.index,-2);else{let o=Uh(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function aj(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function cj(n,e){return n.type&11?Na(n,e):n.type&4?z_(n,e):null}function lj(n,e,t,r){return t===-1?cj(e,n):t===-2?uj(n,e,r):Sl(n,n[ce],t,e)}function uj(n,e,t){if(t===Kt)return Na(e,n);if(t===oo)return z_(e,n);if(t===gi)return XA(e,n)}function ex(n,e,t,r){let i=e[Ir].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let h=o[u];a.push(lj(e,h,s[l+1],t.metadata.read))}}i.matches=a}return i.matches}function c_(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=ex(n,e,i,t);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let u=o[a+1],h=e[-l];for(let g=at;g<h.length;g++){let v=h[g];v[eo]===v[At]&&c_(v[ce],v,u,r)}if(h[rs]!==null){let g=h[rs];for(let v=0;v<g.length;v++){let w=g[v];c_(w[ce],w,u,r)}}}}}return r}function dj(n,e){return n[Ir].queries[e].queryList}function hj(n,e,t){let r=new Gh((t&4)===4);return vT(n,e,r,r.destroy),(e[Ir]??=new i_).queries.push(new r_(r))-1}function fj(n,e,t,r){let i=xt();if(i.firstCreatePass){let o=Bt();mj(i,new o_(e,t,r),o.index),gj(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return hj(i,me(),t)}function pj(n){return n.split(",").map(e=>e.trim())}function mj(n,e,t){n.queries===null&&(n.queries=new s_),n.queries.track(new a_(e,t))}function gj(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function J_(n,e){return n.queries.getByIndex(e)}function yj(n,e){let t=n[ce],r=J_(t,e);return r.crossesNgTemplate?c_(t,n,e,[]):ex(t,n,r,e)}var ds=class{},If=class{};var tf=class extends ds{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Xh(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Jy(e);this._bootstrapComponents=aA(o.bootstrap),this._r3Injector=bv(e,t,[{provide:ds,useValue:this},{provide:Ll,useValue:this.componentFactoryResolver},...r],si(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},nf=class extends If{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new tf(this.moduleType,e,[])}};var Rl=class extends ds{injector;componentFactoryResolver=new Xh(this);instance=null;constructor(e){super();let t=new Yo([...e.providers,{provide:ds,useValue:this},{provide:Ll,useValue:this.componentFactoryResolver}],e.parent||ml(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Fa(n,e,t=null){return new Rl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var vj=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Qy(!1,t.type),i=r.length>0?Fa([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=X({token:n,providedIn:"environment",factory:()=>new n(de(mt))})}return n})();function Qe(n){return Pa(()=>{let e=tx(n),t=ne(j({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===b_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(vj).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||hi.Emulated,styles:n.styles||In,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&sr("NgStandalone"),nx(t);let r=n.dependencies;return t.directiveDefs=gS(r,_j),t.pipeDefs=gS(r,iT),t.id=wj(t),t})}function _j(n){return li(n)||Ky(n)}function Mr(n){return Pa(()=>({type:n.type,bootstrap:n.bootstrap||In,declarations:n.declarations||In,imports:n.imports||In,exports:n.exports||In,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function bj(n,e){if(n==null)return Xi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,l;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,l=i[3]||null):(o=i,s=i,a=pf.None,l=null),t[o]=[r,a,l],e[o]=s}return t}function Ej(n){if(n==null)return Xi;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Xe(n){return Pa(()=>{let e=tx(n);return nx(e),e})}function Cf(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function tx(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Xi,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||In,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:bj(n.inputs,e),outputs:Ej(n.outputs),debugInfo:null}}function nx(n){n.features?.forEach(e=>e(n))}function gS(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function wj(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ij(n){return Object.getPrototypeOf(n.prototype).constructor}function Bn(n){let e=Ij(n.type),t=!0,r=[n];for(;e;){let i;if(Dr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Pv(n.inputs),s.declaredInputs=Pv(n.declaredInputs),s.outputs=Pv(n.outputs);let a=i.hostBindings;a&&Aj(n,a);let l=i.viewQuery,u=i.contentQueries;if(l&&Tj(n,l),u&&Sj(n,u),Cj(n,i),JD(n.outputs,i.outputs),Dr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Bn&&(t=!1)}}e=Object.getPrototypeOf(e)}Dj(r)}function Cj(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function Dj(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Tl(i.hostAttrs,t=Tl(t,i.hostAttrs))}}function Pv(n){return n===Xi?{}:n===In?[]:n}function Tj(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Sj(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Aj(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function rx(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Tl(n.mergedAttrs,n.attrs);let h=n.tView=x_(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),Da(n,!1);let l=Mj(t,e,n,r);xh()&&L_(t,e,l,n),Ma(l,e);let u=LA(l,e,l,n);e[r+wt]=u,R_(e,u),oj(u,n,e)}function xj(n,e,t,r,i,o,s,a,l,u,h){let g=t+wt,v;return e.firstCreatePass?(v=bf(e,g,4,s||null,a||null),dv()&&zA(e,n,v,Tr(e.consts,u),SA),AS(e,v)):v=e.data[g],rx(v,n,e,t,r,i,o,l),_l(v)&&j_(e,n,v),u!=null&&U_(n,v,h),v}function rf(n,e,t,r,i,o,s,a,l,u,h){let g=t+wt,v;if(e.firstCreatePass){if(v=bf(e,g,4,s||null,a||null),u!=null){let w=Tr(e.consts,u);v.localNames=[];for(let x=0;x<w.length;x+=2)v.localNames.push(w[x],-1)}}else v=e.data[g];return rx(v,n,e,t,r,i,o,l),u!=null&&U_(n,v,h),v}function $n(n,e,t,r,i,o,s,a){let l=me(),u=xt(),h=Tr(u.consts,o);return xj(l,u,n,e,t,r,i,h,void 0,s,a),$n}var Mj=Rj;function Rj(n,e,t,r){return Mh(!0),e[nt].createComment("")}var K_=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Q_=new Z("");function so(n){return!!n&&typeof n.then=="function"}function Y_(n){return!!n&&typeof n.subscribe=="function"}var Z_=new Z("");function Df(n){return mn([{provide:Z_,multi:!0,useValue:n}])}var X_=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=P(Z_,{optional:!0})??[];injector=P(st);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Et(this.injector,i);if(so(o))t.push(o);else if(Y_(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vl=new Z("");function ix(){ty(()=>{let n="";throw new Q(600,n)})}function ox(n){return n.isBoundToModule}var Pj=10;var yi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(sn);afterRenderManager=P(O_);zonelessEnabled=P(wl);rootEffectScheduler=P(Tv);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ft;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=P(Sr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(xe(t=>!t))}constructor(){P(ms,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=P(mt);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=st.NULL){return this._injector.get(ke).run(()=>{je(10);let s=t instanceof Ef;if(!this._injector.get(X_).done){let x="";throw new Q(405,x)}let l;s?l=t:l=this._injector.get(Ll).resolveComponentFactory(t),this.componentTypes.push(l.componentType);let u=ox(l)?void 0:this._injector.get(ds),h=r||l.selector,g=l.create(i,[],h,u),v=g.location.nativeElement,w=g.injector.get(Q_,null);return w?.registerApplication(v),g.onDestroy(()=>{this.detachView(g.hostView),Dl(this.components,g),w?.unregisterApplication(v)}),this._loadComponent(g),je(11,g),g})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){je(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(mf.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new Q(101,!1);let t=fe(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,fe(t),this.afterTick.next(),je(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ls,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<Pj;)je(14),this.synchronizeOnce(),je(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!El(i))continue;let o=r&&!this.zonelessEnabled?0:1;NA(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>El(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Dl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(Vl,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Dl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Q(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function jl(n,e,t,r){let i=me(),o=os();if(or(i,o,e)){let s=xt(),a=Ah();tV(a,i,n,e,t,r)}return jl}var OX=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var l_=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Nv(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function Nj(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let l=e.length-1;for(;o<=s&&o<=l;){let u=n.at(o),h=e[o],g=Nv(o,u,o,h,t);if(g!==0){g<0&&n.updateValue(o,h),o++;continue}let v=n.at(s),w=e[l],x=Nv(s,v,l,w,t);if(x!==0){x<0&&n.updateValue(s,w),s--,l--;continue}let F=t(o,u),O=t(s,v),W=t(o,h);if(Object.is(W,O)){let se=t(l,w);Object.is(se,F)?(n.swap(o,s),n.updateValue(s,w),l--,s--):n.move(s,o),n.updateValue(o,h),o++;continue}if(r??=new of,i??=vS(n,o,s,t),u_(n,r,o,W))n.updateValue(o,h),o++,s++;else if(i.has(W))r.set(F,n.detach(o)),s--;else{let se=n.create(o,e[o]);n.attach(o,se),o++,s++}}for(;o<=l;)yS(n,r,t,o,e[o]),o++}else if(e!=null){let l=e[Symbol.iterator](),u=l.next();for(;!u.done&&o<=s;){let h=n.at(o),g=u.value,v=Nv(o,h,o,g,t);if(v!==0)v<0&&n.updateValue(o,g),o++,u=l.next();else{r??=new of,i??=vS(n,o,s,t);let w=t(o,g);if(u_(n,r,o,w))n.updateValue(o,g),o++,s++,u=l.next();else if(!i.has(w))n.attach(o,n.create(o,g)),o++,s++,u=l.next();else{let x=t(o,h);r.set(x,n.detach(o)),s--}}}for(;!u.done;)yS(n,r,t,n.length,u.value),u=l.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(l=>{n.destroy(l)})}function u_(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function yS(n,e,t,r,i){if(u_(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function vS(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var of=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function G(n,e,t,r,i,o,s,a){sr("NgControlFlow");let l=me(),u=xt(),h=Tr(u.consts,o);return rf(l,u,n,e,t,r,i,h,256,s,a),e0}function e0(n,e,t,r,i,o,s,a){sr("NgControlFlow");let l=me(),u=xt(),h=Tr(u.consts,o);return rf(l,u,n,e,t,r,i,h,512,s,a),e0}function J(n,e){sr("NgControlFlow");let t=me(),r=os(),i=t[r]!==Sn?t[r]:-1,o=i!==-1?sf(t,wt+i):void 0,s=0;if(or(t,r,n)){let a=fe(null);try{if(o!==void 0&&jA(o,s),n!==-1){let l=wt+n,u=sf(t,l),h=p_(t[ce],l),g=BA(u,h,t),v=vf(t,h,e,{dehydratedView:g});_f(u,v,s,Al(h,g))}}finally{fe(a)}}else if(o!==void 0){let a=VA(o,s);a!==void 0&&(a[gt]=e)}}var d_=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-at}};function vi(n){return n}function Ul(n,e){return e}var h_=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function He(n,e,t,r,i,o,s,a,l,u,h,g,v){sr("NgControlFlow");let w=me(),x=xt(),F=l!==void 0,O=me(),W=a?s.bind(O[Cn][gt]):s,se=new h_(F,W);O[wt+n]=se,rf(w,x,n+1,e,t,r,i,Tr(x.consts,o),256),F&&rf(w,x,n+2,l,u,h,g,Tr(x.consts,v),512)}var f_=class extends l_{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-at}at(e){return this.getLView(e)[gt].$implicit}attach(e,t){let r=t[ba];this.needsIndexUpdate||=e!==this.length,_f(this.lContainer,t,e,Al(this.templateTNode,r)),kj(this.lContainer,e)}detach(e){return this.needsIndexUpdate||=e!==this.length-1,Oj(this.lContainer,e),Fj(this.lContainer,e)}create(e,t){let r=Xv(this.lContainer,this.templateTNode.tView.ssrId),i=vf(this.hostLView,this.templateTNode,new d_(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){gf(e[ce],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[gt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[gt].$index=e}getLView(e){return Lj(this.lContainer,e)}};function ze(n){let e=fe(null),t=di();try{let r=me(),i=r[ce],o=r[t],s=t+1,a=sf(r,s);if(o.liveCollection===void 0){let u=p_(i,s);o.liveCollection=new f_(a,r,u)}else o.liveCollection.reset();let l=o.liveCollection;if(Nj(l,n,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){let u=os(),h=l.length===0;if(or(r,u,h)){let g=t+2,v=sf(r,g);if(h){let w=p_(i,g),x=BA(v,w,r),F=vf(r,w,void 0,{dehydratedView:x});_f(v,F,0,Al(w,x))}else i.firstUpdatePass&&SV(v),jA(v,0)}}}finally{fe(e)}}function sf(n,e){return n[e]}function kj(n,e){if(n.length<=at)return;let t=at+e,r=n[t],i=r?r[ns]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[ui];M2(o,i),cs.delete(r),i.detachedLeaveAnimationFns=void 0}}function Oj(n,e){if(n.length<=at)return;let t=at+e,r=n[t],i=r?r[ns]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function Fj(n,e){return Ml(n,e)}function Lj(n,e){return VA(n,e)}function p_(n,e){return bl(n,e)}function z(n,e,t){let r=me(),i=os();if(or(r,i,e)){let o=xt(),s=Ah();TA(s,r,n,e,r[nt],t)}return z}function _S(n,e,t,r,i){B_(e,n,t,i?"class":"style",r)}function f(n,e,t,r){let i=me(),o=i[ce],s=n+wt,a=o.firstCreatePass?WA(s,i,2,e,SA,dv(),t,r):o.data[s];if(iV(a,i,n,e,Vj),_l(a)){let l=i[ce];j_(l,i,a),YS(l,a,i)}return r!=null&&U_(i,a),f}function m(){let n=xt(),e=Bt(),t=oV(e);return n.firstCreatePass&&GA(n,t),IT(t)&&CT(),ET(),t.classesWithoutHost!=null&&pL(t)&&_S(n,t,me(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&mL(t)&&_S(n,t,me(),t.stylesWithoutHost,!1),m}function te(n,e,t,r){return f(n,e,t,r),m(),te}var Vj=(n,e,t,r,i)=>(Mh(!0),lA(e[nt],r,LT()));function re(){return me()}var Fh=void 0;function jj(n){let e=Math.floor(Math.abs(n)),t=n.toString().replace(/^[^.]*\.?/,"").length;return e===1&&t===0?1:5}var Uj=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fh,"{1} 'at' {0}",Fh],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",jj],kv={};function An(n){let e=Bj(n),t=bS(e);if(t)return t;let r=e.split("-")[0];if(t=bS(r),t)return t;if(r==="en")return Uj;throw new Q(701,!1)}function bS(n){return n in kv||(kv[n]=Zn.ng&&Zn.ng.common&&Zn.ng.common.locales&&Zn.ng.common.locales[n]),kv[n]}var _t=(function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n})(_t||{});function Bj(n){return n.toLowerCase().replace(/_/g,"-")}var Bl="en-US";var $j=Bl;function sx(n){typeof n=="string"&&($j=n.toLowerCase().replace(/_/g,"-"))}function V(n,e,t){let r=me(),i=xt(),o=Bt();return ax(i,r,r[nt],o,n,e,t),V}function ax(n,e,t,r,i,o,s){let a=!0,l=null;if((r.type&3||s)&&(l??=Mv(r,e,o),HV(r,n,e,s,t,i,o,l)&&(a=!1)),a){let u=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let g=0;g<h.length;g+=2){let v=h[g],w=h[g+1];l??=Mv(r,e,o),fS(r,e,v,w,i,l)}if(u&&u.length)for(let g of u)l??=Mv(r,e,o),fS(r,e,g,i,i,l)}}function S(n=1){return FT(n)}function t0(n,e,t,r){fj(n,e,t,r)}function n0(n){let e=me(),t=xt(),r=yv();Dh(r+1);let i=J_(t,r);if(n.dirty&&pT(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=yj(e,r);n.reset(o,AL),n.notifyOnChanges()}return!0}return!1}function r0(){return dj(me(),yv())}function Lh(n,e){return n<<17|e<<2}function hs(n){return n>>17&32767}function Hj(n){return(n&2)==2}function zj(n,e){return n&131071|e<<17}function m_(n){return n|2}function Ra(n){return(n&131068)>>2}function Ov(n,e){return n&-131069|e<<2}function qj(n){return(n&1)===1}function g_(n){return n|1}function Wj(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=hs(s),l=Ra(s);n[r]=t;let u=!1,h;if(Array.isArray(t)){let g=t;h=g[1],(h===null||_a(g,h)>0)&&(u=!0)}else h=t;if(i)if(l!==0){let v=hs(n[a+1]);n[r+1]=Lh(v,a),v!==0&&(n[v+1]=Ov(n[v+1],r)),n[a+1]=zj(n[a+1],r)}else n[r+1]=Lh(a,0),a!==0&&(n[a+1]=Ov(n[a+1],r)),a=r;else n[r+1]=Lh(l,0),a===0?a=r:n[l+1]=Ov(n[l+1],r),l=r;u&&(n[r+1]=m_(n[r+1])),ES(n,h,r,!0),ES(n,h,r,!1),Gj(e,h,n,r,o),s=Lh(a,l),o?e.classBindings=s:e.styleBindings=s}function Gj(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&_a(o,e)>=0&&(t[r+1]=g_(t[r+1]))}function ES(n,e,t,r){let i=n[t+1],o=e===null,s=r?hs(i):Ra(i),a=!1;for(;s!==0&&(a===!1||o);){let l=n[s],u=n[s+1];Jj(l,e)&&(a=!0,n[s+1]=r?g_(u):m_(u)),s=r?hs(u):Ra(u)}a&&(n[t+1]=r?m_(i):g_(i))}function Jj(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?_a(n,e)>=0:!1}function ct(n,e){return Kj(n,e,null,!0),ct}function Kj(n,e,t,r){let i=me(),o=xt(),s=gv(2);if(o.firstUpdatePass&&Yj(o,n,s,r),e!==Sn&&or(i,s,e)){let a=o.data[di()];nU(o,a,i,i[nt],n,i[s+1]=rU(e,t),r,s)}}function Qj(n,e){return e>=n.expandoStartIndex}function Yj(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[di()],s=Qj(n,t);iU(o,r)&&e===null&&!s&&(e=!1),e=Zj(i,o,e,r),Wj(i,o,e,t,s,r)}}function Zj(n,e,t,r){let i=PT(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Fv(null,n,e,t,r),t=Pl(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Fv(i,n,e,t,r),o===null){let l=Xj(n,e,r);l!==void 0&&Array.isArray(l)&&(l=Fv(null,n,e,l[1],r),l=Pl(l,e.attrs,r),eU(n,e,r,l))}else o=tU(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Xj(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Ra(r)!==0)return n[hs(r)]}function eU(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[hs(i)]=r}function tU(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Pl(r,s,t)}return Pl(r,e.attrs,t)}function Fv(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Pl(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Pl(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),rT(n,s,t?!0:e[++o]))}return n===void 0?null:n}function nU(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let l=n.data,u=l[a+1],h=qj(u)?wS(l,e,t,i,Ra(u),s):void 0;if(!af(h)){af(o)||Hj(u)&&(o=wS(l,null,t,i,a,s));let g=rv(di(),t);q2(r,s,g,i,o)}}function wS(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let l=n[i],u=Array.isArray(l),h=u?l[1]:l,g=h===null,v=t[i+1];v===Sn&&(v=g?In:void 0);let w=g?bh(v,r):h===r?v:void 0;if(u&&!af(w)&&(w=bh(l,r)),af(w)&&(a=w,s))return a;let x=n[i+1];i=s?hs(x):Ra(x)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=bh(l,r))}return a}function af(n){return n!==void 0}function rU(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=si(ka(n)))),n}function iU(n,e){return(n.flags&(e?8:16))!==0}function y(n,e=""){let t=me(),r=xt(),i=n+wt,o=r.firstCreatePass?bf(r,i,1,e,null):r.data[i],s=oU(r,t,o,e,n);t[i]=s,xh()&&L_(r,t,s,o),Da(o,!1)}var oU=(n,e,t,r,i)=>(Mh(!0),p2(e[nt],r));function cx(n,e,t,r=""){return or(n,os(),t)?e+Zi(t)+r:Sn}function sU(n,e,t,r,i,o=""){let s=ST(),a=G_(n,s,t,i);return gv(2),a?e+Zi(t)+r+Zi(i)+o:Sn}function H(n){return De("",n),H}function De(n,e,t){let r=me(),i=cx(r,n,e,t);return i!==Sn&&lx(r,di(),i),De}function an(n,e,t,r,i){let o=me(),s=sU(o,n,e,t,r,i);return s!==Sn&&lx(o,di(),s),an}function lx(n,e,t){let r=rv(e,n);m2(n[nt],r,t)}function ge(n,e,t){Iv(e)&&(e=e());let r=me(),i=os();if(or(r,i,e)){let o=xt(),s=Ah();TA(s,r,n,e,r[nt],t)}return ge}function Ee(n,e){let t=Iv(n);return t&&n.set(e),t}function ye(n,e){let t=me(),r=xt(),i=Bt();return ax(r,t,t[nt],i,n,e),ye}function Tf(n,e,t=""){return cx(me(),n,e,t)}function aU(n,e,t){let r=xt();if(r.firstCreatePass){let i=Dr(n);y_(t,r.data,r.blueprint,i,!0),y_(e,r.data,r.blueprint,i,!1)}}function y_(n,e,t,r,i){if(n=Ut(n),Array.isArray(n))for(let o=0;o<n.length;o++)y_(n[o],e,t,r,i);else{let o=xt(),s=me(),a=Bt(),l=Qo(n)?n:Ut(n.provide),u=Zy(n),h=a.providerIndexes&1048575,g=a.directiveStart,v=a.providerIndexes>>20;if(Qo(n)||!n.multi){let w=new as(u,i,le,null),x=Vv(l,e,i?h:h+v,g);x===-1?(Uv(Wh(a,s),o,l),Lv(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(w),s.push(w)):(t[x]=w,s[x]=w)}else{let w=Vv(l,e,h+v,g),x=Vv(l,e,h,h+v),F=w>=0&&t[w],O=x>=0&&t[x];if(i&&!O||!i&&!F){Uv(Wh(a,s),o,l);let W=uU(i?lU:cU,t.length,i,r,u,n);!i&&O&&(t[x].providerFactory=W),Lv(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(W),s.push(W)}else{let W=ux(t[i?x:w],u,!i&&r);Lv(o,n,w>-1?w:x,W)}!i&&r&&O&&t[x].componentProviders++}}}function Lv(n,e,t,r){let i=Qo(e),o=lT(e);if(i||o){let l=(o?Ut(e.useClass):e).prototype.ngOnDestroy;if(l){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=u.indexOf(t);h===-1?u.push(t,[r,l]):u[h+1].push(r,l)}else u.push(t,l)}}}function ux(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Vv(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function cU(n,e,t,r,i){return v_(this.multi,[])}function lU(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,l=Sl(r,r[ce],this.providerFactory.index,i);s=l.slice(0,a),v_(o,s);for(let u=a;u<l.length;u++)s.push(l[u])}else s=[],v_(o,s);return s}function v_(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function uU(n,e,t,r,i,o){let s=new as(n,t,le,null);return s.multi=[],s.index=e,s.componentProviders=0,ux(s,i,r&&!t),s}function ao(n,e=[]){return t=>{t.providersResolver=(r,i)=>aU(r,i?i(n):n,e)}}function gs(n,e,t){let r=Ta()+n,i=me();return i[r]===Sn?wf(i,r,t?e.call(t):e()):BV(i,r)}function i0(n,e,t,r,i){return dx(me(),Ta(),n,e,t,r,i)}function Sf(n,e,t,r,i,o){return hU(me(),Ta(),n,e,t,r,i,o)}function o0(n,e){let t=n[e];return t===Sn?void 0:t}function dU(n,e,t,r,i,o){let s=e+t;return or(n,s,i)?wf(n,s+1,o?r.call(o,i):r(i)):o0(n,s+1)}function dx(n,e,t,r,i,o,s){let a=e+t;return G_(n,a,i,o)?wf(n,a+2,s?r.call(s,i,o):r(i,o)):o0(n,a+2)}function hU(n,e,t,r,i,o,s,a){let l=e+t;return $V(n,l,i,o,s)?wf(n,l+3,a?r.call(a,i,o,s):r(i,o,s)):o0(n,l+3)}function Hn(n,e){let t=xt(),r,i=n+wt;t.firstCreatePass?(r=fU(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Ki(r.type,!0)),s,a=on(le);try{let l=qh(!1),u=o();return qh(l),ov(t,me(),i,u),u}finally{on(a)}}function fU(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function La(n,e,t){let r=n+wt,i=me(),o=iv(i,r);return hx(i,r)?dU(i,Ta(),e,o.transform,t,o):o.transform(t)}function co(n,e,t,r){let i=n+wt,o=me(),s=iv(o,i);return hx(o,i)?dx(o,Ta(),e,s.transform,t,r,s):s.transform(t,r)}function hx(n,e){return n[ce].data[e].pure}var cf=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},s0=(()=>{class n{compileModuleSync(t){return new nf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Jy(t),o=aA(i.declarations).reduce((s,a)=>{let l=li(a);return l&&s.push(new us(l)),s},[]);return new cf(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pU=(()=>{class n{zone=P(ke);changeDetectionScheduler=P(ai);applicationRef=P(yi);applicationErrorHandler=P(sn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fx=new Z("",{factory:()=>!1});function a0({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ke(ne(j({},l0()),{scheduleInRootZone:t})),[{provide:ke,useFactory:n},{provide:ci,multi:!0,useFactory:()=>{let r=P(pU,{optional:!0});return()=>r.initialize()}},{provide:ci,multi:!0,useFactory:()=>{let r=P(mU);return()=>{r.initialize()}}},e===!0?{provide:Cv,useValue:!0}:[],{provide:Dv,useValue:t??gA},{provide:sn,useFactory:()=>{let r=P(ke),i=P(mt),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Yn),o.handleError(s))})}}}]}function c0(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=a0({ngZoneFactory:()=>{let i=l0(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&sr("NgZone_CoalesceEvent"),new ke(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return mn([{provide:fx,useValue:!0},{provide:wl,useValue:!1},r])}function l0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var mU=(()=>{class n{subscription=new ot;initialized=!1;zone=P(ke);pendingTasks=P(Sr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ke.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var px=(()=>{class n{applicationErrorHandler=P(sn);appRef=P(yi);taskService=P(Sr);ngZone=P(ke);zonelessEnabled=P(wl);tracing=P(ms,{optional:!0});disableScheduling=P(Cv,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ot;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Qh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(Dv,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Yh||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?nS:yA;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Qh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,nS(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gU(){return typeof $localize<"u"&&$localize.locale||Bl}var $l=new Z("",{providedIn:"root",factory:()=>P($l,{optional:!0,skipSelf:!0})||gU()});function Pt(n){return qD(n)}function gn(n,e){return Bd(n,e?.equal)}var mx=class{[Jt];constructor(e){this[Jt]=e}destroy(){this[Jt].destroy()}};var bx=Symbol("InputSignalNode#UNSET"),AU=ne(j({},$d),{transformFn:void 0,applyValueToInputSignal(n,e){ia(n,e)}});function Ex(n,e){let t=Object.create(AU);t.value=n,t.transformFn=e?.transform;function r(){if(ta(t),t.value===bx){let i=null;throw new Q(-950,i)}return t.value}return r[Jt]=t,r}var xf=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Nl(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},xU=new Z("");xU.__NG_ELEMENT_ID__=n=>{let e=Bt();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new Q(204,!1)};function gx(n,e){return Ex(n,e)}function MU(n){return Ex(bx,n)}var wx=(gx.required=MU,gx);var u0=new Z(""),RU=new Z("");function Hl(n){return!n.moduleRef}function PU(n){let e=Hl(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ke);return t.run(()=>{Hl(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(sn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),Hl(n)){let o=()=>e.destroy(),s=n.platformInjector.get(u0);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(u0);s.add(o),n.moduleRef.onDestroy(()=>{Dl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return kU(r,t,()=>{let o=e.get(Sr),s=o.add(),a=e.get(X_);return a.runInitializers(),a.donePromise.then(()=>{let l=e.get($l,Bl);if(sx(l||Bl),!e.get(RU,!0))return Hl(n)?e.get(yi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(Hl(n)){let h=e.get(yi);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return NU?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var NU;function kU(n,e,t){try{let r=t();return so(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Af=null;function OU(n=[],e){return st.create({name:e,providers:[{provide:pl,useValue:"platform"},{provide:u0,useValue:new Set([()=>Af=null])},...n]})}function FU(n=[]){if(Af)return Af;let e=OU(n);return Af=e,ix(),LU(e),e}function LU(n){let e=n.get(uf,null);Et(n,()=>{e?.forEach(t=>t())})}function m0(){return!1}var _i=(()=>{class n{static __NG_ELEMENT_ID__=VU}return n})();function VU(n){return jU(Bt(),me(),(n&16)===16)}function jU(n,e,t){if(no(n)&&!t){let r=Vn(n.index,e);return new io(r,r)}else if(n.type&175){let r=e[Cn];return new io(r,e)}return null}var d0=class{constructor(){}supports(e){return W_(e)}create(e){return new h0(e)}},UU=(n,e)=>e,h0=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||UU}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<yx(r,i,o)?t:r,a=yx(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,h=l-i;if(u!=h){for(let v=0;v<u;v++){let w=v<o.length?o[v]:o[v]=0,x=w+v;h<=x&&x<u&&(o[v]=w+1)}let g=s.previousIndex;o[g]=h-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!W_(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,JA(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new f0(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Mf),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Mf),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},f0=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},p0=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},Mf=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new p0,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function yx(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function vx(){return new g0([new d0])}var g0=(()=>{class n{factories;static \u0275prov=X({token:n,providedIn:"root",factory:vx});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=P(n,{optional:!0,skipSelf:!0});return n.create(t,r||vx())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new Q(901,!1)}}return n})();function Ix(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;je(8);try{let o=i?.injector??FU(r),s=[a0({}),{provide:ai,useExisting:px},jT,...t||[]],a=new Rl({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return PU({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{je(9)}}function ys(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Cx(n){let e=li(n);if(!e)return null;let t=new us(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Sx=null;function zn(){return Sx}function y0(n){Sx??=n}var zl=class{},ql=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>P(Ax),providedIn:"platform"})}return n})(),v0=new Z(""),Ax=(()=>{class n extends ql{_location;_history;_doc=P(yt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zn().getBaseHref(this._doc)}onPopState(t){let r=zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Rf(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function Dx(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function cr(n){return n&&n[0]!=="?"?`?${n}`:n}var lr=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>P(Nf),providedIn:"root"})}return n})(),Pf=new Z(""),Nf=(()=>{class n extends lr{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Rf(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+cr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+cr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+cr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(de(ql),de(Pf,8))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lo=(()=>{class n{_subject=new ft;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=HU(Dx(Tx(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+cr(r))}normalize(t){return n.stripTrailingSlash($U(this._basePath,Tx(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+cr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=cr;static joinWithSlash=Rf;static stripTrailingSlash=Dx;static \u0275fac=function(r){return new(r||n)(de(lr))};static \u0275prov=X({token:n,factory:()=>BU(),providedIn:"root"})}return n})();function BU(){return new lo(de(lr))}function $U(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Tx(n){return n.replace(/\/index.html$/,"")}function HU(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var I0=(()=>{class n extends lr{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Rf(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+cr(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+cr(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(de(ql),de(Pf,8))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})();var Qt=(function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n})(Qt||{}),Ue=(function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n})(Ue||{}),yn=(function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n})(yn||{}),Ei={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Nx(n){return An(n)[_t.LocaleId]}function kx(n,e,t){let r=An(n),i=[r[_t.DayPeriodsFormat],r[_t.DayPeriodsStandalone]],o=qn(i,e);return qn(o,t)}function Ox(n,e,t){let r=An(n),i=[r[_t.DaysFormat],r[_t.DaysStandalone]],o=qn(i,e);return qn(o,t)}function Fx(n,e,t){let r=An(n),i=[r[_t.MonthsFormat],r[_t.MonthsStandalone]],o=qn(i,e);return qn(o,t)}function Lx(n,e){let r=An(n)[_t.Eras];return qn(r,e)}function Wl(n,e){let t=An(n);return qn(t[_t.DateFormat],e)}function Gl(n,e){let t=An(n);return qn(t[_t.TimeFormat],e)}function Jl(n,e){let r=An(n)[_t.DateTimeFormat];return qn(r,e)}function Kl(n,e){let t=An(n),r=t[_t.NumberSymbols][e];if(typeof r>"u"){if(e===Ei.CurrencyDecimal)return t[_t.NumberSymbols][Ei.Decimal];if(e===Ei.CurrencyGroup)return t[_t.NumberSymbols][Ei.Group]}return r}function Vx(n){if(!n[_t.ExtraData])throw new Q(2303,!1)}function jx(n){let e=An(n);return Vx(e),(e[_t.ExtraData][2]||[]).map(r=>typeof r=="string"?_0(r):[_0(r[0]),_0(r[1])])}function Ux(n,e,t){let r=An(n);Vx(r);let i=[r[_t.ExtraData][0],r[_t.ExtraData][1]],o=qn(i,e)||[];return qn(o,t)||[]}function qn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Q(2304,!1)}function _0(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var zU=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,kf={},qU=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Bx(n,e,t,r){let i=e3(n);e=bi(t,e)||e;let s=[],a;for(;e;)if(a=qU.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let l=i.getTimezoneOffset();r&&(l=Hx(r,l),i=XU(i,r));let u="";return s.forEach(h=>{let g=YU(h);u+=g?g(i,t,l):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function jf(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function bi(n,e){let t=Nx(n);if(kf[t]??={},kf[t][e])return kf[t][e];let r="";switch(e){case"shortDate":r=Wl(n,yn.Short);break;case"mediumDate":r=Wl(n,yn.Medium);break;case"longDate":r=Wl(n,yn.Long);break;case"fullDate":r=Wl(n,yn.Full);break;case"shortTime":r=Gl(n,yn.Short);break;case"mediumTime":r=Gl(n,yn.Medium);break;case"longTime":r=Gl(n,yn.Long);break;case"fullTime":r=Gl(n,yn.Full);break;case"short":let i=bi(n,"shortTime"),o=bi(n,"shortDate");r=Of(Jl(n,yn.Short),[i,o]);break;case"medium":let s=bi(n,"mediumTime"),a=bi(n,"mediumDate");r=Of(Jl(n,yn.Medium),[s,a]);break;case"long":let l=bi(n,"longTime"),u=bi(n,"longDate");r=Of(Jl(n,yn.Long),[l,u]);break;case"full":let h=bi(n,"fullTime"),g=bi(n,"fullDate");r=Of(Jl(n,yn.Full),[h,g]);break}return r&&(kf[t][e]=r),r}function Of(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function ur(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function WU(n,e){return ur(n,3).substring(0,e)}function It(n,e,t=0,r=!1,i=!1){return function(o,s){let a=GU(n,o);if((t>0||a>-t)&&(a+=t),n===3)a===0&&t===-12&&(a=12);else if(n===6)return WU(a,e);let l=Kl(s,Ei.MinusSign);return ur(a,e,l,r,i)}}function GU(n,e){switch(n){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate();case 3:return e.getHours();case 4:return e.getMinutes();case 5:return e.getSeconds();case 6:return e.getMilliseconds();case 7:return e.getDay();default:throw new Q(2301,!1)}}function We(n,e,t=Qt.Format,r=!1){return function(i,o){return JU(i,o,n,e,t,r)}}function JU(n,e,t,r,i,o){switch(t){case 2:return Fx(e,i,r)[n.getMonth()];case 1:return Ox(e,i,r)[n.getDay()];case 0:let s=n.getHours(),a=n.getMinutes();if(o){let u=jx(e),h=Ux(e,i,r),g=u.findIndex(v=>{if(Array.isArray(v)){let[w,x]=v,F=s>=w.hours&&a>=w.minutes,O=s<x.hours||s===x.hours&&a<x.minutes;if(w.hours<x.hours){if(F&&O)return!0}else if(F||O)return!0}else if(v.hours===s&&v.minutes===a)return!0;return!1});if(g!==-1)return h[g]}return kx(e,i,r)[s<12?0:1];case 3:return Lx(e,r)[n.getFullYear()<=0?0:1];default:let l=t;throw new Q(2302,!1)}}function Ff(n){return function(e,t,r){let i=-1*r,o=Kl(t,Ei.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case 0:return(i>=0?"+":"")+ur(s,2,o)+ur(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+ur(s,1,o);case 2:return"GMT"+(i>=0?"+":"")+ur(s,2,o)+":"+ur(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+ur(s,2,o)+":"+ur(Math.abs(i%60),2,o);default:throw new Q(2310,!1)}}}var KU=0,Vf=4;function QU(n){let e=jf(n,KU,1).getDay();return jf(n,0,1+(e<=Vf?Vf:Vf+7)-e)}function $x(n){let e=n.getDay(),t=e===0?-3:Vf-e;return jf(n.getFullYear(),n.getMonth(),n.getDate()+t)}function b0(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=$x(t),s=QU(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return ur(i,n,Kl(r,Ei.MinusSign))}}function Lf(n,e=!1){return function(t,r){let o=$x(t).getFullYear();return ur(o,n,Kl(r,Ei.MinusSign),e)}}var E0={};function YU(n){if(E0[n])return E0[n];let e;switch(n){case"G":case"GG":case"GGG":e=We(3,Ue.Abbreviated);break;case"GGGG":e=We(3,Ue.Wide);break;case"GGGGG":e=We(3,Ue.Narrow);break;case"y":e=It(0,1,0,!1,!0);break;case"yy":e=It(0,2,0,!0,!0);break;case"yyy":e=It(0,3,0,!1,!0);break;case"yyyy":e=It(0,4,0,!1,!0);break;case"Y":e=Lf(1);break;case"YY":e=Lf(2,!0);break;case"YYY":e=Lf(3);break;case"YYYY":e=Lf(4);break;case"M":case"L":e=It(1,1,1);break;case"MM":case"LL":e=It(1,2,1);break;case"MMM":e=We(2,Ue.Abbreviated);break;case"MMMM":e=We(2,Ue.Wide);break;case"MMMMM":e=We(2,Ue.Narrow);break;case"LLL":e=We(2,Ue.Abbreviated,Qt.Standalone);break;case"LLLL":e=We(2,Ue.Wide,Qt.Standalone);break;case"LLLLL":e=We(2,Ue.Narrow,Qt.Standalone);break;case"w":e=b0(1);break;case"ww":e=b0(2);break;case"W":e=b0(1,!0);break;case"d":e=It(2,1);break;case"dd":e=It(2,2);break;case"c":case"cc":e=It(7,1);break;case"ccc":e=We(1,Ue.Abbreviated,Qt.Standalone);break;case"cccc":e=We(1,Ue.Wide,Qt.Standalone);break;case"ccccc":e=We(1,Ue.Narrow,Qt.Standalone);break;case"cccccc":e=We(1,Ue.Short,Qt.Standalone);break;case"E":case"EE":case"EEE":e=We(1,Ue.Abbreviated);break;case"EEEE":e=We(1,Ue.Wide);break;case"EEEEE":e=We(1,Ue.Narrow);break;case"EEEEEE":e=We(1,Ue.Short);break;case"a":case"aa":case"aaa":e=We(0,Ue.Abbreviated);break;case"aaaa":e=We(0,Ue.Wide);break;case"aaaaa":e=We(0,Ue.Narrow);break;case"b":case"bb":case"bbb":e=We(0,Ue.Abbreviated,Qt.Standalone,!0);break;case"bbbb":e=We(0,Ue.Wide,Qt.Standalone,!0);break;case"bbbbb":e=We(0,Ue.Narrow,Qt.Standalone,!0);break;case"B":case"BB":case"BBB":e=We(0,Ue.Abbreviated,Qt.Format,!0);break;case"BBBB":e=We(0,Ue.Wide,Qt.Format,!0);break;case"BBBBB":e=We(0,Ue.Narrow,Qt.Format,!0);break;case"h":e=It(3,1,-12);break;case"hh":e=It(3,2,-12);break;case"H":e=It(3,1);break;case"HH":e=It(3,2);break;case"m":e=It(4,1);break;case"mm":e=It(4,2);break;case"s":e=It(5,1);break;case"ss":e=It(5,2);break;case"S":e=It(6,1);break;case"SS":e=It(6,2);break;case"SSS":e=It(6,3);break;case"Z":case"ZZ":case"ZZZ":e=Ff(0);break;case"ZZZZZ":e=Ff(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ff(1);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ff(2);break;default:return null}return E0[n]=e,e}function Hx(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function ZU(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function XU(n,e,t){let i=n.getTimezoneOffset(),o=Hx(e,i);return ZU(n,-1*(o-i))}function e3(n){if(xx(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return jf(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(zU))return t3(r)}let e=new Date(n);if(!xx(e))throw new Q(2311,!1);return e}function t3(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,l=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,l,u),e}function xx(n){return n instanceof Date&&!isNaN(n.valueOf())}var w0=/\s+/,Mx=[],dr=(()=>{class n{_ngEl;_renderer;initialClasses=Mx;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(w0):Mx}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(w0):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(w0).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(le(Kt),le(Un))};static \u0275dir=Xe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Uf=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},$f=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Uf(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),Rx(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);Rx(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(le(gi),le(oo),le(g0))};static \u0275dir=Xe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Rx(n,e){n.context.$implicit=e.item}var vs=(()=>{class n{_viewContainer;_context=new Bf;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Px(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Px(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(le(gi),le(oo))};static \u0275dir=Xe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Bf=class{$implicit=null;ngIf=null};function Px(n,e){if(n&&!n.createEmbeddedView)throw new Q(2020,!1)}function zx(n,e){return new Q(2100,!1)}var n3=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Ql=(()=>{class n{transform(t){if(t==null)return null;if(typeof t!="string")throw zx(n,t);return t.replace(n3,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||n)};static \u0275pipe=Cf({name:"titlecase",type:n,pure:!0})}return n})();var r3="mediumDate",qx=new Z(""),Wx=new Z(""),Yl=(()=>{class n{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??r3,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Bx(t,s,o||this.locale,a)}catch(s){throw zx(n,s.message)}}static \u0275fac=function(r){return new(r||n)(le($l,16),le(qx,24),le(Wx,24))};static \u0275pipe=Cf({name:"date",type:n,pure:!0})}return n})();var ut=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Mr({type:n});static \u0275inj=er({})}return n})();function C0(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Zl=class{};var Gx="browser";var Jx=(()=>{class n{static \u0275prov=X({token:n,providedIn:"root",factory:()=>new D0(P(yt),window)})}return n})(),D0=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(ne(j({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=i3(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Yi(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(ne(j({},t),{left:i-s[0],top:o-s[1]}))}};function i3(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Xl=class{_doc;constructor(e){this._doc=e}manager},Hf=(()=>{class n extends Xl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(de(yt))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),qf=new Z(""),M0=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Hf));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Hf);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(de(qf),de(ke))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),T0="ng-app-id";function Kx(n){for(let e of n)e.remove()}function Qx(n,e){let t=e.createElement("style");return t.textContent=n,t}function o3(n,e,t,r){let i=n.head?.querySelectorAll(`style[${T0}="${e}"],link[${T0}="${e}"]`);if(i)for(let o of i)o.removeAttribute(T0),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function A0(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var R0=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,o3(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Qx);r?.forEach(i=>this.addUsage(i,this.external,A0))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Kx(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Kx(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Qx(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,A0(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(de(yt),de(lf),de(df,8),de(fs))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),S0={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},P0=/%COMP%/g;var Zx="%COMP%",s3=`_nghost-${Zx}`,a3=`_ngcontent-${Zx}`,c3=!0,l3=new Z("",{providedIn:"root",factory:()=>c3});function u3(n){return a3.replace(P0,n)}function d3(n){return s3.replace(P0,n)}function Xx(n,e){return e.map(t=>t.replace(P0,n))}var N0=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,l=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=l,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new eu(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof zf?i.applyToHost(t):i instanceof tu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,g=this.platformIsServer,v=this.tracingService;switch(r.encapsulation){case hi.Emulated:o=new zf(l,u,r,this.appId,h,s,a,g,v);break;case hi.ShadowDom:return new x0(l,u,t,r,s,a,this.nonce,g,v);default:o=new tu(l,u,r,h,s,a,g,v);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(de(M0),de(R0),de(lf),de(l3),de(yt),de(ke),de(df),de(ms,8))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),eu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(S0[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Yx(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Yx(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=S0[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=S0[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(xr.DashCase|xr.Important)?e.style.setProperty(t,r,i&xr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&xr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=zn().getGlobalEventTarget(this.doc,e),!e))throw new Q(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function Yx(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var x0=class extends eu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,l,u){super(e,o,s,l,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=Xx(i.id,h);for(let v of h){let w=document.createElement("style");a&&w.setAttribute("nonce",a),w.textContent=v,this.shadowRoot.appendChild(w)}let g=i.getExternalStyles?.();if(g)for(let v of g){let w=A0(v,o);a&&w.setAttribute("nonce",a),this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},tu=class extends eu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,l,u){super(e,o,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=u?Xx(u,h):h,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&cs.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},zf=class extends tu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,l,u){let h=i+"-"+r.id;super(e,t,r,o,s,a,l,u,h),this.contentAttr=u3(h),this.hostAttr=d3(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Wf=class n extends zl{supportsDOMEvents=!0;static makeCurrent(){y0(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=h3();return t==null?null:f3(t)}resetBaseElement(){nu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return C0(document.cookie,e)}},nu=null;function h3(){return nu=nu||document.head.querySelector("base"),nu?nu.getAttribute("href"):null}function f3(n){return new URL(n,document.baseURI).pathname}var p3=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),e1=["alt","control","meta","shift"],m3={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},g3={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},t1=(()=>{class n extends Xl{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),e1.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(t,r){let i=m3[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),e1.forEach(s=>{if(s!==i){let a=g3[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(de(yt))};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})();function k0(n,e,t){let r=j({rootComponent:n,platformRef:t?.platformRef},y3(e));return Ix(r)}function y3(n){return{appProviders:[...w3,...n?.providers??[]],platformProviders:E3}}function v3(){Wf.makeCurrent()}function _3(){return new Yn}function b3(){return E_(document),document}var E3=[{provide:fs,useValue:Gx},{provide:uf,useValue:v3,multi:!0},{provide:yt,useFactory:b3}];var w3=[{provide:pl,useValue:"root"},{provide:Yn,useFactory:_3},{provide:qf,useClass:Hf,multi:!0,deps:[yt]},{provide:qf,useClass:t1,multi:!0,deps:[yt]},N0,R0,M0,{provide:ls,useExisting:N0},{provide:Zl,useClass:p3},[]];var n1=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(de(yt))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ve="primary",mu=Symbol("RouteTitle"),j0=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ws(n){return new j0(n)}function u1(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function C3(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Rr(n[t],e[t]))return!1;return!0}function Rr(n,e){let t=n?U0(n):void 0,r=e?U0(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!d1(n[i],e[i]))return!1;return!0}function U0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function d1(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function h1(n){return n.length>0?n[n.length-1]:null}function wi(n){return yy(n)?n:so(n)?Ke(Promise.resolve(n)):ae(n)}var D3={exact:p1,subset:m1},f1={exact:T3,subset:S3,ignored:()=>!0};function r1(n,e,t){return D3[t.paths](n.root,e.root,t.matrixParams)&&f1[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function T3(n,e){return Rr(n,e)}function p1(n,e,t){if(!bs(n.segments,e.segments)||!Kf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!p1(n.children[r],e.children[r],t))return!1;return!0}function S3(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>d1(n[t],e[t]))}function m1(n,e,t){return g1(n,e,e.segments,t)}function g1(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!bs(i,t)||e.hasChildren()||!Kf(i,t,r))}else if(n.segments.length===t.length){if(!bs(n.segments,t)||!Kf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!m1(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!bs(n.segments,i)||!Kf(n.segments,i,r)||!n.children[ve]?!1:g1(n.children[ve],e,o,r)}}function Kf(n,e,t){return e.every((r,i)=>f1[t](n[i].parameters,r.parameters))}var Nr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Oe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ws(this.queryParams),this._queryParamMap}toString(){return M3.serialize(this)}},Oe=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qf(this)}},uo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ws(this.parameters),this._parameterMap}toString(){return v1(this)}};function A3(n,e){return bs(n,e)&&n.every((t,r)=>Rr(t.parameters,e[r].parameters))}function bs(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function x3(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ve&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ve&&(t=t.concat(e(i,r)))}),t}var Is=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>new ho,providedIn:"root"})}return n})(),ho=class{parse(e){let t=new $0(e);return new Nr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${ru(e.root,!0)}`,r=N3(e.queryParams),i=typeof e.fragment=="string"?`#${R3(e.fragment)}`:"";return`${t}${r}${i}`}},M3=new ho;function Qf(n){return n.segments.map(e=>v1(e)).join("/")}function ru(n,e){if(!n.hasChildren())return Qf(n);if(e){let t=n.children[ve]?ru(n.children[ve],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ve&&r.push(`${i}:${ru(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=x3(n,(r,i)=>i===ve?[ru(n.children[ve],!1)]:[`${i}:${ru(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ve]!=null?`${Qf(n)}/${t[0]}`:`${Qf(n)}/(${t.join("//")})`}}function y1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gf(n){return y1(n).replace(/%3B/gi,";")}function R3(n){return encodeURI(n)}function B0(n){return y1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yf(n){return decodeURIComponent(n)}function i1(n){return Yf(n.replace(/\+/g,"%20"))}function v1(n){return`${B0(n.path)}${P3(n.parameters)}`}function P3(n){return Object.entries(n).map(([e,t])=>`;${B0(e)}=${B0(t)}`).join("")}function N3(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Gf(t)}=${Gf(i)}`).join("&"):`${Gf(t)}=${Gf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var k3=/^[^\/()?;#]+/;function O0(n){let e=n.match(k3);return e?e[0]:""}var O3=/^[^\/()?;=#]+/;function F3(n){let e=n.match(O3);return e?e[0]:""}var L3=/^[^=?&#]+/;function V3(n){let e=n.match(L3);return e?e[0]:""}var j3=/^[^&#]+/;function U3(n){let e=n.match(j3);return e?e[0]:""}var $0=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ve]=new Oe(e,t)),r}parseSegment(){let e=O0(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new uo(Yf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=F3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=O0(this.remaining);i&&(r=i,this.capture(r))}e[Yf(t)]=Yf(r)}parseQueryParam(e){let t=V3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=U3(this.remaining);s&&(r=s,this.capture(r))}let i=i1(t),o=i1(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=O0(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ve);let s=this.parseChildren();t[o??ve]=Object.keys(s).length===1&&s[ve]?s[ve]:new Oe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function _1(n){return n.segments.length>0?new Oe([],{[ve]:n}):n}function b1(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=b1(i);if(r===ve&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new Oe(n.segments,e);return B3(t)}function B3(n){if(n.numberOfChildren===1&&n.children[ve]){let e=n.children[ve];return new Oe(n.segments.concat(e.segments),e.children)}return n}function fo(n){return n instanceof Nr}function E1(n,e,t=null,r=null){let i=w1(n);return I1(i,e,t,r)}function w1(n){let e;function t(o){let s={};for(let l of o.children){let u=t(l);s[l.outlet]=u}let a=new Oe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=_1(r);return e??i}function I1(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return F0(i,i,i,t,r);let o=$3(e);if(o.toRoot())return F0(i,i,new Oe([],{}),t,r);let s=H3(o,i,n),a=s.processChildren?ou(s.segmentGroup,s.index,o.commands):D1(s.segmentGroup,s.index,o.commands);return F0(i,s.segmentGroup,a,t,r)}function Zf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function au(n){return typeof n=="object"&&n!=null&&n.outlets}function F0(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;n===e?s=t:s=C1(n,e,t);let a=_1(b1(s));return new Nr(a,o,i)}function C1(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=C1(o,e,t)}),new Oe(n.segments,r)}var Xf=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Zf(r[0]))throw new Q(4003,!1);let i=r.find(au);if(i&&i!==h1(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function $3(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Xf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Xf(t,e,r)}var Ua=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function H3(n,e,t){if(n.isAbsolute)return new Ua(e,!0,0);if(!t)return new Ua(e,!1,NaN);if(t.parent===null)return new Ua(t,!0,0);let r=Zf(n.commands[0])?0:1,i=t.segments.length-1+r;return z3(t,i,n.numberOfDoubleDots)}function z3(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new Ua(r,!1,i-o)}function q3(n){return au(n[0])?n[0].outlets:{[ve]:n}}function D1(n,e,t){if(n??=new Oe([],{}),n.segments.length===0&&n.hasChildren())return ou(n,e,t);let r=W3(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new Oe(n.segments.slice(0,r.pathIndex),{});return o.children[ve]=new Oe(n.segments.slice(r.pathIndex),n.children),ou(o,0,i)}else return r.match&&i.length===0?new Oe(n.segments,{}):r.match&&!n.hasChildren()?H0(n,e,t):r.match?ou(n,0,i):H0(n,e,t)}function ou(n,e,t){if(t.length===0)return new Oe(n.segments,{});{let r=q3(t),i={};if(Object.keys(r).some(o=>o!==ve)&&n.children[ve]&&n.numberOfChildren===1&&n.children[ve].segments.length===0){let o=ou(n.children[ve],e,t);return new Oe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=D1(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Oe(n.segments,i)}}function W3(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(au(a))break;let l=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!s1(l,u,s))return o;r+=2}else{if(!s1(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function H0(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(au(o)){let l=G3(o.outlets);return new Oe(r,l)}if(i===0&&Zf(t[0])){let l=n.segments[e];r.push(new uo(l.path,o1(t[0]))),i++;continue}let s=au(o)?o.outlets[ve]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Zf(a)?(r.push(new uo(s,o1(a))),i+=2):(r.push(new uo(s,{})),i++)}return new Oe(r,{})}function G3(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=H0(new Oe([],{}),0,r))}),e}function o1(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function s1(n,e,t){return n==t.path&&Rr(e,t.parameters)}var Ba="imperative",Mt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Mt||{}),Mn=class{id;url;constructor(e,t){this.id=e,this.url=t}},po=class extends Mn{type=Mt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Rn=class extends Mn{urlAfterRedirects;type=Mt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},cn=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(cn||{}),Ha=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Ha||{}),Pr=class extends Mn{reason;code;type=Mt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},kr=class extends Mn{reason;code;type=Mt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},za=class extends Mn{error;target;type=Mt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},cu=class extends Mn{urlAfterRedirects;state;type=Mt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ep=class extends Mn{urlAfterRedirects;state;type=Mt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tp=class extends Mn{urlAfterRedirects;state;shouldActivate;type=Mt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},np=class extends Mn{urlAfterRedirects;state;type=Mt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rp=class extends Mn{urlAfterRedirects;state;type=Mt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ip=class{route;type=Mt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},op=class{route;type=Mt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},sp=class{snapshot;type=Mt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ap=class{snapshot;type=Mt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cp=class{snapshot;type=Mt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lp=class{snapshot;type=Mt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qa=class{routerEvent;position;anchor;type=Mt.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},lu=class{},Wa=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function J3(n){return!(n instanceof lu)&&!(n instanceof Wa)}function K3(n,e){return n.providers&&!n._injector&&(n._injector=Fa(n.providers,e,`Route: ${n.path}`)),n._injector??e}function hr(n){return n.outlet||ve}function Q3(n,e){let t=n.filter(r=>hr(r)===e);return t.push(...n.filter(r=>hr(r)!==e)),t}function Ka(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var up=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ka(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Cs(this.rootInjector)}},Cs=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new up(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(de(mt))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dp=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=z0(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=z0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=q0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return q0(e,this._root).map(t=>t.value)}};function z0(n,e){if(n===e.value)return e;for(let t of e.children){let r=z0(n,t);if(r)return r}return null}function q0(n,e){if(n===e.value)return[e];for(let t of e.children){let r=q0(n,t);if(r.length)return r.unshift(e),r}return[]}var xn=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ja(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var uu=class extends dp{snapshot;constructor(e,t){super(e),this.snapshot=t,X0(this,e)}toString(){return this.snapshot.toString()}};function T1(n){let e=Y3(n),t=new jt([new uo("",{})]),r=new jt({}),i=new jt({}),o=new jt({}),s=new jt(""),a=new vn(t,r,o,s,i,ve,n,e.root);return a.snapshot=e.root,new uu(new xn(a,[]),e)}function Y3(n){let e={},t={},r={},o=new Es([],e,r,"",t,ve,n,null,{});return new du("",new xn(o,[]))}var vn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(xe(u=>u[mu]))??ae(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(xe(e=>ws(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(xe(e=>ws(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function hp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),n.params),data:j(j({},e.data),n.data),resolve:j(j(j(j({},n.data),e.data),i?.data),n._resolvedData)}:r={params:j({},n.params),data:j({},n.data),resolve:j(j({},n.data),n._resolvedData??{})},i&&A1(i)&&(r.resolve[mu]=i.title),r}var Es=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[mu]}constructor(e,t,r,i,o,s,a,l,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ws(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ws(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},du=class extends dp{url;constructor(e,t){super(t),this.url=e,X0(this,t)}toString(){return S1(this._root)}};function X0(n,e){e.value._routerState=n,e.children.forEach(t=>X0(n,t))}function S1(n){let e=n.children.length>0?` { ${n.children.map(S1).join(", ")} } `:"";return`${n.value}${e}`}function L0(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Rr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Rr(e.params,t.params)||n.paramsSubject.next(t.params),C3(e.url,t.url)||n.urlSubject.next(t.url),Rr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function W0(n,e){let t=Rr(n.params,e.params)&&A3(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||W0(n.parent,e.parent))}function A1(n){return typeof n.title=="string"||n.title===null}var x1=new Z(""),gu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ve;activateEvents=new vt;deactivateEvents=new vt;attachEvents=new vt;detachEvents=new vt;routerOutletData=wx();parentContexts=P(Cs);location=P(gi);changeDetector=P(_i);inputBinder=P(yu,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new G0(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Xe({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[fi]})}return n})(),G0=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===vn?this.route:e===Cs?this.childContexts:e===x1?this.outletData:this.parent.get(e,t)}},yu=new Z(""),eb=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=sl([r.queryParams,r.params,r.data]).pipe(rn(([o,s,a],l)=>(a=j(j(j({},o),s),a),l===0?ae(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=Cx(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})(),tb=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Qe({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&te(0,"router-outlet")},dependencies:[gu],encapsulation:2})}return n})();function nb(n){let e=n.children&&n.children.map(nb),t=e?ne(j({},n),{children:e}):j({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ve&&(t.component=tb),t}function Z3(n,e,t){let r=hu(n,e._root,t?t._root:void 0);return new uu(r,e)}function hu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=X3(n,e,t);return new xn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>hu(n,a)),s}}let r=eB(e.value),i=e.children.map(o=>hu(n,o));return new xn(r,i)}}function X3(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return hu(n,r,i);return hu(n,r)})}function eB(n){return new vn(new jt(n.url),new jt(n.params),new jt(n.queryParams),new jt(n.fragment),new jt(n.data),n.outlet,n.component,n)}var Ga=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},M1="ngNavigationCancelingError";function fp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=fo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=R1(!1,cn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function R1(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[M1]=!0,t.cancellationCode=e,t}function tB(n){return P1(n)&&fo(n.url)}function P1(n){return!!n&&n[M1]}var nB=(n,e,t,r)=>xe(i=>(new J0(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),J0=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),L0(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ja(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ja(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ja(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ja(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new lp(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ap(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(L0(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),L0(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},pp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},$a=class{component;route;constructor(e,t){this.component=e,this.route=t}};function rB(n,e,t){let r=n._root,i=e?e._root:null;return iu(r,i,t,[r.value])}function iB(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Qa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Ly(n)?n:e.get(n):r}function iu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ja(e);return n.children.forEach(s=>{oB(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>su(a,t.getContext(s),i)),i}function oB(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=sB(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new pp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?iu(n,e,a?a.children:null,r,i):iu(n,e,t,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $a(a.outlet.component,s))}else s&&su(e,a,i),i.canActivateChecks.push(new pp(r)),o.component?iu(n,null,a?a.children:null,r,i):iu(n,null,t,r,i);return i}function sB(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!bs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!bs(n.url,e.url)||!Rr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!W0(n,e)||!Rr(n.queryParams,e.queryParams);case"paramsChange":default:return!W0(n,e)}}function su(n,e,t){let r=ja(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?su(s,e.children.getContext(o),t):su(s,null,t):su(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new $a(e.outlet.component,i)):t.canDeactivateChecks.push(new $a(null,i)):t.canDeactivateChecks.push(new $a(null,i))}function vu(n){return typeof n=="function"}function aB(n){return typeof n=="boolean"}function cB(n){return n&&vu(n.canLoad)}function lB(n){return n&&vu(n.canActivate)}function uB(n){return n&&vu(n.canActivateChild)}function dB(n){return n&&vu(n.canDeactivate)}function hB(n){return n&&vu(n.canMatch)}function N1(n){return n instanceof ti||n?.name==="EmptyError"}var Jf=Symbol("INITIAL_VALUE");function Ja(){return rn(n=>sl(n.map(e=>e.pipe(ri(1),Ey(Jf)))).pipe(xe(e=>{for(let t of e)if(t!==!0){if(t===Jf)return Jf;if(t===!1||fB(t))return t}return!0}),pn(e=>e!==Jf),ri(1)))}function fB(n){return fo(n)||n instanceof Ga}function pB(n,e){return pt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?ae(ne(j({},t),{guardsResult:!0})):mB(s,r,i,n).pipe(pt(a=>a&&aB(a)?gB(r,o,n,e):ae(a)),xe(a=>ne(j({},t),{guardsResult:a})))})}function mB(n,e,t,r){return Ke(n).pipe(pt(i=>EB(i.component,i.route,t,e,r)),ii(i=>i!==!0,!0))}function gB(n,e,t,r){return Ke(e).pipe(Wi(i=>ga(vB(i.route.parent,r),yB(i.route,r),bB(n,i.path,t),_B(n,i.route,t))),ii(i=>i!==!0,!0))}function yB(n,e){return n!==null&&e&&e(new cp(n)),ae(!0)}function vB(n,e){return n!==null&&e&&e(new sp(n)),ae(!0)}function _B(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ae(!0);let i=r.map(o=>al(()=>{let s=Ka(e)??t,a=Qa(o,s),l=lB(a)?a.canActivate(e,n):Et(s,()=>a(e,n));return wi(l).pipe(ii())}));return ae(i).pipe(Ja())}function bB(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>iB(s)).filter(s=>s!==null).map(s=>al(()=>{let a=s.guards.map(l=>{let u=Ka(s.node)??t,h=Qa(l,u),g=uB(h)?h.canActivateChild(r,n):Et(u,()=>h(r,n));return wi(g).pipe(ii())});return ae(a).pipe(Ja())}));return ae(o).pipe(Ja())}function EB(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ae(!0);let s=o.map(a=>{let l=Ka(e)??i,u=Qa(a,l),h=dB(u)?u.canDeactivate(n,e,t,r):Et(l,()=>u(n,e,t,r));return wi(h).pipe(ii())});return ae(s).pipe(Ja())}function wB(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return ae(!0);let o=i.map(s=>{let a=Qa(s,n),l=cB(a)?a.canLoad(e,t):Et(n,()=>a(e,t));return wi(l)});return ae(o).pipe(Ja(),k1(r))}function k1(n){return ly(Rt(e=>{if(typeof e!="boolean")throw fp(n,e)}),xe(e=>e===!0))}function IB(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return ae(!0);let o=i.map(s=>{let a=Qa(s,n),l=hB(a)?a.canMatch(e,t):Et(n,()=>a(e,t));return wi(l)});return ae(o).pipe(Ja(),k1(r))}var fu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},pu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Va(n){return ma(new fu(n))}function CB(n){return ma(new Q(4e3,!1))}function DB(n){return ma(R1(!1,cn.GuardRejected))}var K0=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ae(r);if(i.numberOfChildren>1||!i.children[ve])return CB(`${e.redirectTo}`);i=i.children[ve]}}applyRedirectCommands(e,t,r,i,o){return TB(t,i,o).pipe(xe(s=>{if(s instanceof Nr)throw new pu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new pu(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Nr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Oe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function TB(n,e,t){if(typeof n=="string")return ae(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,params:u,data:h,title:g}=e;return wi(Et(t,()=>r({params:u,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:l,title:g})))}var Q0={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function SB(n,e,t,r,i){let o=O1(n,e,t);return o.matched?(r=K3(e,r),IB(r,e,t,i).pipe(xe(s=>s===!0?o:j({},Q0)))):ae(o)}function O1(n,e,t){if(e.path==="**")return AB(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?j({},Q0):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||u1)(t,n,e);if(!i)return j({},Q0);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function AB(n){return{matched:!0,parameters:n.length>0?h1(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function a1(n,e,t,r){return t.length>0&&RB(n,t,r)?{segmentGroup:new Oe(e,MB(r,new Oe(t,n.children))),slicedSegments:[]}:t.length===0&&PB(n,t,r)?{segmentGroup:new Oe(n.segments,xB(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Oe(n.segments,n.children),slicedSegments:t}}function xB(n,e,t,r){let i={};for(let o of t)if(gp(n,e,o)&&!r[hr(o)]){let s=new Oe([],{});i[hr(o)]=s}return j(j({},r),i)}function MB(n,e){let t={};t[ve]=e;for(let r of n)if(r.path===""&&hr(r)!==ve){let i=new Oe([],{});t[hr(r)]=i}return t}function RB(n,e,t){return t.some(r=>gp(n,e,r)&&hr(r)!==ve)}function PB(n,e,t){return t.some(r=>gp(n,e,r))}function gp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function NB(n,e,t){return e.length===0&&!n.children[t]}var Y0=class{};function kB(n,e,t,r,i,o,s="emptyOnly"){return new Z0(n,e,t,r,i,s,o).recognize()}var OB=31,Z0=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new K0(this.urlSerializer,this.urlTree)}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=a1(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(xe(({children:t,rootSnapshot:r})=>{let i=new xn(r,t),o=new du("",i),s=E1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Es([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ve,t).pipe(xe(r=>({children:r,rootSnapshot:t})),ni(r=>{if(r instanceof pu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof fu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(xe(s=>s instanceof xn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ke(o).pipe(Wi(s=>{let a=r.children[s],l=Q3(t,s);return this.processSegmentGroup(e,l,a,s,i)}),by((s,a)=>(s.push(...a),s)),Gi(null),_y(),pt(s=>{if(s===null)return Va(r);let a=F1(s);return FB(a),ae(a)}))}processSegment(e,t,r,i,o,s,a){return Ke(t).pipe(Wi(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,r,i,o,s,a).pipe(ni(u=>{if(u instanceof fu)return ae(null);throw u}))),ii(l=>!!l),ni(l=>{if(N1(l))return NB(r,i,o)?ae(new Y0):Va(r);throw l}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,l){return hr(r)!==s&&(s===ve||!gp(i,o,r))?Va(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,l):Va(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:g,remainingSegments:v}=O1(t,i,o);if(!l)return Va(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>OB&&(this.allowRedirects=!1));let w=new Es(o,u,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,c1(i),hr(i),i.component??i._loadedComponent??null,i,l1(i)),x=hp(w,a,this.paramsInheritanceStrategy);return w.params=Object.freeze(x.params),w.data=Object.freeze(x.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,g,w,e).pipe(rn(O=>this.applyRedirects.lineralizeSegments(i,O)),pt(O=>this.processSegment(e,r,t,O.concat(v),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=SB(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(rn(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(rn(({routes:u})=>{let h=r._loadedInjector??e,{parameters:g,consumedSegments:v,remainingSegments:w}=l,x=new Es(v,g,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,c1(r),hr(r),r.component??r._loadedComponent??null,r,l1(r)),F=hp(x,s,this.paramsInheritanceStrategy);x.params=Object.freeze(F.params),x.data=Object.freeze(F.data);let{segmentGroup:O,slicedSegments:W}=a1(t,v,w,u);if(W.length===0&&O.hasChildren())return this.processChildren(h,u,O,x).pipe(xe(he=>new xn(x,he)));if(u.length===0&&W.length===0)return ae(new xn(x,[]));let se=hr(r)===o;return this.processSegment(h,u,O,W,se?ve:o,!0,x).pipe(xe(he=>new xn(x,he instanceof xn?[he]:[])))}))):Va(t)))}getChildConfig(e,t,r){return t.children?ae({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?ae({routes:t._loadedRoutes,injector:t._loadedInjector}):wB(e,t,r,this.urlSerializer).pipe(pt(i=>i?this.configLoader.loadChildren(e,t).pipe(Rt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):DB(t))):ae({routes:[],injector:e})}};function FB(n){n.sort((e,t)=>e.value.outlet===ve?-1:t.value.outlet===ve?1:e.value.outlet.localeCompare(t.value.outlet))}function LB(n){let e=n.value.routeConfig;return e&&e.path===""}function F1(n){let e=[],t=new Set;for(let r of n){if(!LB(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=F1(r.children);e.push(new xn(r.value,i))}return e.filter(r=>!t.has(r))}function c1(n){return n.data||{}}function l1(n){return n.resolve||{}}function VB(n,e,t,r,i,o){return pt(s=>kB(n,e,t,r,s.extractedUrl,i,o).pipe(xe(({state:a,tree:l})=>ne(j({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function jB(n,e){return pt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return ae(t);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of L1(l))s.add(u);let a=0;return Ke(s).pipe(Wi(l=>o.has(l)?UB(l,r,n,e):(l.data=hp(l,l.parent,n).resolve,ae(void 0))),Rt(()=>a++),ya(1),pt(l=>a===s.size?ae(t):hn))})}function L1(n){let e=n.children.map(t=>L1(t)).flat();return[n,...e]}function UB(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!A1(i)&&(o[mu]=i.title),al(()=>(n.data=hp(n,n.parent,t).resolve,BB(o,n,e,r).pipe(xe(s=>(n._resolvedData=s,n.data=j(j({},n.data),s),null)))))}function BB(n,e,t,r){let i=U0(n);if(i.length===0)return ae({});let o={};return Ke(i).pipe(pt(s=>$B(n[s],e,t,r).pipe(ii(),Rt(a=>{if(a instanceof Ga)throw fp(new ho,a);o[s]=a}))),ya(1),xe(()=>o),ni(s=>N1(s)?hn:ma(s)))}function $B(n,e,t,r){let i=Ka(e)??r,o=Qa(n,i),s=o.resolve?o.resolve(e,t):Et(i,()=>o(e,t));return wi(s)}function V0(n){return rn(e=>{let t=n(e);return t?Ke(t).pipe(xe(()=>e)):ae(e)})}var rb=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ve);return r}getResolvedTitleForRoute(t){return t.data[mu]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>P(V1),providedIn:"root"})}return n})(),V1=(()=>{class n extends rb{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(de(n1))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mo=new Z("",{providedIn:"root",factory:()=>({})}),Ds=new Z(""),yp=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(s0);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ae(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=wi(Et(t,()=>r.loadComponent())).pipe(xe(U1),rn(B1),Rt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),cl(()=>{this.componentLoaders.delete(r)})),o=new da(i,()=>new ft).pipe(ua());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ae({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=j1(r,this.compiler,t,this.onLoadEndListener).pipe(cl(()=>{this.childrenLoaders.delete(r)})),s=new da(o,()=>new ft).pipe(ua());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function j1(n,e,t,r){return wi(Et(t,()=>n.loadChildren())).pipe(xe(U1),rn(B1),pt(i=>i instanceof If||Array.isArray(i)?ae(i):Ke(e.compileModuleAsync(i))),xe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Ds,[],{optional:!0,self:!0}).flat()),{routes:s.map(nb),injector:o}}))}function HB(n){return n&&typeof n=="object"&&"default"in n}function U1(n){return HB(n)?n.default:n}function B1(n){return ae(n)}var vp=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>P(zB),providedIn:"root"})}return n})(),zB=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ib=new Z(""),ob=new Z("");function $1(n,e,t){let r=n.get(ob),i=n.get(yt);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),qB(n)));a.ready.catch(u=>{});let{onViewTransitionCreated:l}=r;return l&&Et(n,()=>l({transition:a,from:e,to:t})),s}function qB(n){return new Promise(e=>{Fl({read:()=>setTimeout(e)},{injector:n})})}var sb=new Z(""),_p=(()=>{class n{currentNavigation=ee(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ft;transitionAbortWithErrorSubject=new ft;configLoader=P(yp);environmentInjector=P(mt);destroyRef=P(jn);urlSerializer=P(Is);rootContexts=P(Cs);location=P(lo);inputBindingEnabled=P(yu,{optional:!0})!==null;titleStrategy=P(rb);options=P(mo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(vp);createViewTransition=P(ib,{optional:!0});navigationErrorHandler=P(sb,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ae(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ip(i)),r=i=>this.events.next(new op(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Pt(()=>{this.transitions?.next(ne(j({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new jt(null),this.transitions.pipe(pn(r=>r!==null),rn(r=>{let i=!1;return ae(r).pipe(rn(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",cn.SupersededByNewNavigation),hn;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ne(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new kr(o.id,this.urlSerializer.serialize(o.rawUrl),"",Ha.IgnoredSameUrlNavigation)),o.resolve(!1),hn;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return ae(o).pipe(rn(l=>(this.events.next(new po(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?hn:Promise.resolve(l))),VB(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Rt(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=l.urlAfterRedirects,h));let u=new cu(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:u,source:h,restoredState:g,extras:v}=o,w=new po(l,this.urlSerializer.serialize(u),h,g);this.events.next(w);let x=T1(this.rootComponentType).snapshot;return this.currentTransition=r=ne(j({},o),{targetSnapshot:x,urlAfterRedirects:u,extras:ne(j({},v),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(F=>(F.finalUrl=u,F)),ae(r)}else return this.events.next(new kr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Ha.IgnoredByUrlHandlingStrategy)),o.resolve(!1),hn}),Rt(o=>{let s=new ep(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),xe(o=>(this.currentTransition=r=ne(j({},o),{guards:rB(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),pB(this.environmentInjector,o=>this.events.next(o)),Rt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw fp(this.urlSerializer,o.guardsResult);let s=new tp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),pn(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",cn.GuardRejected),!1)),V0(o=>{if(o.guards.canActivateChecks.length!==0)return ae(o).pipe(Rt(s=>{let a=new np(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),rn(s=>{let a=!1;return ae(s).pipe(jB(this.paramsInheritanceStrategy,this.environmentInjector),Rt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",cn.NoDataFromResolver)}}))}),Rt(s=>{let a=new rp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),V0(o=>{let s=a=>{let l=[];if(a.routeConfig?.loadComponent){let u=Ka(a)??this.environmentInjector;l.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(Rt(h=>{a.component=h}),xe(()=>{})))}for(let u of a.children)l.push(...s(u));return l};return sl(s(o.targetSnapshot.root)).pipe(Gi(null),ri(1))}),V0(()=>this.afterPreactivation()),rn(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Ke(a).pipe(xe(()=>r)):ae(r)}),xe(o=>{let s=Z3(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ne(j({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Rt(()=>{this.events.next(new lu)}),nB(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ri(1),hh(new Ie(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(pn(()=>!i&&!r.targetRouterState),Rt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",cn.Aborted)}))),Rt({next:o=>{i=!0,this.lastSuccessfulNavigation=Pt(this.currentNavigation),this.events.next(new Rn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),hh(this.transitionAbortWithErrorSubject.pipe(Rt(o=>{throw o}))),cl(()=>{i||this.cancelNavigationTransition(r,"",cn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ni(o=>{if(this.destroyed)return r.resolve(!1),hn;if(i=!0,P1(o))this.events.next(new Pr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),tB(o)?this.events.next(new Wa(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new za(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Et(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Ga){let{message:l,cancellationCode:u}=fp(this.urlSerializer,a);this.events.next(new Pr(r.id,this.urlSerializer.serialize(r.extractedUrl),l,u)),this.events.next(new Wa(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return hn}))}))}cancelNavigationTransition(t,r,i){let o=new Pr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Pt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WB(n){return n!==Ba}var H1=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>P(GB),providedIn:"root"})}return n})(),mp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},GB=(()=>{class n extends mp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=pi(n)))(i||n)}})();static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),z1=(()=>{class n{urlSerializer=P(Is);options=P(mo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(lo);urlHandlingStrategy=P(vp);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Nr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Nr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=T1(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:()=>P(JB),providedIn:"root"})}return n})(),JB=(()=>{class n extends z1{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof po?this.updateStateMemento():t instanceof kr?this.commitTransition(r):t instanceof cu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof lu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Pr&&t.code!==cn.SupersededByNewNavigation&&t.code!==cn.Redirect?this.restoreHistory(r):t instanceof za?this.restoreHistory(r,!0):t instanceof Rn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,l=j(j({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",l)}else{let a=j(j({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=pi(n)))(i||n)}})();static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bp(n,e){n.events.pipe(pn(t=>t instanceof Rn||t instanceof Pr||t instanceof za||t instanceof kr),xe(t=>t instanceof Rn||t instanceof kr?0:(t instanceof Pr?t.code===cn.Redirect||t.code===cn.SupersededByNewNavigation:!1)?2:1),pn(t=>t!==2),ri(1)).subscribe(()=>{e()})}var KB={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},QB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ge=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(K_);stateManager=P(z1);options=P(mo,{optional:!0})||{};pendingTasks=P(Sr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(_p);urlSerializer=P(Is);location=P(lo);urlHandlingStrategy=P(vp);injector=P(mt);_events=new ft;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(H1);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=P(Ds,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!P(yu,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ot;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Pt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Pr&&r.code!==cn.Redirect&&r.code!==cn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Rn)this.navigated=!0;else if(r instanceof Wa){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||WB(i.source)},s);this.scheduleNavigation(a,Ba,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}J3(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ba,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=j({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(l=>{this.disposed||this.injector.get(sn)(l)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Pt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(nb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=j(j({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let g;try{let v=i?i.snapshot:this.routerState.snapshot.root;g=w1(v)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return I1(g,t,h,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=fo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ba,null,r)}navigate(t,r={skipLocationChange:!1}){return YB(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Yi(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=j({},KB):r===!1?i=j({},QB):i=r,fo(t))return r1(this.currentUrlTree,t,i);let o=this.parseUrl(t);return r1(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((g,v)=>{a=g,l=v});let h=this.pendingTasks.add();return bp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(g=>Promise.reject(g))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function YB(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Q(4008,!1)}var Or=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=ee(null);get href(){return Pt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ft;applicationErrorHandler=P(sn);options=P(mo,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(P(new xf("href"),{optional:!0}));let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area"||!!(typeof customElements=="object"&&customElements.get(l)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Rn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(fo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:fo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(le(Ge),le(vn),Nl("tabindex"),le(Un),le(Kt),le(lr))};static \u0275dir=Xe({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&V("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&jl("href",i.reactiveHref(),T_)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ys],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ys],replaceUrl:[2,"replaceUrl","replaceUrl",ys],routerLink:"routerLink"},features:[fi]})}return n})(),cb=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new vt;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Rn&&this.update()})}ngAfterContentInit(){ae(this.links.changes,ae(null)).pipe(qi()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ke(t).pipe(qi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=ZB(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(le(Ge),le(Kt),le(Un),le(_i),le(Or,8))};static \u0275dir=Xe({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&t0(o,Or,5),r&2){let s;n0(s=r0())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[fi]})}return n})();function ZB(n){return!!n.paths}var _u=class{};var q1=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(pn(t=>t instanceof Rn),Wi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Fa(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ke(i).pipe(qi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=ae(null);let o=i.pipe(pt(s=>s===null?ae(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return Ke([o,s]).pipe(qi())}else return o})}static \u0275fac=function(r){return new(r||n)(de(Ge),de(mt),de(_u),de(yp))};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),W1=new Z(""),XB=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=Ba;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof po?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Rn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof kr&&t.code===Ha.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof qa))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>b(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new qa(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){q_()};static \u0275prov=X({token:n,factory:n.\u0275fac})}return n})();function lb(n,...e){return mn([{provide:Ds,multi:!0,useValue:n},[],{provide:vn,useFactory:G1,deps:[Ge]},{provide:Vl,multi:!0,useFactory:J1},e.map(t=>t.\u0275providers)])}function G1(n){return n.routerState.root}function bu(n,e){return{\u0275kind:n,\u0275providers:e}}function J1(){let n=P(st);return e=>{let t=n.get(yi);if(e!==t.components[0])return;let r=n.get(Ge),i=n.get(K1);n.get(ub)===1&&r.initialNavigation(),n.get(Z1,null,{optional:!0})?.setUpPreloading(),n.get(W1,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var K1=new Z("",{factory:()=>new ft}),ub=new Z("",{providedIn:"root",factory:()=>1});function Q1(){let n=[{provide:I_,useValue:!0},{provide:ub,useValue:0},Df(()=>{let e=P(st);return e.get(v0,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Ge),o=e.get(K1);bp(i,()=>{r(!0)}),e.get(_p).afterPreactivation=()=>(r(!0),o.closed?ae(void 0):o),i.initialNavigation()}))})];return bu(2,n)}function Y1(){let n=[Df(()=>{P(Ge).setUpLocationChangeListener()}),{provide:ub,useValue:2}];return bu(3,n)}var Z1=new Z("");function X1(n){return bu(0,[{provide:Z1,useExisting:q1},{provide:_u,useExisting:n}])}function eM(){return bu(8,[eb,{provide:yu,useExisting:eb}])}function tM(n){sr("NgRouterViewTransitions");let e=[{provide:ib,useValue:$1},{provide:ob,useValue:j({skipNextTransition:!!n?.skipInitialTransition},n)}];return bu(9,e)}var nM=[lo,{provide:Is,useClass:ho},Ge,Cs,{provide:vn,useFactory:G1,deps:[Ge]},yp,[]],Ii=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[nM,[],{provide:Ds,multi:!0,useValue:t},[],r?.errorHandler?{provide:sb,useValue:r.errorHandler}:[],{provide:mo,useValue:r||{}},r?.useHash?t4():n4(),e4(),r?.preloadingStrategy?X1(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?r4(r):[],r?.bindToComponentInputs?eM().\u0275providers:[],r?.enableViewTransitions?tM().\u0275providers:[],i4()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ds,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Mr({type:n});static \u0275inj=er({})}return n})();function e4(){return{provide:W1,useFactory:()=>{let n=P(Jx),e=P(ke),t=P(mo),r=P(_p),i=P(Is);return t.scrollOffset&&n.setOffset(t.scrollOffset),new XB(i,r,n,e,t)}}}function t4(){return{provide:lr,useClass:I0}}function n4(){return{provide:lr,useClass:Nf}}function r4(n){return[n.initialNavigation==="disabled"?Y1().\u0275providers:[],n.initialNavigation==="enabledBlocking"?Q1().\u0275providers:[]]}var ab=new Z("");function i4(){return[{provide:ab,useFactory:J1},{provide:Vl,multi:!0,useExisting:ab}]}var rM=()=>{};var sM=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},o4=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Ep={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,l=i+2<n.length,u=l?n[i+2]:0,h=o>>2,g=(o&3)<<4|a>>4,v=(a&15)<<2|u>>6,w=u&63;l||(w=64,s||(v=64)),r.push(t[h],t[g],t[v],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(sM(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):o4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||g==null)throw new fb;let v=o<<2|a>>4;if(r.push(v),u!==64){let w=a<<4&240|u>>2;if(r.push(w),g!==64){let x=u<<6&192|g;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},fb=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},s4=function(n){let e=sM(n);return Ep.encodeByteArray(e,!0)},wu=function(n){return s4(n).replace(/\./g,"")},wp=function(n){try{return Ep.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function mb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var a4=()=>mb().__FIREBASE_DEFAULTS__,c4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},l4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&wp(n[1]);return e&&JSON.parse(e)},Ip=()=>{try{return rM()||a4()||c4()||l4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gb=n=>{var e,t;return(t=(e=Ip())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},aM=n=>{let e=gb(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},yb=()=>{var n;return(n=Ip())===null||n===void 0?void 0:n.config},vb=n=>{var e;return(e=Ip())===null||e===void 0?void 0:e[`_${n}`]};var Ts=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function go(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Cp(n){return b(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function cM(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[wu(JSON.stringify(t)),wu(JSON.stringify(s)),""].join(".")}var Eu={};function u4(){let n={prod:[],emulator:[]};for(let e of Object.keys(Eu))Eu[e]?n.emulator.push(e):n.prod.push(e);return n}function d4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var iM=!1;function Dp(n,e){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||Eu[n]===e||Eu[n]||iM)return;Eu[n]=e;function t(v){return`__firebase__banner__${v}`}let r="__firebase__banner",o=u4().prod.length>0;function s(){let v=document.getElementById(r);v&&v.remove()}function a(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function l(v,w){v.setAttribute("width","24"),v.setAttribute("id",w),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function u(){let v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{iM=!0,s()},v}function h(v,w){v.setAttribute("id",w),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function g(){let v=d4(r),w=t("text"),x=document.getElementById(w)||document.createElement("span"),F=t("learnmore"),O=document.getElementById(F)||document.createElement("a"),W=t("preprendIcon"),se=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){let he=v.element;a(he),h(O,F);let Be=u();l(se,W),he.append(se,x,O,Be),document.body.appendChild(he)}o?(x.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}function Nt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())}function h4(){var n;let e=(n=Ip())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dM(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function hM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fM(){let n=Nt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function pM(){return!h4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Iu(){try{return typeof indexedDB=="object"}catch{return!1}}function mM(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var f4="FirebaseError",Pn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=f4,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fr.prototype.create)}},fr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?p4(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Pn(i,a,r)}};function p4(n,e){return n.replace(m4,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var m4=/\{\$([^}]+)}/g;function gM(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Wn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(oM(o)&&oM(s)){if(!Wn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function oM(n){return n!==null&&typeof n=="object"}function Cu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ya(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Za(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function yM(n,e){let t=new pb(n,e);return t.subscribe.bind(t)}var pb=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");g4(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=hb),i.error===void 0&&(i.error=hb),i.complete===void 0&&(i.complete=hb);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function g4(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function hb(){}var Tce=14400*1e3;function Ye(n){return n&&n._delegate?n._delegate:n}var ln=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ss="[DEFAULT]";var _b=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Ts;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v4(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ss){return this.instances.has(e)}getOptions(e=Ss){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y4(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ss){return this.component?this.component.multipleInstances?e:Ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function y4(n){return n===Ss?void 0:n}function v4(n){return n.instantiationMode==="EAGER"}var Tp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new _b(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var _4=[],Se=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(Se||{}),b4={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},E4=Se.INFO,w4={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},I4=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=w4[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Fr=class{constructor(e){this.name=e,this._logLevel=E4,this._logHandler=I4,this._userLogHandler=null,_4.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}};var C4=(n,e)=>e.some(t=>n instanceof t),vM,_M;function D4(){return vM||(vM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T4(){return _M||(_M=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bM=new WeakMap,Eb=new WeakMap,EM=new WeakMap,bb=new WeakMap,Ib=new WeakMap;function S4(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Lr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&bM.set(t,n)}).catch(()=>{}),Ib.set(e,n),e}function A4(n){if(Eb.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Eb.set(n,e)}var wb={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Eb.get(n);if(e==="objectStoreNames")return n.objectStoreNames||EM.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Lr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function wM(n){wb=n(wb)}function x4(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Sp(this),e,...t);return EM.set(r,e.sort?e.sort():[e]),Lr(r)}:T4().includes(n)?function(...e){return n.apply(Sp(this),e),Lr(bM.get(this))}:function(...e){return Lr(n.apply(Sp(this),e))}}function M4(n){return typeof n=="function"?x4(n):(n instanceof IDBTransaction&&A4(n),C4(n,D4())?new Proxy(n,wb):n)}function Lr(n){if(n instanceof IDBRequest)return S4(n);if(bb.has(n))return bb.get(n);let e=M4(n);return e!==n&&(bb.set(n,e),Ib.set(e,n)),e}var Sp=n=>Ib.get(n);function CM(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Lr(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Lr(s.result),l.oldVersion,l.newVersion,Lr(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var R4=["get","getKey","getAll","getAllKeys","count"],P4=["put","add","delete","clear"],Cb=new Map;function IM(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cb.get(e))return Cb.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=P4.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||R4.includes(t)))return;let o=function(s,...a){return b(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&l.done]))[0]})};return Cb.set(e,o),o}wM(n=>ne(j({},n),{get:(e,t,r)=>IM(e,t)||n.get(e,t,r),has:(e,t)=>!!IM(e,t)||n.has(e,t)}));var Tb=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(N4(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function N4(n){let e=n.getComponent();return e?.type==="VERSION"}var Sb="@firebase/app",DM="0.13.2";var Ci=new Fr("@firebase/app"),k4="@firebase/app-compat",O4="@firebase/analytics-compat",F4="@firebase/analytics",L4="@firebase/app-check-compat",V4="@firebase/app-check",j4="@firebase/auth",U4="@firebase/auth-compat",B4="@firebase/database",$4="@firebase/data-connect",H4="@firebase/database-compat",z4="@firebase/functions",q4="@firebase/functions-compat",W4="@firebase/installations",G4="@firebase/installations-compat",J4="@firebase/messaging",K4="@firebase/messaging-compat",Q4="@firebase/performance",Y4="@firebase/performance-compat",Z4="@firebase/remote-config",X4="@firebase/remote-config-compat",e$="@firebase/storage",t$="@firebase/storage-compat",n$="@firebase/firestore",r$="@firebase/ai",i$="@firebase/firestore-compat",o$="firebase",s$="11.10.0";var Ab="[DEFAULT]",a$={[Sb]:"fire-core",[k4]:"fire-core-compat",[F4]:"fire-analytics",[O4]:"fire-analytics-compat",[V4]:"fire-app-check",[L4]:"fire-app-check-compat",[j4]:"fire-auth",[U4]:"fire-auth-compat",[B4]:"fire-rtdb",[$4]:"fire-data-connect",[H4]:"fire-rtdb-compat",[z4]:"fire-fn",[q4]:"fire-fn-compat",[W4]:"fire-iid",[G4]:"fire-iid-compat",[J4]:"fire-fcm",[K4]:"fire-fcm-compat",[Q4]:"fire-perf",[Y4]:"fire-perf-compat",[Z4]:"fire-rc",[X4]:"fire-rc-compat",[e$]:"fire-gcs",[t$]:"fire-gcs-compat",[n$]:"fire-fst",[i$]:"fire-fst-compat",[r$]:"fire-vertex","fire-js":"fire-js",[o$]:"fire-js-all"};var Du=new Map,c$=new Map,xb=new Map;function TM(n,e){try{n.container.addComponent(e)}catch(t){Ci.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function pr(n){let e=n.name;if(xb.has(e))return Ci.debug(`There were multiple attempts to register component ${e}.`),!1;xb.set(e,n);for(let t of Du.values())TM(t,n);for(let t of c$.values())TM(t,n);return!0}function Xa(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function un(n){return n==null?!1:n.settings!==void 0}var l$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yo=new fr("app","Firebase",l$);var Mb=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ln("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yo.create("app-deleted",{appName:this._name})}};var vo=s$;function Nb(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ab,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw yo.create("bad-app-name",{appName:String(i)});if(t||(t=yb()),!t)throw yo.create("no-options");let o=Du.get(i);if(o){if(Wn(t,o.options)&&Wn(r,o.config))return o;throw yo.create("duplicate-app",{appName:i})}let s=new Tp(i);for(let l of xb.values())s.addComponent(l);let a=new Mb(t,r,s);return Du.set(i,a),a}function As(n=Ab){let e=Du.get(n);if(!e&&n===Ab&&yb())return Nb();if(!e)throw yo.create("no-app",{appName:n});return e}function Ap(){return Array.from(Du.values())}function dt(n,e,t){var r;let i=(r=a$[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ci.warn(a.join(" "));return}pr(new ln(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var u$="firebase-heartbeat-database",d$=1,Tu="firebase-heartbeat-store",Db=null;function MM(){return Db||(Db=CM(u$,d$,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Tu)}catch(t){console.warn(t)}}}}).catch(n=>{throw yo.create("idb-open",{originalErrorMessage:n.message})})),Db}function h$(n){return b(this,null,function*(){try{let t=(yield MM()).transaction(Tu),r=yield t.objectStore(Tu).get(RM(n));return yield t.done,r}catch(e){if(e instanceof Pn)Ci.warn(e.message);else{let t=yo.create("idb-get",{originalErrorMessage:e?.message});Ci.warn(t.message)}}})}function SM(n,e){return b(this,null,function*(){try{let r=(yield MM()).transaction(Tu,"readwrite");yield r.objectStore(Tu).put(e,RM(n)),yield r.done}catch(t){if(t instanceof Pn)Ci.warn(t.message);else{let r=yo.create("idb-set",{originalErrorMessage:t?.message});Ci.warn(r.message)}}})}function RM(n){return`${n.name}!${n.options.appId}`}var f$=1024,p$=30,Rb=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Pb(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return b(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=AM();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>p$){let s=g$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ci.warn(r)}})}getHeartbeatsHeader(){return b(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=AM(),{heartbeatsToSend:r,unsentEntries:i}=m$(this._heartbeatsCache.heartbeats),o=wu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Ci.warn(t),""}})}};function AM(){return new Date().toISOString().substring(0,10)}function m$(n,e=f$){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),xM(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),xM(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Pb=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return Iu()?mM().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield h$(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return SM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return SM(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function xM(n){return wu(JSON.stringify({version:2,heartbeats:n})).length}function g$(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function y$(n){pr(new ln("platform-logger",e=>new Tb(e),"PRIVATE")),pr(new ln("heartbeat",e=>new Rb(e),"PRIVATE")),dt(Sb,DM,n),dt(Sb,DM,"esm2017"),dt("fire-js","")}y$("");var v$="firebase",_$="11.10.0";dt(v$,_$,"app");function PM(n){n===void 0&&(n=P(st));let e=n.get(Sa);return t=>new Ie(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var _o=new Ji("ANGULARFIRE2_VERSION");function Su(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var tc=(n,e)=>{let t=e?[e]:Ap(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ec=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(ec||{}),NM=m0()&&typeof Zone<"u"?ec.WARN:ec.SILENT;var xp=class{zone;delegate;constructor(e,t=my){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},bo=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=P(ke);this.outsideAngular=t.runOutsideAngular(()=>new xp(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new xp(typeof Zone>"u"?void 0:Zone.current,py))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kM=!1;function b$(n,e){!kM&&(NM>ec.SILENT||m0())&&(kM=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),NM>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function E$(n){let e=P(ke,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function xs(n){let e=P(ke,{optional:!0});return e?e.run(()=>n()):n()}var w$=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Et(t,()=>xs(()=>n.apply(void 0,r)))),Ze=(n,e,t)=>(t||=e?ec.WARN:ec.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=P(bo),s=P(Sa),a=P(mt)}catch{return b$(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=xs(()=>s.add())),i[u]=w$(i[u],r,a));let l=E$(()=>n.apply(this,i));return e?l instanceof Ie?l.pipe(zi(o.outsideAngular),Hi(o.insideAngular),PM(a)):l instanceof Promise?xs(()=>{let u=s.add();return new Promise((h,g)=>{l.then(v=>Et(a,()=>xs(()=>h(v))),v=>Et(a,()=>xs(()=>g(v)))).finally(u)})}):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:xs(()=>l):l instanceof Ie?l.pipe(zi(o.outsideAngular),Hi(o.insideAngular)):xs(()=>l)});var Di=class{constructor(e){return e}},Ms=class{constructor(){return Ap()}};function I$(n){return n&&n.length===1?n[0]:new Di(As())}var kb=new Z("angularfire2._apps"),C$={provide:Di,useFactory:I$,deps:[[new Tn,kb]]},D$={provide:Ms,deps:[[new Tn,kb]]};function T$(n){return(e,t)=>{let r=t.get(fs);dt("angularfire",_o.full,"core"),dt("angularfire",_o.full,"app"),dt("angular",ky.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Di(i)}}function OM(n,...e){return mn([C$,D$,{provide:kb,useFactory:T$(n),multi:!0,deps:[ke,st,bo,...e]}])}var FM=Ze(Nb,!0);var S$=new Map,A$={activated:!1,tokenObservers:[]},x$={initialized:!1,enabled:!1};function mr(n){return S$.get(n)||Object.assign({},A$)}function UM(){return x$}var M$="https://content-firebaseappcheck.googleapis.com/v1";var R$="exchangeDebugToken",LM={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},xle=1440*60*1e3;var Lb=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return b(this,null,function*(){this.stop();try{this.pending=new Ts,this.pending.promise.catch(t=>{}),yield P$(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ts,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function P$(n){return new Promise(e=>{setTimeout(e,n)})}var N$={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Eo=new fr("appCheck","AppCheck",N$);function BM(n){if(!mr(n).activated)throw Eo.create("use-before-activation",{appName:n.name})}function $M(r,i){return b(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let w=yield s.getHeartbeatsHeader();w&&(o["X-Firebase-Client"]=w)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(n,a)}catch(w){throw Eo.create("fetch-network-error",{originalErrorMessage:w?.message})}if(l.status!==200)throw Eo.create("fetch-status-error",{httpStatus:l.status});let u;try{u=yield l.json()}catch(w){throw Eo.create("fetch-parse-error",{originalErrorMessage:w?.message})}let h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Eo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let g=Number(h[1])*1e3,v=Date.now();return{token:u.token,expireTimeMillis:v+g,issuedAtTimeMillis:v}})}function HM(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${M$}/projects/${t}/apps/${r}:${R$}?key=${i}`,body:{debug_token:e}}}var k$="firebase-app-check-database",O$=1,Vb="firebase-app-check-store";var Mp=null;function F$(){return Mp||(Mp=new Promise((n,e)=>{try{let t=indexedDB.open(k$,O$);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Eo.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Vb,{keyPath:"compositeKey"})}}}catch(t){e(Eo.create("storage-open",{originalErrorMessage:t?.message}))}}),Mp)}function L$(n,e){return V$(j$(n),e)}function V$(n,e){return b(this,null,function*(){let r=(yield F$()).transaction(Vb,"readwrite"),o=r.objectStore(Vb).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;a(Eo.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})})}function j$(n){return`${n.options.appId}-${n.name}`}var Au=new Fr("@firebase/app-check");function Ob(n,e){return Iu()?L$(n,e).catch(t=>{Au.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function zM(){return UM().enabled}function qM(){return b(this,null,function*(){let n=UM();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var U$={error:"UNKNOWN_ERROR"};function B$(n){return Ep.encodeString(JSON.stringify(n),!1)}function jb(n,e=!1,t=!1){return b(this,null,function*(){let r=n.app;BM(r);let i=mr(r),o=i.token,s;if(o&&!xu(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(xu(u)?o=u:yield Ob(r,void 0))}if(!e&&o&&xu(o))return{token:o.token};let a=!1;if(zM())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=$M(HM(r,yield qM()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield Ob(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Au.warn(u.message):t&&Au.error(u),Fb(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield mr(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Au.warn(u.message):t&&Au.error(u),s=u}let l;return o?s?xu(o)?l={token:o.token,internalError:s}:l=Fb(s):(l={token:o.token},i.token=o,yield Ob(r,o)):l=Fb(s),a&&q$(r,l),l})}function $$(n){return b(this,null,function*(){let e=n.app;BM(e);let{provider:t}=mr(e);if(zM()){let r=yield qM(),{token:i}=yield $M(HM(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function H$(n,e,t,r){let{app:i}=n,o=mr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&xu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),VM(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>VM(n))}function WM(n,e){let t=mr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function VM(n){let{app:e}=n,t=mr(e),r=t.tokenRefresher;r||(r=z$(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function z$(n){let{app:e}=n;return new Lb(()=>b(null,null,function*(){let t=mr(e),r;if(t.token?r=yield jb(n,!0):r=yield jb(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=mr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},LM.RETRIAL_MIN_WAIT,LM.RETRIAL_MAX_WAIT)}function q$(n,e){let t=mr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function xu(n){return n.expireTimeMillis-Date.now()>0}function Fb(n){return{token:B$(U$),error:n}}var Ub=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=mr(this.app);for(let t of e)WM(this.app,t.next);return Promise.resolve()}};function W$(n,e){return new Ub(n,e)}function G$(n){return{getToken:e=>jb(n,e),getLimitedUseToken:()=>$$(n),addTokenListener:e=>H$(n,"INTERNAL",e),removeTokenListener:e=>WM(n.app,e)}}var J$="@firebase/app-check",K$="0.10.1";var Q$="app-check",jM="app-check-internal";function Y$(){pr(new ln(Q$,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return W$(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(jM).initialize()})),pr(new ln(jM,n=>{let e=n.getProvider("app-check").getImmediate();return G$(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),dt(J$,K$)}Y$();var Z$="app-check";var nc=class{constructor(){return tc(Z$)}};var X$=["localhost","0.0.0.0","127.0.0.1"],$le=typeof window<"u"&&X$.includes(window.location.hostname);function cR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var lR=cR,uR=new fr("auth","Firebase",cR());var Fp=new Fr("@firebase/auth");function e5(n,...e){Fp.logLevel<=Se.WARN&&Fp.warn(`Auth (${vo}): ${n}`,...e)}function Pp(n,...e){Fp.logLevel<=Se.ERROR&&Fp.error(`Auth (${vo}): ${n}`,...e)}function Ur(n,...e){throw uE(n,...e)}function Rs(n,...e){return uE(n,...e)}function dR(n,e,t){let r=Object.assign(Object.assign({},lR()),{[e]:t});return new fr("auth","Firebase",r).create(e,{appName:n.name})}function Vr(n){return dR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uE(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return uR.create(n,...e)}function ie(n,e,...t){if(!n)throw uE(e,...t)}function Ti(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Pp(e),new Error(e)}function Co(n,e){n||Ti(e)}function zb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function t5(){return GM()==="http:"||GM()==="https:"}function GM(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function n5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t5()||dM()||"connection"in navigator)?navigator.onLine:!0}function r5(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ps=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Co(t>e,"Short delay should be less than long delay!"),this.isMobile=lM()||hM()}get(){return n5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function dE(n,e){Co(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Lp=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var i5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var o5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s5=new Ps(3e4,6e4);function Ai(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Br(o,s,a,l){return b(this,arguments,function*(n,e,t,r,i={}){return hR(n,i,()=>b(null,null,function*(){let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});let g=Cu(Object.assign({key:n.config.apiKey},h)).slice(1),v=yield n._getAdditionalHeaders();v["Content-Type"]="application/json",n.languageCode&&(v["X-Firebase-Locale"]=n.languageCode);let w=Object.assign({method:e,headers:v},u);return uM()||(w.referrerPolicy="no-referrer"),n.emulatorConfig&&go(n.emulatorConfig.host)&&(w.credentials="include"),Lp.fetch()(yield fR(n,n.config.apiHost,t,g),w)}))})}function hR(n,e,t){return b(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},i5),e);try{let i=new qb(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Rp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rp(n,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Rp(n,"email-already-in-use",s);if(l==="USER_DISABLED")throw Rp(n,"user-disabled",s);let h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw dR(n,h,u);Ur(n,h)}}catch(i){if(i instanceof Pn)throw i;Ur(n,"network-request-failed",{message:String(i)})}})}function Lu(o,s,a,l){return b(this,arguments,function*(n,e,t,r,i={}){let u=yield Br(n,e,t,r,i);return"mfaPendingCredential"in u&&Ur(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function fR(n,e,t,r){return b(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?dE(n.config,i):`${n.config.apiScheme}://${i}`;return o5.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function a5(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var qb=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Rs(this.auth,"network-request-failed")),s5.get())})}};function Rp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Rs(n,e,r);return i.customData._tokenResponse=t,i}function JM(n){return n!==void 0&&n.enterprise!==void 0}var Wb=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return a5(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function c5(n,e){return b(this,null,function*(){return Br(n,"GET","/v2/recaptchaConfig",Ai(n,e))})}function l5(n,e){return b(this,null,function*(){return Br(n,"POST","/v1/accounts:delete",e)})}function Vp(n,e){return b(this,null,function*(){return Br(n,"POST","/v1/accounts:lookup",e)})}function Ru(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function hE(n,e=!1){return b(this,null,function*(){let t=Ye(n),r=yield t.getIdToken(e),i=fE(r);ie(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ru(Bb(i.auth_time)),issuedAtTime:Ru(Bb(i.iat)),expirationTime:Ru(Bb(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Bb(n){return Number(n)*1e3}function fE(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Pp("JWT malformed, contained fewer than 3 sections"),null;try{let i=wp(t);return i?JSON.parse(i):(Pp("Failed to decode base64 JWT payload"),null)}catch(i){return Pp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function KM(n){let e=fE(n);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function rc(n,e,t=!1){return b(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Pn&&u5(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function u5({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Gb=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),t)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Nu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ru(this.lastLoginAt),this.creationTime=Ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function jp(n){return b(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield rc(n,Vp(t,{idToken:r}));ie(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?pR(o.providerUserInfo):[],a=d5(n.providerData,s),l=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,h=l?u:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Nu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,g)})}function pE(n){return b(this,null,function*(){let e=Ye(n);yield jp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function d5(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pR(n){return n.map(e=>{var{providerId:t}=e,r=gy(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function h5(n,e){return b(this,null,function*(){let t=yield hR(n,{},()=>b(null,null,function*(){let r=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield fR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let l={method:"POST",headers:a,body:r};return n.emulatorConfig&&go(n.emulatorConfig.host)&&(l.credentials="include"),Lp.fetch()(s,l)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function f5(n,e){return b(this,null,function*(){return Br(n,"POST","/v2/accounts:revokeToken",Ai(n,e))})}var Pu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ie(e.length!==0,"internal-error");let t=KM(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return b(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return b(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield h5(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ie(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ie(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ti("not implemented")}};function wo(n,e){ie(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Io=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=gy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Nu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let t=yield rc(this,this.stsTokenManager.getToken(this.auth,e));return ie(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return hE(this,e)}reload(){return pE(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return b(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield jp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(un(this.auth.app))return Promise.reject(Vr(this.auth));let e=yield this.getIdToken();return yield rc(this,l5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,l,u,h;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,v=(i=t.email)!==null&&i!==void 0?i:void 0,w=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,x=(s=t.photoURL)!==null&&s!==void 0?s:void 0,F=(a=t.tenantId)!==null&&a!==void 0?a:void 0,O=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,W=(u=t.createdAt)!==null&&u!==void 0?u:void 0,se=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:he,emailVerified:Be,isAnonymous:en,providerData:Ve,stsTokenManager:A}=t;ie(he&&A,e,"internal-error");let I=Pu.fromJSON(this.name,A);ie(typeof he=="string",e,"internal-error"),wo(g,e.name),wo(v,e.name),ie(typeof Be=="boolean",e,"internal-error"),ie(typeof en=="boolean",e,"internal-error"),wo(w,e.name),wo(x,e.name),wo(F,e.name),wo(O,e.name),wo(W,e.name),wo(se,e.name);let D=new n({uid:he,auth:e,email:v,emailVerified:Be,displayName:g,isAnonymous:en,photoURL:x,phoneNumber:w,tenantId:F,stsTokenManager:I,createdAt:W,lastLoginAt:se});return Ve&&Array.isArray(Ve)&&(D.providerData=Ve.map(T=>Object.assign({},T))),O&&(D._redirectEventId=O),D}static _fromIdTokenResponse(e,t,r=!1){return b(this,null,function*(){let i=new Pu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield jp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return b(this,null,function*(){let i=t.users[0];ie(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?pR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Pu;a.updateFromIdToken(r);let l=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Nu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,u),l})}};var QM=new Map;function Si(n){Co(n instanceof Function,"Expected a class definition");let e=QM.get(n);return e?(Co(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,QM.set(n,e),e)}var p5=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(t,r){return b(this,null,function*(){this.storage[t]=r})}_get(t){return b(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return b(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Jb=p5;function Np(n,e,t){return`firebase:${n}:${e}:${t}`}var Up=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Np(this.userKey,i.apiKey,o),this.fullPersistenceKey=Np("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Vp(this.auth,{idToken:e}).catch(()=>{});return t?Io._fromGetAccountInfoResponse(this.auth,t,e):null}return Io._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return b(this,null,function*(){if(!t.length)return new n(Si(Jb),e,r);let i=(yield Promise.all(t.map(u=>b(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Si(Jb),s=Np(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let h=yield u._get(s);if(h){let g;if(typeof h=="string"){let v=yield Vp(e,{idToken:h}).catch(()=>{});if(!v)break;g=yield Io._fromGetAccountInfoResponse(e,v,h)}else g=Io._fromJSON(e,h);u!==o&&(a=g),o=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new n(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>b(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function YM(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bR(e))return"Blackberry";if(ER(e))return"Webos";if(gR(e))return"Safari";if((e.includes("chrome/")||yR(e))&&!e.includes("edge/"))return"Chrome";if(_R(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function mR(n=Nt()){return/firefox\//i.test(n)}function gR(n=Nt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yR(n=Nt()){return/crios\//i.test(n)}function vR(n=Nt()){return/iemobile/i.test(n)}function _R(n=Nt()){return/android/i.test(n)}function bR(n=Nt()){return/blackberry/i.test(n)}function ER(n=Nt()){return/webos/i.test(n)}function mE(n=Nt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function m5(n=Nt()){var e;return mE(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function g5(){return fM()&&document.documentMode===10}function wR(n=Nt()){return mE(n)||_R(n)||ER(n)||bR(n)||/windows phone/i.test(n)||vR(n)}function IR(n,e=[]){let t;switch(n){case"Browser":t=YM(Nt());break;case"Worker":t=`${YM(Nt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vo}/${r}`}var Kb=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function y5(t){return b(this,arguments,function*(n,e={}){return Br(n,"GET","/v2/passwordPolicy",Ai(n,e))})}var v5=6,Qb=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:v5,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Yb=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bp(this),this.idTokenSubscription=new Bp(this),this.beforeStateQueue=new Kb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Si(t)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Up.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let t=yield Vp(this,{idToken:e}),r=yield Io._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var t;if(un(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return b(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield jp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=r5()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(un(this.app))return Promise.reject(Vr(this));let t=e?Ye(e):null;return t&&ie(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return b(this,null,function*(){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return un(this.app)?Promise.reject(Vr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return un(this.app)?Promise.reject(Vr(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(Si(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield y5(this),t=new Qb(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield f5(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return b(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Si(e)||this._popupRedirectResolver;ie(t,this,"argument-error"),this.redirectPersistenceManager=yield Up.create(this,[Si(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=IR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return b(this,null,function*(){var e;if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&e5(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Do(n){return Ye(n)}var Bp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=yM(t=>this.observer=t)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Kp={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _5(n){Kp=n}function CR(n){return Kp.loadJS(n)}function b5(){return Kp.recaptchaEnterpriseScript}function E5(){return Kp.gapiScript}function DR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var Zb=class{constructor(){this.enterprise=new Xb}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},Xb=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var w5="recaptcha-enterprise",TR="NO_RECAPTCHA",eE=class{constructor(e){this.type=w5,this.auth=Do(e)}verify(e="verify",t=!1){return b(this,null,function*(){function r(o){return b(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>b(null,null,function*(){c5(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new Wb(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})}))})}function i(o,s,a){let l=window.grecaptcha;JM(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(TR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Zb().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&JM(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=b5();l.length!==0&&(l+=a),CR(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})})}};function Mu(n,e,t,r=!1,i=!1){return b(this,null,function*(){let o=new eE(n),s;if(i)s=TR;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function $p(n,e,t,r,i){return b(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield Mu(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>b(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let l=yield Mu(n,e,t,t==="getOobCode");return r(n,l)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield Mu(n,e,t);return r(n,a).catch(l=>b(null,null,function*(){var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(l.code==="auth/missing-recaptcha-token"||l.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield Mu(n,e,t,!1,!0);return r(n,h)}return Promise.reject(l)}))}else{let a=yield Mu(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function gE(n,e){let t=Xa(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Wn(o,e??{}))return i;Ur(i,"already-initialized")}return t.initialize({options:e})}function I5(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Si);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function yE(n,e,t){let r=Do(n);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=SR(e),{host:s,port:a}=C5(e),l=a===null?"":`:${a}`,u={url:`${o}//${s}${l}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(Wn(u,r.config.emulator)&&Wn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,go(s)?(Cp(`${o}//${s}${l}`),Dp("Auth",!0)):i||D5()}function SR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function C5(n){let e=SR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:ZM(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:ZM(s)}}}function ZM(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function D5(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var ku=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ti("not implemented")}_getIdTokenResponse(e){return Ti("not implemented")}_linkToIdToken(e,t){return Ti("not implemented")}_getReauthenticationResolver(e){return Ti("not implemented")}};function T5(n,e){return b(this,null,function*(){return Br(n,"POST","/v1/accounts:update",e)})}function S5(n,e){return b(this,null,function*(){return Br(n,"POST","/v1/accounts:signUp",e)})}function A5(n,e){return b(this,null,function*(){return Lu(n,"POST","/v1/accounts:signInWithPassword",Ai(n,e))})}function AR(n,e){return b(this,null,function*(){return Br(n,"POST","/v1/accounts:sendOobCode",Ai(n,e))})}function x5(n,e){return b(this,null,function*(){return AR(n,e)})}function M5(n,e){return b(this,null,function*(){return AR(n,e)})}function R5(n,e){return b(this,null,function*(){return Lu(n,"POST","/v1/accounts:signInWithEmailLink",Ai(n,e))})}function P5(n,e){return b(this,null,function*(){return Lu(n,"POST","/v1/accounts:signInWithEmailLink",Ai(n,e))})}var Ou=class n extends ku{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return b(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $p(e,t,"signInWithPassword",A5,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return R5(e,{email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}})}_linkToIdToken(e,t){return b(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $p(e,r,"signUpPassword",S5,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return P5(e,{idToken:t,email:this._email,oobCode:this._password});default:Ur(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function $b(n,e){return b(this,null,function*(){return Lu(n,"POST","/v1/accounts:signInWithIdp",Ai(n,e))})}function N5(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function k5(n){let e=Ya(Za(n)).link,t=e?Ya(Za(e)).deep_link_id:null,r=Ya(Za(n)).deep_link_id;return(r?Ya(Za(r)).link:null)||r||t||e||n}var Hp=class n{constructor(e){var t,r,i,o,s,a;let l=Ya(Za(e)),u=(t=l.apiKey)!==null&&t!==void 0?t:null,h=(r=l.oobCode)!==null&&r!==void 0?r:null,g=N5((i=l.mode)!==null&&i!==void 0?i:null);ie(u&&h&&g,"argument-error"),this.apiKey=u,this.operation=g,this.code=h,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=k5(e);try{return new n(t)}catch{return null}}};var xR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Ou._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Hp.parseLink(r);return ie(i,"argument-error"),Ou._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),zp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var tE=class extends zp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function O5(n,e){return b(this,null,function*(){return Lu(n,"POST","/v1/accounts:signUp",Ai(n,e))})}var ic=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return b(this,null,function*(){let o=yield Io._fromIdTokenResponse(e,r,i),s=XM(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return b(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=XM(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function XM(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var nE=class n extends Pn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function MR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?nE._fromErrorAndOperation(n,o,e,r):o})}function F5(n,e,t=!1){return b(this,null,function*(){let r=yield rc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ic._forOperation(n,"link",r)})}function L5(n,e,t=!1){return b(this,null,function*(){let{auth:r}=n;if(un(r.app))return Promise.reject(Vr(r));let i="reauthenticate";try{let o=yield rc(n,MR(r,i,e,n),t);ie(o.idToken,r,"internal-error");let s=fE(o.idToken);ie(s,r,"internal-error");let{sub:a}=s;return ie(n.uid===a,r,"user-mismatch"),ic._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ur(r,"user-mismatch"),o}})}function RR(n,e,t=!1){return b(this,null,function*(){if(un(n.app))return Promise.reject(Vr(n));let r="signIn",i=yield MR(n,r,e),o=yield ic._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function vE(n,e){return b(this,null,function*(){return RR(Do(n),e)})}function PR(n,e,t){var r;ie(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),ie(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ie(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ie(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ie(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function NR(n){return b(this,null,function*(){let e=Do(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function _E(n,e,t){return b(this,null,function*(){let r=Do(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&PR(r,i,t),yield $p(r,i,"getOobCode",M5,"EMAIL_PASSWORD_PROVIDER")})}function bE(n,e,t){return b(this,null,function*(){if(un(n.app))return Promise.reject(Vr(n));let r=Do(n),s=yield $p(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O5,"EMAIL_PASSWORD_PROVIDER").catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&NR(n),l}),a=yield ic._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function EE(n,e,t){return un(n.app)?Promise.reject(Vr(n)):vE(Ye(n),xR.credential(e,t)).catch(r=>b(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&NR(n),r}))}function wE(n,e){return b(this,null,function*(){let t=Ye(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&PR(t.auth,i,e);let{email:o}=yield x5(t.auth,i);o!==n.email&&(yield n.reload())})}function IE(n,e){let t=Ye(n);return un(t.auth.app)?Promise.reject(Vr(t.auth)):kR(t,e,null)}function CE(n,e){return kR(Ye(n),null,e)}function kR(n,e,t){return b(this,null,function*(){let{auth:r}=n,o={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);let s=yield rc(n,T5(r,o));yield n._updateTokensIfNecessary(s,!0)})}function Qp(n,e){return Ye(n).setPersistence(e)}function DE(n,e,t,r){return Ye(n).onIdTokenChanged(e,t,r)}function TE(n,e,t){return Ye(n).beforeAuthStateChanged(e,t)}function SE(n,e,t,r){return Ye(n).onAuthStateChanged(e,t,r)}function AE(n){return Ye(n).signOut()}var qp="__sak";var Wp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(qp,"1"),this.storage.removeItem(qp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var V5=1e3,j5=10,U5=(()=>{class n extends Wp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);g5()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,j5):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},V5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return b(this,null,function*(){yield Bi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return b(this,null,function*(){let r=yield Bi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return b(this,null,function*(){yield Bi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Yp=U5;var B5=(()=>{class n extends Wp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),xE=B5;function $5(n){return Promise.all(n.map(e=>b(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var H5=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return b(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let l=Array.from(a).map(h=>b(this,null,function*(){return h(r.origin,s)})),u=yield $5(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function OR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var rE=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return b(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{let u=OR("",20);i.port1.start();let h=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){let v=g;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(v.data.response);break;default:clearTimeout(h),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function jr(){return window}function z5(n){jr().location.href=n}function FR(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}function q5(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function W5(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function G5(){return FR()?self:null}var LR="firebaseLocalStorageDb",J5=1,Gp="firebaseLocalStorage",VR="fbase_key",Ns=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Zp(n,e){return n.transaction([Gp],e?"readwrite":"readonly").objectStore(Gp)}function K5(){let n=indexedDB.deleteDatabase(LR);return new Ns(n).toPromise()}function iE(){let n=indexedDB.open(LR,J5);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Gp,{keyPath:VR})}catch(i){t(i)}}),n.addEventListener("success",()=>b(null,null,function*(){let r=n.result;r.objectStoreNames.contains(Gp)?e(r):(r.close(),yield K5(),e(yield iE()))}))})}function eR(n,e,t){return b(this,null,function*(){let r=Zp(n,!0).put({[VR]:e,value:t});return new Ns(r).toPromise()})}function Q5(n,e){return b(this,null,function*(){let t=Zp(n,!1).get(e),r=yield new Ns(t).toPromise();return r===void 0?null:r.value})}function tR(n,e){let t=Zp(n,!0).delete(e);return new Ns(t).toPromise()}var Y5=800,Z5=3,X5=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield iE(),this.db)})}_withRetries(t){return b(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>Z5)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return FR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=H5._getInstance(G5()),this.receiver._subscribe("keyChanged",(t,r)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var t,r;if(this.activeServiceWorker=yield q5(),!this.activeServiceWorker)return;this.sender=new rE(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||W5()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let t=yield iE();return yield eR(t,qp,"1"),yield tR(t,qp),!0}catch{}return!1})}_withPendingWrite(t){return b(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(i=>eR(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return b(this,null,function*(){let r=yield this._withRetries(i=>Q5(i,t));return this.localCache[t]=r,r})}_remove(t){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>tR(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return b(this,null,function*(){let t=yield this._withRetries(o=>{let s=Zp(o,!1).getAll();return new Ns(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),Y5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),jR=X5;var Qle=DR("rcb"),Yle=new Ps(3e4,6e4);function eH(n,e){return e?Si(e):(ie(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Fu=class extends ku{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $b(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $b(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $b(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function tH(n){return RR(n.auth,new Fu(n),n.bypassAuthState)}function nH(n){let{auth:e,user:t}=n;return ie(t,e,"internal-error"),L5(t,new Fu(n),n.bypassAuthState)}function rH(n){return b(this,null,function*(){let{auth:e,user:t}=n;return ie(t,e,"internal-error"),F5(t,new Fu(n),n.bypassAuthState)})}var oE=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>b(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return b(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tH;case"linkViaPopup":case"linkViaRedirect":return rH;case"reauthViaPopup":case"reauthViaRedirect":return nH;default:Ur(this.auth,"internal-error")}}resolve(e){Co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Zle=new Ps(2e3,1e4);var iH="pendingRedirect",kp=new Map,sE=class n extends oE{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return b(this,null,function*(){let e=kp.get(this.auth._key());if(!e){try{let r=(yield oH(this.resolver,this.auth))?yield Bi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}kp.set(this.auth._key(),e)}return this.bypassAuthState||kp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return b(this,null,function*(){if(e.type==="signInViaRedirect")return Bi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Bi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function oH(n,e){return b(this,null,function*(){let t=cH(e),r=aH(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function sH(n,e){kp.set(n._key(),e)}function aH(n){return Si(n._redirectPersistence)}function cH(n){return Np(iH,n.config.apiKey,n.name)}function lH(n,e,t=!1){return b(this,null,function*(){if(un(n.app))return Promise.reject(Vr(n));let r=Do(n),i=eH(r,e),s=yield new sE(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var uH=600*1e3,aE=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dH(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!UR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Rs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=uH&&this.cachedEventUids.clear(),this.cachedEventUids.has(nR(e))}saveEventToCache(e){this.cachedEventUids.add(nR(e)),this.lastProcessedEventTime=Date.now()}};function nR(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function UR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function dH(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UR(n);default:return!1}}function hH(t){return b(this,arguments,function*(n,e={}){return Br(n,"GET","/v1/projects",e)})}var fH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pH=/^https?/;function mH(n){return b(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield hH(n);for(let t of e)try{if(gH(t))return}catch{}Ur(n,"unauthorized-domain")})}function gH(n){let e=zb(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!pH.test(t))return!1;if(fH.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var yH=new Ps(3e4,6e4);function rR(){let n=jr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function vH(n){return new Promise((e,t)=>{var r,i,o;function s(){rR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{rR(),t(Rs(n,"network-request-failed"))},timeout:yH.get()})}if(!((i=(r=jr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=jr().gapi)===null||o===void 0)&&o.load)s();else{let a=DR("iframefcb");return jr()[a]=()=>{gapi.load?s():t(Rs(n,"network-request-failed"))},CR(`${E5()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Op=null,e})}var Op=null;function _H(n){return Op=Op||vH(n),Op}var bH=new Ps(5e3,15e3),EH="__/auth/iframe",wH="emulator/auth/iframe",IH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DH(n){let e=n.config;ie(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?dE(e,wH):`https://${n.config.authDomain}/${EH}`,r={apiKey:e.apiKey,appName:n.name,v:vo},i=CH.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Cu(r).slice(1)}`}function TH(n){return b(this,null,function*(){let e=yield _H(n),t=jr().gapi;return ie(t,n,"internal-error"),e.open({where:document.body,url:DH(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IH,dontclear:!0},r=>new Promise((i,o)=>b(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Rs(n,"network-request-failed"),a=jr().setTimeout(()=>{o(s)},bH.get());function l(){jr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})})))})}var SH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AH=500,xH=600,MH="_blank",RH="http://localhost",Jp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function PH(n,e,t,r=AH,i=xH){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},SH),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Nt().toLowerCase();t&&(a=yR(u)?MH:t),mR(u)&&(e=e||RH,l.scrollbars="yes");let h=Object.entries(l).reduce((v,[w,x])=>`${v}${w}=${x},`,"");if(m5(u)&&a!=="_self")return NH(e||"",a),new Jp(null);let g=window.open(e||"",a,h);ie(g,n,"popup-blocked");try{g.focus()}catch{}return new Jp(g)}function NH(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var kH="__/auth/handler",OH="emulator/auth/handler",FH=encodeURIComponent("fac");function iR(n,e,t,r,i,o){return b(this,null,function*(){ie(n.config.authDomain,n,"auth-domain-config-required"),ie(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:vo,eventId:i};if(e instanceof zp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",gM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,g]of Object.entries(o||{}))s[h]=g}if(e instanceof tE){let h=e.getScopes().filter(g=>g!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let l=yield n._getAppCheckToken(),u=l?`#${FH}=${encodeURIComponent(l)}`:"";return`${LH(n)}?${Cu(a).slice(1)}${u}`})}function LH({config:n}){return n.emulator?dE(n,OH):`https://${n.authDomain}/${kH}`}var Hb="webStorageSupport",cE=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xE,this._completeRedirectFn=lH,this._overrideRedirectResult=sH}_openPopup(e,t,r,i){return b(this,null,function*(){var o;Co((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield iR(e,t,r,zb(),i);return PH(e,s,OR())})}_openRedirect(e,t,r,i){return b(this,null,function*(){yield this._originValidation(e);let o=yield iR(e,t,r,zb(),i);return z5(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Co(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return b(this,null,function*(){let t=yield TH(e),r=new aE(e);return t.register("authEvent",i=>(ie(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hb,{type:Hb},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Hb];s!==void 0&&t(!!s),Ur(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=mH(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return wR()||gR()||mE()}},BR=cE;var oR="@firebase/auth",sR="1.10.8";var lE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function VH(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jH(n){pr(new ln("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ie(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IR(n)},u=new Yb(r,i,o,l);return I5(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),pr(new ln("auth-internal",e=>{let t=Do(e.getProvider("auth").getImmediate());return(r=>new lE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),dt(oR,sR,VH(n)),dt(oR,sR,"esm2017")}var UH=300,BH=vb("authIdTokenMaxAge")||UH,aR=null,$H=n=>e=>b(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>BH)return;let i=t?.token;aR!==i&&(aR=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function ME(n=As()){let e=Xa(n,"auth");if(e.isInitialized())return e.getImmediate();let t=gE(n,{popupRedirectResolver:BR,persistence:[jR,Yp,xE]}),r=vb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=$H(o.toString());TE(t,s,()=>s(t.currentUser)),DE(t,a=>s(a))}}let i=gb("auth");return i&&yE(t,`http://${i}`),t}function HH(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}_5({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Rs("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",HH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jH("Browser");var $R="auth",ks=class{constructor(e){return e}},Vu=class{constructor(){return tc($R)}};var RE=new Z("angularfire2.auth-instances");function T6(n,e){let t=Su($R,n,e);return t&&new ks(t)}function S6(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ks(r)}}var A6={provide:Vu,deps:[[new Tn,RE]]},x6={provide:ks,useFactory:T6,deps:[[new Tn,RE],Di]};function HR(n,...e){return dt("angularfire",_o.full,"auth"),mn([x6,A6,{provide:RE,useFactory:S6(n),multi:!0,deps:[ke,st,bo,Ms,[new Tn,nc],...e]}])}var zR=Ze(bE,!0,2);var qR=Ze(ME,!0);var WR=Ze(SE,!0);var PE=Ze(wE,!0,2),GR=Ze(_E,!0,2);var JR=Ze(EE,!0,2);var ju=Ze(AE,!0,2);var KR=Ze(IE,!0,2),QR=Ze(CE,!0,2);var YR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ZR={};var xi,NE;(function(){var n;function e(A,I){function D(){}D.prototype=I.prototype,A.D=I.prototype,A.prototype=new D,A.prototype.constructor=A,A.C=function(T,M,N){for(var C=Array(arguments.length-2),Zr=2;Zr<arguments.length;Zr++)C[Zr-2]=arguments[Zr];return I.prototype[M].apply(T,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,I,D){D||(D=0);var T=Array(16);if(typeof I=="string")for(var M=0;16>M;++M)T[M]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(M=0;16>M;++M)T[M]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;I=A.g[0],D=A.g[1],M=A.g[2];var N=A.g[3],C=I+(N^D&(M^N))+T[0]+3614090360&4294967295;I=D+(C<<7&4294967295|C>>>25),C=N+(M^I&(D^M))+T[1]+3905402710&4294967295,N=I+(C<<12&4294967295|C>>>20),C=M+(D^N&(I^D))+T[2]+606105819&4294967295,M=N+(C<<17&4294967295|C>>>15),C=D+(I^M&(N^I))+T[3]+3250441966&4294967295,D=M+(C<<22&4294967295|C>>>10),C=I+(N^D&(M^N))+T[4]+4118548399&4294967295,I=D+(C<<7&4294967295|C>>>25),C=N+(M^I&(D^M))+T[5]+1200080426&4294967295,N=I+(C<<12&4294967295|C>>>20),C=M+(D^N&(I^D))+T[6]+2821735955&4294967295,M=N+(C<<17&4294967295|C>>>15),C=D+(I^M&(N^I))+T[7]+4249261313&4294967295,D=M+(C<<22&4294967295|C>>>10),C=I+(N^D&(M^N))+T[8]+1770035416&4294967295,I=D+(C<<7&4294967295|C>>>25),C=N+(M^I&(D^M))+T[9]+2336552879&4294967295,N=I+(C<<12&4294967295|C>>>20),C=M+(D^N&(I^D))+T[10]+4294925233&4294967295,M=N+(C<<17&4294967295|C>>>15),C=D+(I^M&(N^I))+T[11]+2304563134&4294967295,D=M+(C<<22&4294967295|C>>>10),C=I+(N^D&(M^N))+T[12]+1804603682&4294967295,I=D+(C<<7&4294967295|C>>>25),C=N+(M^I&(D^M))+T[13]+4254626195&4294967295,N=I+(C<<12&4294967295|C>>>20),C=M+(D^N&(I^D))+T[14]+2792965006&4294967295,M=N+(C<<17&4294967295|C>>>15),C=D+(I^M&(N^I))+T[15]+1236535329&4294967295,D=M+(C<<22&4294967295|C>>>10),C=I+(M^N&(D^M))+T[1]+4129170786&4294967295,I=D+(C<<5&4294967295|C>>>27),C=N+(D^M&(I^D))+T[6]+3225465664&4294967295,N=I+(C<<9&4294967295|C>>>23),C=M+(I^D&(N^I))+T[11]+643717713&4294967295,M=N+(C<<14&4294967295|C>>>18),C=D+(N^I&(M^N))+T[0]+3921069994&4294967295,D=M+(C<<20&4294967295|C>>>12),C=I+(M^N&(D^M))+T[5]+3593408605&4294967295,I=D+(C<<5&4294967295|C>>>27),C=N+(D^M&(I^D))+T[10]+38016083&4294967295,N=I+(C<<9&4294967295|C>>>23),C=M+(I^D&(N^I))+T[15]+3634488961&4294967295,M=N+(C<<14&4294967295|C>>>18),C=D+(N^I&(M^N))+T[4]+3889429448&4294967295,D=M+(C<<20&4294967295|C>>>12),C=I+(M^N&(D^M))+T[9]+568446438&4294967295,I=D+(C<<5&4294967295|C>>>27),C=N+(D^M&(I^D))+T[14]+3275163606&4294967295,N=I+(C<<9&4294967295|C>>>23),C=M+(I^D&(N^I))+T[3]+4107603335&4294967295,M=N+(C<<14&4294967295|C>>>18),C=D+(N^I&(M^N))+T[8]+1163531501&4294967295,D=M+(C<<20&4294967295|C>>>12),C=I+(M^N&(D^M))+T[13]+2850285829&4294967295,I=D+(C<<5&4294967295|C>>>27),C=N+(D^M&(I^D))+T[2]+4243563512&4294967295,N=I+(C<<9&4294967295|C>>>23),C=M+(I^D&(N^I))+T[7]+1735328473&4294967295,M=N+(C<<14&4294967295|C>>>18),C=D+(N^I&(M^N))+T[12]+2368359562&4294967295,D=M+(C<<20&4294967295|C>>>12),C=I+(D^M^N)+T[5]+4294588738&4294967295,I=D+(C<<4&4294967295|C>>>28),C=N+(I^D^M)+T[8]+2272392833&4294967295,N=I+(C<<11&4294967295|C>>>21),C=M+(N^I^D)+T[11]+1839030562&4294967295,M=N+(C<<16&4294967295|C>>>16),C=D+(M^N^I)+T[14]+4259657740&4294967295,D=M+(C<<23&4294967295|C>>>9),C=I+(D^M^N)+T[1]+2763975236&4294967295,I=D+(C<<4&4294967295|C>>>28),C=N+(I^D^M)+T[4]+1272893353&4294967295,N=I+(C<<11&4294967295|C>>>21),C=M+(N^I^D)+T[7]+4139469664&4294967295,M=N+(C<<16&4294967295|C>>>16),C=D+(M^N^I)+T[10]+3200236656&4294967295,D=M+(C<<23&4294967295|C>>>9),C=I+(D^M^N)+T[13]+681279174&4294967295,I=D+(C<<4&4294967295|C>>>28),C=N+(I^D^M)+T[0]+3936430074&4294967295,N=I+(C<<11&4294967295|C>>>21),C=M+(N^I^D)+T[3]+3572445317&4294967295,M=N+(C<<16&4294967295|C>>>16),C=D+(M^N^I)+T[6]+76029189&4294967295,D=M+(C<<23&4294967295|C>>>9),C=I+(D^M^N)+T[9]+3654602809&4294967295,I=D+(C<<4&4294967295|C>>>28),C=N+(I^D^M)+T[12]+3873151461&4294967295,N=I+(C<<11&4294967295|C>>>21),C=M+(N^I^D)+T[15]+530742520&4294967295,M=N+(C<<16&4294967295|C>>>16),C=D+(M^N^I)+T[2]+3299628645&4294967295,D=M+(C<<23&4294967295|C>>>9),C=I+(M^(D|~N))+T[0]+4096336452&4294967295,I=D+(C<<6&4294967295|C>>>26),C=N+(D^(I|~M))+T[7]+1126891415&4294967295,N=I+(C<<10&4294967295|C>>>22),C=M+(I^(N|~D))+T[14]+2878612391&4294967295,M=N+(C<<15&4294967295|C>>>17),C=D+(N^(M|~I))+T[5]+4237533241&4294967295,D=M+(C<<21&4294967295|C>>>11),C=I+(M^(D|~N))+T[12]+1700485571&4294967295,I=D+(C<<6&4294967295|C>>>26),C=N+(D^(I|~M))+T[3]+2399980690&4294967295,N=I+(C<<10&4294967295|C>>>22),C=M+(I^(N|~D))+T[10]+4293915773&4294967295,M=N+(C<<15&4294967295|C>>>17),C=D+(N^(M|~I))+T[1]+2240044497&4294967295,D=M+(C<<21&4294967295|C>>>11),C=I+(M^(D|~N))+T[8]+1873313359&4294967295,I=D+(C<<6&4294967295|C>>>26),C=N+(D^(I|~M))+T[15]+4264355552&4294967295,N=I+(C<<10&4294967295|C>>>22),C=M+(I^(N|~D))+T[6]+2734768916&4294967295,M=N+(C<<15&4294967295|C>>>17),C=D+(N^(M|~I))+T[13]+1309151649&4294967295,D=M+(C<<21&4294967295|C>>>11),C=I+(M^(D|~N))+T[4]+4149444226&4294967295,I=D+(C<<6&4294967295|C>>>26),C=N+(D^(I|~M))+T[11]+3174756917&4294967295,N=I+(C<<10&4294967295|C>>>22),C=M+(I^(N|~D))+T[2]+718787259&4294967295,M=N+(C<<15&4294967295|C>>>17),C=D+(N^(M|~I))+T[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+N&4294967295}r.prototype.u=function(A,I){I===void 0&&(I=A.length);for(var D=I-this.blockSize,T=this.B,M=this.h,N=0;N<I;){if(M==0)for(;N<=D;)i(this,A,N),N+=this.blockSize;if(typeof A=="string"){for(;N<I;)if(T[M++]=A.charCodeAt(N++),M==this.blockSize){i(this,T),M=0;break}}else for(;N<I;)if(T[M++]=A[N++],M==this.blockSize){i(this,T),M=0;break}}this.h=M,this.o+=I},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;var D=8*this.o;for(I=A.length-8;I<A.length;++I)A[I]=D&255,D/=256;for(this.u(A),A=Array(16),I=D=0;4>I;++I)for(var T=0;32>T;T+=8)A[D++]=this.g[I]>>>T&255;return A};function o(A,I){var D=a;return Object.prototype.hasOwnProperty.call(D,A)?D[A]:D[A]=I(A)}function s(A,I){this.h=I;for(var D=[],T=!0,M=A.length-1;0<=M;M--){var N=A[M]|0;T&&N==I||(D[M]=N,T=!1)}this.g=D}var a={};function l(A){return-128<=A&&128>A?o(A,function(I){return new s([I|0],0>I?-1:0)}):new s([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return g;if(0>A)return O(u(-A));for(var I=[],D=1,T=0;A>=D;T++)I[T]=A/D|0,D*=4294967296;return new s(I,0)}function h(A,I){if(A.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A.charAt(0)=="-")return O(h(A.substring(1),I));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=u(Math.pow(I,8)),T=g,M=0;M<A.length;M+=8){var N=Math.min(8,A.length-M),C=parseInt(A.substring(M,M+N),I);8>N?(N=u(Math.pow(I,N)),T=T.j(N).add(u(C))):(T=T.j(D),T=T.add(u(C)))}return T}var g=l(0),v=l(1),w=l(16777216);n=s.prototype,n.m=function(){if(F(this))return-O(this).m();for(var A=0,I=1,D=0;D<this.g.length;D++){var T=this.i(D);A+=(0<=T?T:4294967296+T)*I,I*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x(this))return"0";if(F(this))return"-"+O(this).toString(A);for(var I=u(Math.pow(A,6)),D=this,T="";;){var M=Be(D,I).g;D=W(D,M.j(I));var N=((0<D.g.length?D.g[0]:D.h)>>>0).toString(A);if(D=M,x(D))return N+T;for(;6>N.length;)N="0"+N;T=N+T}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function x(A){if(A.h!=0)return!1;for(var I=0;I<A.g.length;I++)if(A.g[I]!=0)return!1;return!0}function F(A){return A.h==-1}n.l=function(A){return A=W(this,A),F(A)?-1:x(A)?0:1};function O(A){for(var I=A.g.length,D=[],T=0;T<I;T++)D[T]=~A.g[T];return new s(D,~A.h).add(v)}n.abs=function(){return F(this)?O(this):this},n.add=function(A){for(var I=Math.max(this.g.length,A.g.length),D=[],T=0,M=0;M<=I;M++){var N=T+(this.i(M)&65535)+(A.i(M)&65535),C=(N>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);T=C>>>16,N&=65535,C&=65535,D[M]=C<<16|N}return new s(D,D[D.length-1]&-2147483648?-1:0)};function W(A,I){return A.add(O(I))}n.j=function(A){if(x(this)||x(A))return g;if(F(this))return F(A)?O(this).j(O(A)):O(O(this).j(A));if(F(A))return O(this.j(O(A)));if(0>this.l(w)&&0>A.l(w))return u(this.m()*A.m());for(var I=this.g.length+A.g.length,D=[],T=0;T<2*I;T++)D[T]=0;for(T=0;T<this.g.length;T++)for(var M=0;M<A.g.length;M++){var N=this.i(T)>>>16,C=this.i(T)&65535,Zr=A.i(M)>>>16,Oc=A.i(M)&65535;D[2*T+2*M]+=C*Oc,se(D,2*T+2*M),D[2*T+2*M+1]+=N*Oc,se(D,2*T+2*M+1),D[2*T+2*M+1]+=C*Zr,se(D,2*T+2*M+1),D[2*T+2*M+2]+=N*Zr,se(D,2*T+2*M+2)}for(T=0;T<I;T++)D[T]=D[2*T+1]<<16|D[2*T];for(T=I;T<2*I;T++)D[T]=0;return new s(D,0)};function se(A,I){for(;(A[I]&65535)!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function he(A,I){this.g=A,this.h=I}function Be(A,I){if(x(I))throw Error("division by zero");if(x(A))return new he(g,g);if(F(A))return I=Be(O(A),I),new he(O(I.g),O(I.h));if(F(I))return I=Be(A,O(I)),new he(O(I.g),I.h);if(30<A.g.length){if(F(A)||F(I))throw Error("slowDivide_ only works with positive integers.");for(var D=v,T=I;0>=T.l(A);)D=en(D),T=en(T);var M=Ve(D,1),N=Ve(T,1);for(T=Ve(T,2),D=Ve(D,2);!x(T);){var C=N.add(T);0>=C.l(A)&&(M=M.add(D),N=C),T=Ve(T,1),D=Ve(D,1)}return I=W(A,M.j(I)),new he(M,I)}for(M=g;0<=A.l(I);){for(D=Math.max(1,Math.floor(A.m()/I.m())),T=Math.ceil(Math.log(D)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),N=u(D),C=N.j(I);F(C)||0<C.l(A);)D-=T,N=u(D),C=N.j(I);x(N)&&(N=v),M=M.add(N),A=W(A,C)}return new he(M,A)}n.A=function(A){return Be(this,A).h},n.and=function(A){for(var I=Math.max(this.g.length,A.g.length),D=[],T=0;T<I;T++)D[T]=this.i(T)&A.i(T);return new s(D,this.h&A.h)},n.or=function(A){for(var I=Math.max(this.g.length,A.g.length),D=[],T=0;T<I;T++)D[T]=this.i(T)|A.i(T);return new s(D,this.h|A.h)},n.xor=function(A){for(var I=Math.max(this.g.length,A.g.length),D=[],T=0;T<I;T++)D[T]=this.i(T)^A.i(T);return new s(D,this.h^A.h)};function en(A){for(var I=A.g.length+1,D=[],T=0;T<I;T++)D[T]=A.i(T)<<1|A.i(T-1)>>>31;return new s(D,A.h)}function Ve(A,I){var D=I>>5;I%=32;for(var T=A.g.length-D,M=[],N=0;N<T;N++)M[N]=0<I?A.i(N+D)>>>I|A.i(N+D+1)<<32-I:A.i(N+D);return new s(M,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,NE=ZR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,xi=ZR.Integer=s}).apply(typeof YR<"u"?YR:typeof self<"u"?self:typeof window<"u"?window:{});var Xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mi={};var kE,M6,oc,OE,Uu,em,FE,LE,VE;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,p){return c==Array.prototype||c==Object.prototype||(c[d]=p.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xp=="object"&&Xp];for(var d=0;d<c.length;++d){var p=c[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var p=r;c=c.split(".");for(var _=0;_<c.length-1;_++){var R=c[_];if(!(R in p))break e;p=p[R]}c=c[c.length-1],_=p[c],d=d(_),d!=_&&d!=null&&e(p,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var p=0,_=!1,R={next:function(){if(!_&&p<c.length){var k=p++;return{value:d(k,c[k]),done:!1}}return _=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,p){return p})}});var s=s||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,p){return c.call.apply(c.bind,arguments)}function g(c,d,p){if(!c)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,_),c.apply(d,R)}}return function(){return c.apply(d,arguments)}}function v(c,d,p){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:g,v.apply(null,arguments)}function w(c,d){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),c.apply(this,_)}}function x(c,d){function p(){}p.prototype=d.prototype,c.aa=d.prototype,c.prototype=new p,c.prototype.constructor=c,c.Qb=function(_,R,k){for(var q=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)q[$e-2]=arguments[$e];return d.prototype[R].apply(_,q)}}function F(c){let d=c.length;if(0<d){let p=Array(d);for(let _=0;_<d;_++)p[_]=c[_];return p}return[]}function O(c,d){for(let p=1;p<arguments.length;p++){let _=arguments[p];if(l(_)){let R=c.length||0,k=_.length||0;c.length=R+k;for(let q=0;q<k;q++)c[R+q]=_[q]}else c.push(_)}}class W{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function se(c){return/^[\s\xa0]*$/.test(c)}function he(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Be(c){return Be[" "](c),c}Be[" "]=function(){};var en=he().indexOf("Gecko")!=-1&&!(he().toLowerCase().indexOf("webkit")!=-1&&he().indexOf("Edge")==-1)&&!(he().indexOf("Trident")!=-1||he().indexOf("MSIE")!=-1)&&he().indexOf("Edge")==-1;function Ve(c,d,p){for(let _ in c)d.call(p,c[_],_,c)}function A(c,d){for(let p in c)d.call(void 0,c[p],p,c)}function I(c){let d={};for(let p in c)d[p]=c[p];return d}let D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,d){let p,_;for(let R=1;R<arguments.length;R++){_=arguments[R];for(p in _)c[p]=_[p];for(let k=0;k<D.length;k++)p=D[k],Object.prototype.hasOwnProperty.call(_,p)&&(c[p]=_[p])}}function M(c){var d=1;c=c.split(":");let p=[];for(;0<d&&c.length;)p.push(c.shift()),d--;return c.length&&p.push(c.join(":")),p}function N(c){a.setTimeout(()=>{throw c},0)}function C(){var c=Dg;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Zr{constructor(){this.h=this.g=null}add(d,p){let _=Oc.get();_.set(d,p),this.h?this.h.next=_:this.g=_,this.h=_}}var Oc=new W(()=>new pO,c=>c.reset());class pO{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Fc,Lc=!1,Dg=new Zr,uC=()=>{let c=a.Promise.resolve(void 0);Fc=()=>{c.then(mO)}};var mO=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(p){N(p)}var d=Oc;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Lc=!1};function Li(){this.s=this.s,this.C=this.C}Li.prototype.s=!1,Li.prototype.ma=function(){this.s||(this.s=!0,this.N())},Li.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ht(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Ht.prototype.h=function(){this.defaultPrevented=!0};var gO=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let p=()=>{};a.addEventListener("test",p,d),a.removeEventListener("test",p,d)}catch{}return c})();function Vc(c,d){if(Ht.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var p=this.type=c.type,_=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(en){e:{try{Be(d.nodeName);var R=!0;break e}catch{}R=!1}R||(d=null)}}else p=="mouseover"?d=c.fromElement:p=="mouseout"&&(d=c.toElement);this.relatedTarget=d,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:yO[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Vc.aa.h.call(this)}}x(Vc,Ht);var yO={2:"touch",3:"pen",4:"mouse"};Vc.prototype.h=function(){Vc.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var jc="closure_listenable_"+(1e6*Math.random()|0),vO=0;function _O(c,d,p,_,R){this.listener=c,this.proxy=null,this.src=d,this.type=p,this.capture=!!_,this.ha=R,this.key=++vO,this.da=this.fa=!1}function md(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function gd(c){this.src=c,this.g={},this.h=0}gd.prototype.add=function(c,d,p,_,R){var k=c.toString();c=this.g[k],c||(c=this.g[k]=[],this.h++);var q=Sg(c,d,_,R);return-1<q?(d=c[q],p||(d.fa=!1)):(d=new _O(d,this.src,k,!!_,R),d.fa=p,c.push(d)),d};function Tg(c,d){var p=d.type;if(p in c.g){var _=c.g[p],R=Array.prototype.indexOf.call(_,d,void 0),k;(k=0<=R)&&Array.prototype.splice.call(_,R,1),k&&(md(d),c.g[p].length==0&&(delete c.g[p],c.h--))}}function Sg(c,d,p,_){for(var R=0;R<c.length;++R){var k=c[R];if(!k.da&&k.listener==d&&k.capture==!!p&&k.ha==_)return R}return-1}var Ag="closure_lm_"+(1e6*Math.random()|0),xg={};function dC(c,d,p,_,R){if(_&&_.once)return fC(c,d,p,_,R);if(Array.isArray(d)){for(var k=0;k<d.length;k++)dC(c,d[k],p,_,R);return null}return p=Ng(p),c&&c[jc]?c.K(d,p,u(_)?!!_.capture:!!_,R):hC(c,d,p,!1,_,R)}function hC(c,d,p,_,R,k){if(!d)throw Error("Invalid event type");var q=u(R)?!!R.capture:!!R,$e=Rg(c);if($e||(c[Ag]=$e=new gd(c)),p=$e.add(d,p,_,q,k),p.proxy)return p;if(_=bO(),p.proxy=_,_.src=c,_.listener=p,c.addEventListener)gO||(R=q),R===void 0&&(R=!1),c.addEventListener(d.toString(),_,R);else if(c.attachEvent)c.attachEvent(mC(d.toString()),_);else if(c.addListener&&c.removeListener)c.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function bO(){function c(p){return d.call(c.src,c.listener,p)}let d=EO;return c}function fC(c,d,p,_,R){if(Array.isArray(d)){for(var k=0;k<d.length;k++)fC(c,d[k],p,_,R);return null}return p=Ng(p),c&&c[jc]?c.L(d,p,u(_)?!!_.capture:!!_,R):hC(c,d,p,!0,_,R)}function pC(c,d,p,_,R){if(Array.isArray(d))for(var k=0;k<d.length;k++)pC(c,d[k],p,_,R);else _=u(_)?!!_.capture:!!_,p=Ng(p),c&&c[jc]?(c=c.i,d=String(d).toString(),d in c.g&&(k=c.g[d],p=Sg(k,p,_,R),-1<p&&(md(k[p]),Array.prototype.splice.call(k,p,1),k.length==0&&(delete c.g[d],c.h--)))):c&&(c=Rg(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Sg(d,p,_,R)),(p=-1<c?d[c]:null)&&Mg(p))}function Mg(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[jc])Tg(d.i,c);else{var p=c.type,_=c.proxy;d.removeEventListener?d.removeEventListener(p,_,c.capture):d.detachEvent?d.detachEvent(mC(p),_):d.addListener&&d.removeListener&&d.removeListener(_),(p=Rg(d))?(Tg(p,c),p.h==0&&(p.src=null,d[Ag]=null)):md(c)}}}function mC(c){return c in xg?xg[c]:xg[c]="on"+c}function EO(c,d){if(c.da)c=!0;else{d=new Vc(d,this);var p=c.listener,_=c.ha||c.src;c.fa&&Mg(c),c=p.call(_,d)}return c}function Rg(c){return c=c[Ag],c instanceof gd?c:null}var Pg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ng(c){return typeof c=="function"?c:(c[Pg]||(c[Pg]=function(d){return c.handleEvent(d)}),c[Pg])}function zt(){Li.call(this),this.i=new gd(this),this.M=this,this.F=null}x(zt,Li),zt.prototype[jc]=!0,zt.prototype.removeEventListener=function(c,d,p,_){pC(this,c,d,p,_)};function tn(c,d){var p,_=c.F;if(_)for(p=[];_;_=_.F)p.push(_);if(c=c.M,_=d.type||d,typeof d=="string")d=new Ht(d,c);else if(d instanceof Ht)d.target=d.target||c;else{var R=d;d=new Ht(_,c),T(d,R)}if(R=!0,p)for(var k=p.length-1;0<=k;k--){var q=d.g=p[k];R=yd(q,_,!0,d)&&R}if(q=d.g=c,R=yd(q,_,!0,d)&&R,R=yd(q,_,!1,d)&&R,p)for(k=0;k<p.length;k++)q=d.g=p[k],R=yd(q,_,!1,d)&&R}zt.prototype.N=function(){if(zt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var p=c.g[d],_=0;_<p.length;_++)md(p[_]);delete c.g[d],c.h--}}this.F=null},zt.prototype.K=function(c,d,p,_){return this.i.add(String(c),d,!1,p,_)},zt.prototype.L=function(c,d,p,_){return this.i.add(String(c),d,!0,p,_)};function yd(c,d,p,_){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var R=!0,k=0;k<d.length;++k){var q=d[k];if(q&&!q.da&&q.capture==p){var $e=q.listener,Vt=q.ha||q.src;q.fa&&Tg(c.i,q),R=$e.call(Vt,_)!==!1&&R}}return R&&!_.defaultPrevented}function gC(c,d,p){if(typeof c=="function")p&&(c=v(c,p));else if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function yC(c){c.g=gC(()=>{c.g=null,c.i&&(c.i=!1,yC(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class wO extends Li{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:yC(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uc(c){Li.call(this),this.h=c,this.g={}}x(Uc,Li);var vC=[];function _C(c){Ve(c.g,function(d,p){this.g.hasOwnProperty(p)&&Mg(d)},c),c.g={}}Uc.prototype.N=function(){Uc.aa.N.call(this),_C(this)},Uc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kg=a.JSON.stringify,IO=a.JSON.parse,CO=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Og(){}Og.prototype.h=null;function bC(c){return c.h||(c.h=c.i())}function EC(){}var Bc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fg(){Ht.call(this,"d")}x(Fg,Ht);function Lg(){Ht.call(this,"c")}x(Lg,Ht);var Uo={},wC=null;function vd(){return wC=wC||new zt}Uo.La="serverreachability";function IC(c){Ht.call(this,Uo.La,c)}x(IC,Ht);function $c(c){let d=vd();tn(d,new IC(d))}Uo.STAT_EVENT="statevent";function CC(c,d){Ht.call(this,Uo.STAT_EVENT,c),this.stat=d}x(CC,Ht);function nn(c){let d=vd();tn(d,new CC(d,c))}Uo.Ma="timingevent";function DC(c,d){Ht.call(this,Uo.Ma,c),this.size=d}x(DC,Ht);function Hc(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function zc(){this.g=!0}zc.prototype.xa=function(){this.g=!1};function DO(c,d,p,_,R,k){c.info(function(){if(c.g)if(k)for(var q="",$e=k.split("&"),Vt=0;Vt<$e.length;Vt++){var Ne=$e[Vt].split("=");if(1<Ne.length){var qt=Ne[0];Ne=Ne[1];var Wt=qt.split("_");q=2<=Wt.length&&Wt[1]=="type"?q+(qt+"="+Ne+"&"):q+(qt+"=redacted&")}}else q=null;else q=k;return"XMLHTTP REQ ("+_+") [attempt "+R+"]: "+d+`
`+p+`
`+q})}function TO(c,d,p,_,R,k,q){c.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+R+"]: "+d+`
`+p+`
`+k+" "+q})}function Ks(c,d,p,_){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+AO(c,p)+(_?" "+_:"")})}function SO(c,d){c.info(function(){return"TIMEOUT: "+d})}zc.prototype.info=function(){};function AO(c,d){if(!c.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(c=0;c<p.length;c++)if(Array.isArray(p[c])){var _=p[c];if(!(2>_.length)){var R=_[1];if(Array.isArray(R)&&!(1>R.length)){var k=R[0];if(k!="noop"&&k!="stop"&&k!="close")for(var q=1;q<R.length;q++)R[q]=""}}}}return kg(p)}catch{return d}}var _d={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},TC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vg;function bd(){}x(bd,Og),bd.prototype.g=function(){return new XMLHttpRequest},bd.prototype.i=function(){return{}},Vg=new bd;function Vi(c,d,p,_){this.j=c,this.i=d,this.l=p,this.R=_||1,this.U=new Uc(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new SC}function SC(){this.i=null,this.g="",this.h=!1}var AC={},jg={};function Ug(c,d,p){c.L=1,c.v=Cd(Xr(d)),c.m=p,c.P=!0,xC(c,null)}function xC(c,d){c.F=Date.now(),Ed(c),c.A=Xr(c.v);var p=c.A,_=c.R;Array.isArray(_)||(_=[String(_)]),HC(p.i,"t",_),c.C=0,p=c.j.J,c.h=new SC,c.g=aD(c.j,p?d:null,!c.m),0<c.O&&(c.M=new wO(v(c.Y,c,c.g),c.O)),d=c.U,p=c.g,_=c.ca;var R="readystatechange";Array.isArray(R)||(R&&(vC[0]=R.toString()),R=vC);for(var k=0;k<R.length;k++){var q=dC(p,R[k],_||d.handleEvent,!1,d.h||d);if(!q)break;d.g[q.key]=q}d=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),$c(),DO(c.i,c.u,c.A,c.l,c.R,c.m)}Vi.prototype.ca=function(c){c=c.target;let d=this.M;d&&ei(c)==3?d.j():this.Y(c)},Vi.prototype.Y=function(c){try{if(c==this.g)e:{let Wt=ei(this.g);var d=this.g.Ba();let Zs=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||QC(this.g)))){this.J||Wt!=4||d==7||(d==8||0>=Zs?$c(3):$c(2)),Bg(this);var p=this.g.Z();this.X=p;t:if(MC(this)){var _=QC(this.g);c="";var R=_.length,k=ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bo(this),qc(this);var q="";break t}this.h.i=new a.TextDecoder}for(d=0;d<R;d++)this.h.h=!0,c+=this.h.i.decode(_[d],{stream:!(k&&d==R-1)});_.length=0,this.h.g+=c,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=p==200,TO(this.i,this.u,this.A,this.l,this.R,Wt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Vt=this.g;if(($e=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se($e)){var Ne=$e;break t}}Ne=null}if(p=Ne)Ks(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$g(this,p);else{this.o=!1,this.s=3,nn(12),Bo(this),qc(this);break e}}if(this.P){p=!0;let Kn;for(;!this.J&&this.C<q.length;)if(Kn=xO(this,q),Kn==jg){Wt==4&&(this.s=4,nn(14),p=!1),Ks(this.i,this.l,null,"[Incomplete Response]");break}else if(Kn==AC){this.s=4,nn(15),Ks(this.i,this.l,q,"[Invalid Chunk]"),p=!1;break}else Ks(this.i,this.l,Kn,null),$g(this,Kn);if(MC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||q.length!=0||this.h.h||(this.s=1,nn(16),p=!1),this.o=this.o&&p,!p)Ks(this.i,this.l,q,"[Invalid Chunked Response]"),Bo(this),qc(this);else if(0<q.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Jg(qt),qt.M=!0,nn(11))}}else Ks(this.i,this.l,q,null),$g(this,q);Wt==4&&Bo(this),this.o&&!this.J&&(Wt==4?rD(this.j,this):(this.o=!1,Ed(this)))}else WO(this.g),p==400&&0<q.indexOf("Unknown SID")?(this.s=3,nn(12)):(this.s=0,nn(13)),Bo(this),qc(this)}}}catch{}finally{}};function MC(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function xO(c,d){var p=c.C,_=d.indexOf(`
`,p);return _==-1?jg:(p=Number(d.substring(p,_)),isNaN(p)?AC:(_+=1,_+p>d.length?jg:(d=d.slice(_,_+p),c.C=_+p,d)))}Vi.prototype.cancel=function(){this.J=!0,Bo(this)};function Ed(c){c.S=Date.now()+c.I,RC(c,c.I)}function RC(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Hc(v(c.ba,c),d)}function Bg(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Vi.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(SO(this.i,this.A),this.L!=2&&($c(),nn(17)),Bo(this),this.s=2,qc(this)):RC(this,this.S-c)};function qc(c){c.j.G==0||c.J||rD(c.j,c)}function Bo(c){Bg(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,_C(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function $g(c,d){try{var p=c.j;if(p.G!=0&&(p.g==c||Hg(p.h,c))){if(!c.K&&Hg(p.h,c)&&p.G==3){try{var _=p.Da.g.parse(d)}catch{_=null}if(Array.isArray(_)&&_.length==3){var R=_;if(R[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<c.F)xd(p),Sd(p);else break e;Gg(p),nn(18)}}else p.za=R[1],0<p.za-p.T&&37500>R[2]&&p.F&&p.v==0&&!p.C&&(p.C=Hc(v(p.Za,p),6e3));if(1>=kC(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ho(p,11)}else if((c.K||p.g==c)&&xd(p),!se(d))for(R=p.Da.g.parse(d),d=0;d<R.length;d++){let Ne=R[d];if(p.T=Ne[0],Ne=Ne[1],p.G==2)if(Ne[0]=="c"){p.K=Ne[1],p.ia=Ne[2];let qt=Ne[3];qt!=null&&(p.la=qt,p.j.info("VER="+p.la));let Wt=Ne[4];Wt!=null&&(p.Aa=Wt,p.j.info("SVER="+p.Aa));let Zs=Ne[5];Zs!=null&&typeof Zs=="number"&&0<Zs&&(_=1.5*Zs,p.L=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;let Kn=c.g;if(Kn){let Rd=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rd){var k=_.h;k.g||Rd.indexOf("spdy")==-1&&Rd.indexOf("quic")==-1&&Rd.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(zg(k,k.h),k.h=null))}if(_.D){let Kg=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;Kg&&(_.ya=Kg,Je(_.I,_.D,Kg))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-c.F,p.j.info("Handshake RTT: "+p.R+"ms")),_=p;var q=c;if(_.qa=sD(_,_.J?_.ia:null,_.W),q.K){OC(_.h,q);var $e=q,Vt=_.L;Vt&&($e.I=Vt),$e.B&&(Bg($e),Ed($e)),_.g=q}else tD(_);0<p.i.length&&Ad(p)}else Ne[0]!="stop"&&Ne[0]!="close"||Ho(p,7);else p.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Ho(p,7):Wg(p):Ne[0]!="noop"&&p.l&&p.l.ta(Ne),p.v=0)}}$c(4)}catch{}}var MO=class{constructor(c,d){this.g=c,this.map=d}};function PC(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function NC(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function kC(c){return c.h?1:c.g?c.g.size:0}function Hg(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function zg(c,d){c.g?c.g.add(d):c.h=d}function OC(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}PC.prototype.cancel=function(){if(this.i=FC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function FC(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let p of c.g.values())d=d.concat(p.D);return d}return F(c.i)}function RO(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],p=c.length,_=0;_<p;_++)d.push(c[_]);return d}d=[],p=0;for(_ in c)d[p++]=c[_];return d}function PO(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var p=0;p<c;p++)d.push(p);return d}d=[],p=0;for(let _ in c)d[p++]=_;return d}}}function LC(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var p=PO(c),_=RO(c),R=_.length,k=0;k<R;k++)d.call(void 0,_[k],p&&p[k],c)}var VC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NO(c,d){if(c){c=c.split("&");for(var p=0;p<c.length;p++){var _=c[p].indexOf("="),R=null;if(0<=_){var k=c[p].substring(0,_);R=c[p].substring(_+1)}else k=c[p];d(k,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function $o(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof $o){this.h=c.h,wd(this,c.j),this.o=c.o,this.g=c.g,Id(this,c.s),this.l=c.l;var d=c.i,p=new Jc;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),jC(this,p),this.m=c.m}else c&&(d=String(c).match(VC))?(this.h=!1,wd(this,d[1]||"",!0),this.o=Wc(d[2]||""),this.g=Wc(d[3]||"",!0),Id(this,d[4]),this.l=Wc(d[5]||"",!0),jC(this,d[6]||"",!0),this.m=Wc(d[7]||"")):(this.h=!1,this.i=new Jc(null,this.h))}$o.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Gc(d,UC,!0),":");var p=this.g;return(p||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Gc(d,UC,!0),"@"),c.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&c.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&c.push("/"),c.push(Gc(p,p.charAt(0)=="/"?FO:OO,!0))),(p=this.i.toString())&&c.push("?",p),(p=this.m)&&c.push("#",Gc(p,VO)),c.join("")};function Xr(c){return new $o(c)}function wd(c,d,p){c.j=p?Wc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Id(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function jC(c,d,p){d instanceof Jc?(c.i=d,jO(c.i,c.h)):(p||(d=Gc(d,LO)),c.i=new Jc(d,c.h))}function Je(c,d,p){c.i.set(d,p)}function Cd(c){return Je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Wc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Gc(c,d,p){return typeof c=="string"?(c=encodeURI(c).replace(d,kO),p&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function kO(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var UC=/[#\/\?@]/g,OO=/[#\?:]/g,FO=/[#\?]/g,LO=/[#\?@]/g,VO=/#/g;function Jc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ji(c){c.g||(c.g=new Map,c.h=0,c.i&&NO(c.i,function(d,p){c.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}n=Jc.prototype,n.add=function(c,d){ji(this),this.i=null,c=Qs(this,c);var p=this.g.get(c);return p||this.g.set(c,p=[]),p.push(d),this.h+=1,this};function BC(c,d){ji(c),d=Qs(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function $C(c,d){return ji(c),d=Qs(c,d),c.g.has(d)}n.forEach=function(c,d){ji(this),this.g.forEach(function(p,_){p.forEach(function(R){c.call(d,R,_,this)},this)},this)},n.na=function(){ji(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let _=0;_<d.length;_++){let R=c[_];for(let k=0;k<R.length;k++)p.push(d[_])}return p},n.V=function(c){ji(this);let d=[];if(typeof c=="string")$C(this,c)&&(d=d.concat(this.g.get(Qs(this,c))));else{c=Array.from(this.g.values());for(let p=0;p<c.length;p++)d=d.concat(c[p])}return d},n.set=function(c,d){return ji(this),this.i=null,c=Qs(this,c),$C(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function HC(c,d,p){BC(c,d),0<p.length&&(c.i=null,c.g.set(Qs(c,d),F(p)),c.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var _=d[p];let k=encodeURIComponent(String(_)),q=this.V(_);for(_=0;_<q.length;_++){var R=k;q[_]!==""&&(R+="="+encodeURIComponent(String(q[_]))),c.push(R)}}return this.i=c.join("&")};function Qs(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function jO(c,d){d&&!c.j&&(ji(c),c.i=null,c.g.forEach(function(p,_){var R=_.toLowerCase();_!=R&&(BC(this,_),HC(this,R,p))},c)),c.j=d}function UO(c,d){let p=new zc;if(a.Image){let _=new Image;_.onload=w(Ui,p,"TestLoadImage: loaded",!0,d,_),_.onerror=w(Ui,p,"TestLoadImage: error",!1,d,_),_.onabort=w(Ui,p,"TestLoadImage: abort",!1,d,_),_.ontimeout=w(Ui,p,"TestLoadImage: timeout",!1,d,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=c}else d(!1)}function BO(c,d){let p=new zc,_=new AbortController,R=setTimeout(()=>{_.abort(),Ui(p,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:_.signal}).then(k=>{clearTimeout(R),k.ok?Ui(p,"TestPingServer: ok",!0,d):Ui(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(R),Ui(p,"TestPingServer: error",!1,d)})}function Ui(c,d,p,_,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),_(p)}catch{}}function $O(){this.g=new CO}function HO(c,d,p){let _=p||"";try{LC(c,function(R,k){let q=R;u(R)&&(q=kg(R)),d.push(_+k+"="+encodeURIComponent(q))})}catch(R){throw d.push(_+"type="+encodeURIComponent("_badmap")),R}}function Kc(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Kc,Og),Kc.prototype.g=function(){return new Dd(this.l,this.j)},Kc.prototype.i=(function(c){return function(){return c}})({});function Dd(c,d){zt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Dd,zt),n=Dd.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Yc(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qc(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yc(this)),this.g&&(this.readyState=3,Yc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zC(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function zC(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Qc(this):Yc(this),this.readyState==3&&zC(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Qc(this))},n.Qa=function(c){this.g&&(this.response=c,Qc(this))},n.ga=function(){this.g&&Qc(this)};function Qc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Yc(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,c.push(p[0]+": "+p[1]),p=d.next();return c.join(`\r
`)};function Yc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Dd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function qC(c){let d="";return Ve(c,function(p,_){d+=_,d+=":",d+=p,d+=`\r
`}),d}function qg(c,d,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=qC(p),typeof c=="string"?p!=null&&encodeURIComponent(String(p)):Je(c,d,p))}function it(c){zt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(it,zt);var zO=/^https?$/i,qO=["POST","PUT"];n=it.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vg.g(),this.v=this.o?bC(this.o):bC(Vg),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(k){WC(this,k);return}if(c=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var R in _)p.set(R,_[R]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(let k of _.keys())p.set(k,_.get(k));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),R=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(qO,d,void 0))||_||R||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,q]of p)this.g.setRequestHeader(k,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{KC(this),this.u=!0,this.g.send(c),this.u=!1}catch(k){WC(this,k)}};function WC(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,GC(c),Td(c)}function GC(c){c.A||(c.A=!0,tn(c,"complete"),tn(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,tn(this,"complete"),tn(this,"abort"),Td(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Td(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?JC(this):this.bb())},n.bb=function(){JC(this)};function JC(c){if(c.h&&typeof s<"u"&&(!c.v[1]||ei(c)!=4||c.Z()!=2)){if(c.u&&ei(c)==4)gC(c.Ea,0,c);else if(tn(c,"readystatechange"),ei(c)==4){c.h=!1;try{let q=c.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var _;if(_=q===0){var R=String(c.D).match(VC)[1]||null;!R&&a.self&&a.self.location&&(R=a.self.location.protocol.slice(0,-1)),_=!zO.test(R?R.toLowerCase():"")}p=_}if(p)tn(c,"complete"),tn(c,"success");else{c.m=6;try{var k=2<ei(c)?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.Z()+"]",GC(c)}}finally{Td(c)}}}}function Td(c,d){if(c.g){KC(c);let p=c.g,_=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||tn(c,"ready");try{p.onreadystatechange=_}catch{}}}function KC(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function ei(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<ei(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),IO(d)}};function QC(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function WO(c){let d={};c=(c.g&&2<=ei(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<c.length;_++){if(se(c[_]))continue;var p=M(c[_]);let R=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let k=d[R]||[];d[R]=k,k.push(p)}A(d,function(_){return _.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zc(c,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[c]||d}function YC(c){this.Aa=0,this.i=[],this.j=new zc,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zc("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zc("baseRetryDelayMs",5e3,c),this.cb=Zc("retryDelaySeedMs",1e4,c),this.Wa=Zc("forwardChannelMaxRetries",2,c),this.wa=Zc("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new PC(c&&c.concurrentRequestLimit),this.Da=new $O,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=YC.prototype,n.la=8,n.G=1,n.connect=function(c,d,p,_){nn(0),this.W=c,this.H=d||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.I=sD(this,null,this.W),Ad(this)};function Wg(c){if(ZC(c),c.G==3){var d=c.U++,p=Xr(c.I);if(Je(p,"SID",c.K),Je(p,"RID",d),Je(p,"TYPE","terminate"),Xc(c,p),d=new Vi(c,c.j,d),d.L=2,d.v=Cd(Xr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=d.v,p=!0),p||(d.g=aD(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ed(d)}oD(c)}function Sd(c){c.g&&(Jg(c),c.g.cancel(),c.g=null)}function ZC(c){Sd(c),c.u&&(a.clearTimeout(c.u),c.u=null),xd(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ad(c){if(!NC(c.h)&&!c.s){c.s=!0;var d=c.Ga;Fc||uC(),Lc||(Fc(),Lc=!0),Dg.add(d,c),c.B=0}}function GO(c,d){return kC(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Hc(v(c.Ga,c,d),iD(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let R=new Vi(this,this.j,c),k=this.o;if(this.S&&(k?(k=I(k),T(k,this.S)):k=this.S),this.m!==null||this.O||(R.H=k,k=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(d+=_,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=eD(this,R,d),p=Xr(this.I),Je(p,"RID",c),Je(p,"CVER",22),this.D&&Je(p,"X-HTTP-Session-Id",this.D),Xc(this,p),k&&(this.O?d="headers="+encodeURIComponent(String(qC(k)))+"&"+d:this.m&&qg(p,this.m,k)),zg(this.h,R),this.Ua&&Je(p,"TYPE","init"),this.P?(Je(p,"$req",d),Je(p,"SID","null"),R.T=!0,Ug(R,p,null)):Ug(R,p,d),this.G=2}}else this.G==3&&(c?XC(this,c):this.i.length==0||NC(this.h)||XC(this))};function XC(c,d){var p;d?p=d.l:p=c.U++;let _=Xr(c.I);Je(_,"SID",c.K),Je(_,"RID",p),Je(_,"AID",c.T),Xc(c,_),c.m&&c.o&&qg(_,c.m,c.o),p=new Vi(c,c.j,p,c.B+1),c.m===null&&(p.H=c.o),d&&(c.i=d.D.concat(c.i)),d=eD(c,p,1e3),p.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),zg(c.h,p),Ug(p,_,d)}function Xc(c,d){c.H&&Ve(c.H,function(p,_){Je(d,_,p)}),c.l&&LC({},function(p,_){Je(d,_,p)})}function eD(c,d,p){p=Math.min(c.i.length,p);var _=c.l?v(c.l.Na,c.l,c):null;e:{var R=c.i;let k=-1;for(;;){let q=["count="+p];k==-1?0<p?(k=R[0].g,q.push("ofs="+k)):k=0:q.push("ofs="+k);let $e=!0;for(let Vt=0;Vt<p;Vt++){let Ne=R[Vt].g,qt=R[Vt].map;if(Ne-=k,0>Ne)k=Math.max(0,R[Vt].g-100),$e=!1;else try{HO(qt,q,"req"+Ne+"_")}catch{_&&_(qt)}}if($e){_=q.join("&");break e}}}return c=c.i.splice(0,p),d.D=c,_}function tD(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Fc||uC(),Lc||(Fc(),Lc=!0),Dg.add(d,c),c.v=0}}function Gg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Hc(v(c.Fa,c),iD(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,nD(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Hc(v(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nn(10),Sd(this),nD(this))};function Jg(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function nD(c){c.g=new Vi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Xr(c.qa);Je(d,"RID","rpc"),Je(d,"SID",c.K),Je(d,"AID",c.T),Je(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Je(d,"TO",c.ja),Je(d,"TYPE","xmlhttp"),Xc(c,d),c.m&&c.o&&qg(d,c.m,c.o),c.L&&(c.g.I=c.L);var p=c.g;c=c.ia,p.L=1,p.v=Cd(Xr(d)),p.m=null,p.P=!0,xC(p,c)}n.Za=function(){this.C!=null&&(this.C=null,Sd(this),Gg(this),nn(19))};function xd(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function rD(c,d){var p=null;if(c.g==d){xd(c),Jg(c),c.g=null;var _=2}else if(Hg(c.h,d))p=d.D,OC(c.h,d),_=1;else return;if(c.G!=0){if(d.o)if(_==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var R=c.B;_=vd(),tn(_,new DC(_,p)),Ad(c)}else tD(c);else if(R=d.s,R==3||R==0&&0<d.X||!(_==1&&GO(c,d)||_==2&&Gg(c)))switch(p&&0<p.length&&(d=c.h,d.i=d.i.concat(p)),R){case 1:Ho(c,5);break;case 4:Ho(c,10);break;case 3:Ho(c,6);break;default:Ho(c,2)}}}function iD(c,d){let p=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(p*=2),p*d}function Ho(c,d){if(c.j.info("Error code "+d),d==2){var p=v(c.fb,c),_=c.Xa;let R=!_;_=new $o(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||wd(_,"https"),Cd(_),R?UO(_.toString(),p):BO(_.toString(),p)}else nn(2);c.G=0,c.l&&c.l.sa(d),oD(c),ZC(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function oD(c){if(c.G=0,c.ka=[],c.l){let d=FC(c.h);(d.length!=0||c.i.length!=0)&&(O(c.ka,d),O(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function sD(c,d,p){var _=p instanceof $o?Xr(p):new $o(p);if(_.g!="")d&&(_.g=d+"."+_.g),Id(_,_.s);else{var R=a.location;_=R.protocol,d=d?d+"."+R.hostname:R.hostname,R=+R.port;var k=new $o(null);_&&wd(k,_),d&&(k.g=d),R&&Id(k,R),p&&(k.l=p),_=k}return p=c.D,d=c.ya,p&&d&&Je(_,p,d),Je(_,"VER",c.la),Xc(c,_),_}function aD(c,d,p){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new it(new Kc({eb:p})):new it(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function cD(){}n=cD.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Md(){}Md.prototype.g=function(c,d){return new En(c,d)};function En(c,d){zt.call(this),this.g=new YC(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!se(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!se(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Ys(this)}x(En,zt),En.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},En.prototype.close=function(){Wg(this.g)},En.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var p={};p.__data__=c,c=p}else this.u&&(p={},p.__data__=kg(c),c=p);d.i.push(new MO(d.Ya++,c)),d.G==3&&Ad(d)},En.prototype.N=function(){this.g.l=null,delete this.j,Wg(this.g),delete this.g,En.aa.N.call(this)};function lD(c){Fg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let p in d){c=p;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}x(lD,Fg);function uD(){Lg.call(this),this.status=1}x(uD,Lg);function Ys(c){this.g=c}x(Ys,cD),Ys.prototype.ua=function(){tn(this.g,"a")},Ys.prototype.ta=function(c){tn(this.g,new lD(c))},Ys.prototype.sa=function(c){tn(this.g,new uD)},Ys.prototype.ra=function(){tn(this.g,"b")},Md.prototype.createWebChannel=Md.prototype.g,En.prototype.send=En.prototype.o,En.prototype.open=En.prototype.m,En.prototype.close=En.prototype.close,VE=Mi.createWebChannelTransport=function(){return new Md},LE=Mi.getStatEventTarget=function(){return vd()},FE=Mi.Event=Uo,em=Mi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_d.NO_ERROR=0,_d.TIMEOUT=8,_d.HTTP_ERROR=6,Uu=Mi.ErrorCode=_d,TC.COMPLETE="complete",OE=Mi.EventType=TC,EC.EventType=Bc,Bc.OPEN="a",Bc.CLOSE="b",Bc.ERROR="c",Bc.MESSAGE="d",zt.prototype.listen=zt.prototype.K,oc=Mi.WebChannel=EC,M6=Mi.FetchXmlHttpFactory=Kc,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,kE=Mi.XhrIo=it}).apply(typeof Xp<"u"?Xp:typeof self<"u"?self:typeof window<"u"?window:{});var XR="@firebase/firestore",eP="4.8.0";var kt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");var Ac="11.10.0";var js=new Fr("@firebase/firestore");function sc(){return js.logLevel}function Y(n,...e){if(js.logLevel<=Se.DEBUG){let t=e.map(SI);js.debug(`Firestore (${Ac}): ${n}`,...t)}}function Ri(n,...e){if(js.logLevel<=Se.ERROR){let t=e.map(SI);js.error(`Firestore (${Ac}): ${n}`,...t)}}function Mo(n,...e){if(js.logLevel<=Se.WARN){let t=e.map(SI);js.warn(`Firestore (${Ac}): ${n}`,...t)}}function SI(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ue(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,qP(n,r,t)}function qP(n,e,t){let r=`FIRESTORE (${Ac}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ri(r),new Error(r)}function Le(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||qP(e,i,r)}function _e(n,e){return n}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=class extends Pn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var gr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var am=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},HE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(kt.UNAUTHENTICATED))}shutdown(){}},zE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},qE=class{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Le(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,t(l)):Promise.resolve(),o=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>b(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new am(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new kt(e)}},WE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},GE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new WE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},cm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},JE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Le(this.o===void 0,3512);let r=o=>{o.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cm(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Le(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new cm(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function R6(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function WP(){return new TextEncoder}var Wu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=R6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function Te(n,e){return n<e?-1:n>e?1:0}function KE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Te(r,i);{let o=WP(),s=P6(o.encode(tP(n,t)),o.encode(tP(e,t)));return s!==0?s:Te(r,i)}}t+=r>65535?2:1}return Te(n.length,e.length)}function tP(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function P6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Te(n[t],e[t]);return Te(n.length,e.length)}function pc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var nP="__name__",lm=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ue(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ue(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Te(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):KE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xi.fromString(e.substring(4,e.length-2))}},tt=class n extends lm{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new K(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},N6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,kn=class n extends lm{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return N6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nP}static keyField(){return new n([nP])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new K(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new K(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var oe=class n{constructor(e){this.path=e}static fromPath(e){return new n(tt.fromString(e))}static fromName(e){return new n(tt.fromString(e).popFirst(5))}static empty(){return new n(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new tt(e.slice()))}};function GP(n,e,t){if(!t)throw new K(L.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function k6(n,e,t,r){if(e===!0&&r===!0)throw new K(L.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function rP(n){if(!oe.isDocumentKey(n))throw new K(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function iP(n){if(oe.isDocumentKey(n))throw new K(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function JP(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function zm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ue(12329,{type:typeof n})}function yr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new K(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=zm(n);throw new K(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function St(n,e){let t={typeString:n};return e&&(t.value=e),t}function rd(n,e){if(!JP(n))throw new K(L.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new K(L.INVALID_ARGUMENT,t);return!0}var oP=-62135596800,sP=1e6,rt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*sP);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new K(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new K(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<oP)throw new K(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sP}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rd(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-oP;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:St("string",rt._jsonSchemaVersion),seconds:St("number"),nanoseconds:St("number")};var we=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new rt(0,0))}static max(){return new n(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Gu=-1,QE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};QE.UNKNOWN_ID=-1;function O6(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new rt(t+1,0):new rt(t,r));return new Us(i,oe.empty(),e)}function F6(n){return new Us(n.readTime,n.key,Gu)}var Us=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(we.min(),oe.empty(),Gu)}static max(){return new n(we.max(),oe.empty(),Gu)}};function L6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=oe.comparator(n.documentKey,e.documentKey),t!==0?t:Te(n.largestBatchId,e.largestBatchId))}var V6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",YE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function xc(n){return b(this,null,function*(){if(n.code!==L.FAILED_PRECONDITION||n.message!==V6)throw n;Y("LocalStore","Unexpectedly lost primary lease")})}var $=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ue(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},l=>r(l))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;t(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function j6(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Mc(n){return n.name==="IndexedDbTransactionError"}var AI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),xI=-1;function qm(n){return n==null}function Ju(n){return n===0&&1/n==-1/0}function U6(n){return typeof n=="number"&&Number.isInteger(n)&&!Ju(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var KP="";function B6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=aP(e)),e=$6(n.get(t),e);return aP(e)}function $6(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case KP:t+="";break;default:t+=o}}return t}function aP(n){return n+KP+""}var H6="remoteDocuments",QP="owner";var YP="mutationQueues";var ZP="mutations";var XP="documentMutations",z6="remoteDocumentsV14";var eN="remoteDocumentGlobal";var tN="targets";var nN="targetDocuments";var rN="targetGlobal",iN="collectionParents";var oN="clientMetadata";var sN="bundles";var aN="namedQueries";var q6="indexConfiguration";var W6="indexState";var G6="indexEntries";var cN="documentOverlays";var J6="globals";var K6=[YP,ZP,XP,H6,tN,QP,rN,nN,oN,eN,iN,sN,aN],Zue=[...K6,cN],Q6=[YP,ZP,XP,z6,tN,QP,rN,nN,oN,eN,iN,sN,aN,cN],Y6=Q6,Z6=[...Y6,q6,W6,G6];var Xue=[...Z6,J6];function cP(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Fo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function lN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ht=class n{constructor(e,t){this.comparator=e,this.root=t||$r.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$r.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$r.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uc(this.root,e,this.comparator,!1)}getReverseIterator(){return new uc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uc(this.root,e,this.comparator,!0)}},uc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},$r=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ue(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ue(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ue(27949);return e+(this.isRed()?0:1)}};$r.EMPTY=null,$r.RED=!0,$r.BLACK=!1;$r.EMPTY=new class{constructor(){this.size=0}get key(){throw ue(57766)}get value(){throw ue(16141)}get color(){throw ue(16727)}get left(){throw ue(29726)}get right(){throw ue(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new $r(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ot=class n{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new um(this.data.getIterator())}getIteratorFrom(e){return new um(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},um=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Jn=class n{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ot(kn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return pc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var dm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Zt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dm("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Zt.EMPTY_BYTE_STRING=new Zt("");var X6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(n){if(Le(!!n,39018),typeof n=="string"){let e=0,t=X6.exec(n);if(Le(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:et(n.seconds),nanos:et(n.nanos)}}function et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ni(n){return typeof n=="string"?Zt.fromBase64String(n):Zt.fromUint8Array(n)}var uN="server_timestamp",dN="__type__",hN="__previous_value__",fN="__local_write_time__";function MI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[dN])===null||t===void 0?void 0:t.stringValue)===uN}function Wm(n){let e=n.mapValue.fields[hN];return MI(e)?Wm(e):e}function Ku(n){let e=Pi(n.mapValue.fields[fN].timestampValue);return new rt(e.seconds,e.nanos)}var ZE=class{constructor(e,t,r,i,o,s,a,l,u,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=h}},hm="(default)",fm=class n{constructor(e,t){this.projectId=e,this.database=t||hm}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===hm}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var RI="__type__",pN="__max__",tm={mapValue:{fields:{__type__:{stringValue:pN}}}},PI="__vector__",mc="value";function Ro(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?MI(n)?4:gN(n)?9007199254740991:mN(n)?10:11:ue(28295,{value:n})}function Wr(n,e){if(n===e)return!0;let t=Ro(n);if(t!==Ro(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ku(n).isEqual(Ku(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Pi(i.timestampValue),a=Pi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Ni(i.bytesValue).isEqual(Ni(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return et(i.geoPointValue.latitude)===et(o.geoPointValue.latitude)&&et(i.geoPointValue.longitude)===et(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return et(i.integerValue)===et(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=et(i.doubleValue),a=et(o.doubleValue);return s===a?Ju(s)===Ju(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return pc(n.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(cP(s)!==cP(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Wr(s[l],a[l])))return!1;return!0})(n,e);default:return ue(52216,{left:n})}}function Qu(n,e){return(n.values||[]).find(t=>Wr(t,e))!==void 0}function gc(n,e){if(n===e)return 0;let t=Ro(n),r=Ro(e);if(t!==r)return Te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Te(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=et(o.integerValue||o.doubleValue),l=et(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1})(n,e);case 3:return lP(n.timestampValue,e.timestampValue);case 4:return lP(Ku(n),Ku(e));case 5:return KE(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Ni(o),l=Ni(s);return a.compareTo(l)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let h=Te(a[u],l[u]);if(h!==0)return h}return Te(a.length,l.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=Te(et(o.latitude),et(s.latitude));return a!==0?a:Te(et(o.longitude),et(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return uP(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,l,u,h;let g=o.fields||{},v=s.fields||{},w=(a=g[mc])===null||a===void 0?void 0:a.arrayValue,x=(l=v[mc])===null||l===void 0?void 0:l.arrayValue,F=Te(((u=w?.values)===null||u===void 0?void 0:u.length)||0,((h=x?.values)===null||h===void 0?void 0:h.length)||0);return F!==0?F:uP(w,x)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===tm.mapValue&&s===tm.mapValue)return 0;if(o===tm.mapValue)return 1;if(s===tm.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let g=0;g<l.length&&g<h.length;++g){let v=KE(l[g],h[g]);if(v!==0)return v;let w=gc(a[l[g]],u[h[g]]);if(w!==0)return w}return Te(l.length,h.length)})(n.mapValue,e.mapValue);default:throw ue(23264,{le:t})}}function lP(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Te(n,e);let t=Pi(n),r=Pi(e),i=Te(t.seconds,r.seconds);return i!==0?i:Te(t.nanos,r.nanos)}function uP(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=gc(t[i],r[i]);if(o)return o}return Te(t.length,r.length)}function yc(n){return XE(n)}function XE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Pi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ni(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return oe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=XE(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${XE(t.fields[s])}`;return i+"}"})(n.mapValue):ue(61005,{value:n})}function im(n){switch(Ro(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Wm(n);return e?16+im(e):16;case 5:return 2*n.stringValue.length;case 6:return Ni(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+im(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return Fo(r.fields,(o,s)=>{i+=o.length+im(s)}),i})(n.mapValue);default:throw ue(13486,{value:n})}}function dP(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function ew(n){return!!n&&"integerValue"in n}function NI(n){return!!n&&"arrayValue"in n}function hP(n){return!!n&&"nullValue"in n}function fP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function om(n){return!!n&&"mapValue"in n}function mN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[RI])===null||t===void 0?void 0:t.stringValue)===PI}function $u(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Fo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=$u(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=$u(n.arrayValue.values[t]);return e}return Object.assign({},n)}function gN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===pN}var tde={mapValue:{fields:{[RI]:{stringValue:PI},[mc]:{arrayValue:{}}}}};var Nn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!om(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=$u(t)}setAll(e){let t=kn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let l=this.getFieldsMap(t);this.applyChanges(l,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=$u(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());om(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];om(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Fo(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n($u(this.value))}};function yN(n){let e=[];return Fo(n.fields,(t,r)=>{let i=new kn([t]);if(om(r)){let o=yN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Jn(e)}var vr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,we.min(),we.min(),we.min(),Nn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,we.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,we.min(),we.min(),Nn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,we.min(),we.min(),Nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var vc=class{constructor(e,t){this.position=e,this.inclusive=t}};function pP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=oe.comparator(oe.fromName(s.referenceValue),t.key):r=gc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function mP(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Wr(n.position[t],e.position[t]))return!1;return!0}var _c=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function e8(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var pm=class{},Tt=class n extends pm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new nw(e,t,r):t==="array-contains"?new ow(e,r):t==="in"?new sw(e,r):t==="not-in"?new aw(e,r):t==="array-contains-any"?new cw(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new rw(e,r):new iw(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(gc(t,this.value)):t!==null&&Ro(this.value)===Ro(t)&&this.matchesComparison(gc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},_r=class n extends pm{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return vN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function vN(n){return n.op==="and"}function _N(n){return t8(n)&&vN(n)}function t8(n){for(let e of n.filters)if(e instanceof _r)return!1;return!0}function tw(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+yc(n.value);if(_N(n))return n.filters.map(e=>tw(e)).join(",");{let e=n.filters.map(t=>tw(t)).join(",");return`${n.op}(${e})`}}function bN(n,e){return n instanceof Tt?(function(r,i){return i instanceof Tt&&r.op===i.op&&r.field.isEqual(i.field)&&Wr(r.value,i.value)})(n,e):n instanceof _r?(function(r,i){return i instanceof _r&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&bN(s,i.filters[a]),!0):!1})(n,e):void ue(19439)}function EN(n){return n instanceof Tt?(function(t){return`${t.field.canonicalString()} ${t.op} ${yc(t.value)}`})(n):n instanceof _r?(function(t){return t.op.toString()+" {"+t.getFilters().map(EN).join(" ,")+"}"})(n):"Filter"}var nw=class extends Tt{constructor(e,t,r){super(e,t,r),this.key=oe.fromName(r.referenceValue)}matches(e){let t=oe.comparator(e.key,this.key);return this.matchesComparison(t)}},rw=class extends Tt{constructor(e,t){super(e,"in",t),this.keys=wN("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},iw=class extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=wN("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function wN(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>oe.fromName(r.referenceValue))}var ow=class extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return NI(t)&&Qu(t.arrayValue,this.value)}},sw=class extends Tt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Qu(this.value.arrayValue,t)}},aw=class extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Qu(this.value.arrayValue,t)}},cw=class extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!NI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Qu(this.value.arrayValue,r))}};var lw=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function gP(n,e=null,t=[],r=[],i=null,o=null,s=null){return new lw(n,e,t,r,i,o,s)}function kI(n){let e=_e(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>tw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),qm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>yc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>yc(r)).join(",")),e.Pe=t}return e.Pe}function OI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!e8(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mP(n.startAt,e.startAt)&&mP(n.endAt,e.endAt)}function uw(n){return oe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Bs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function n8(n,e,t,r,i,o,s,a){return new Bs(n,e,t,r,i,o,s,a)}function FI(n){return new Bs(n)}function yP(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function IN(n){return n.collectionGroup!==null}function Hu(n){let e=_e(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ot(kn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new _c(o,r))}),t.has(kn.keyField().canonicalString())||e.Te.push(new _c(kn.keyField(),r))}return e.Te}function Hr(n){let e=_e(n);return e.Ie||(e.Ie=r8(e,Hu(n))),e.Ie}function r8(n,e){if(n.limitType==="F")return gP(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new _c(i.field,o)});let t=n.endAt?new vc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new vc(n.startAt.position,n.startAt.inclusive):null;return gP(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function dw(n,e){let t=n.filters.concat([e]);return new Bs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function hw(n,e,t){return new Bs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Gm(n,e){return OI(Hr(n),Hr(e))&&n.limitType===e.limitType}function CN(n){return`${kI(Hr(n))}|lt:${n.limitType}`}function ac(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>EN(i)).join(", ")}]`),qm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>yc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>yc(i)).join(",")),`Target(${r})`})(Hr(n))}; limitType=${n.limitType})`}function Jm(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):oe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of Hu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,l){let u=pP(s,a,l);return s.inclusive?u<=0:u<0})(r.startAt,Hu(r),i)||r.endAt&&!(function(s,a,l){let u=pP(s,a,l);return s.inclusive?u>=0:u>0})(r.endAt,Hu(r),i))})(n,e)}function i8(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function DN(n){return(e,t)=>{let r=!1;for(let i of Hu(n)){let o=o8(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function o8(n,e,t){let r=n.field.isKeyField()?oe.comparator(e.key,t.key):(function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?gc(l,u):ue(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ue(19790,{direction:n.dir})}}var ki=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fo(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return lN(this.inner)}size(){return this.innerSize}};var s8=new ht(oe.comparator);function Oi(){return s8}var TN=new ht(oe.comparator);function Bu(...n){let e=TN;for(let t of n)e=e.insert(t.key,t);return e}function SN(n){let e=TN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Os(){return zu()}function AN(){return zu()}function zu(){return new ki(n=>n.toString(),(n,e)=>n.isEqual(e))}var a8=new ht(oe.comparator),c8=new Ot(oe.comparator);function Me(...n){let e=c8;for(let t of n)e=e.add(t);return e}var l8=new Ot(Te);function u8(){return l8}function LI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ju(e)?"-0":e}}function xN(n){return{integerValue:""+n}}function d8(n,e){return U6(e)?xN(e):LI(n,e)}var bc=class{constructor(){this._=void 0}};function h8(n,e,t){return n instanceof Ec?(function(i,o){let s={fields:{[dN]:{stringValue:uN},[fN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&MI(o)&&(o=Wm(o)),o&&(s.fields[hN]=o),{mapValue:s}})(t,e):n instanceof Po?RN(n,e):n instanceof No?PN(n,e):(function(i,o){let s=MN(i,o),a=vP(s)+vP(i.Ee);return ew(s)&&ew(i.Ee)?xN(a):LI(i.serializer,a)})(n,e)}function f8(n,e,t){return n instanceof Po?RN(n,e):n instanceof No?PN(n,e):t}function MN(n,e){return n instanceof wc?(function(r){return ew(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Ec=class extends bc{},Po=class extends bc{constructor(e){super(),this.elements=e}};function RN(n,e){let t=NN(e);for(let r of n.elements)t.some(i=>Wr(i,r))||t.push(r);return{arrayValue:{values:t}}}var No=class extends bc{constructor(e){super(),this.elements=e}};function PN(n,e){let t=NN(e);for(let r of n.elements)t=t.filter(i=>!Wr(i,r));return{arrayValue:{values:t}}}var wc=class extends bc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function vP(n){return et(n.integerValue||n.doubleValue)}function NN(n){return NI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var mm=class{constructor(e,t){this.field=e,this.transform=t}};function p8(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Po&&i instanceof Po||r instanceof No&&i instanceof No?pc(r.elements,i.elements,Wr):r instanceof wc&&i instanceof wc?Wr(r.Ee,i.Ee):r instanceof Ec&&i instanceof Ec})(n.transform,e.transform)}var fw=class{constructor(e,t){this.version=e,this.transformResults=t}},zr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function sm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ic=class{};function kN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Yu(n.key,zr.none()):new $s(n.key,n.data,zr.none());{let t=n.data,r=Nn.empty(),i=new Ot(kn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Gr(n.key,r,new Jn(i.toArray()),zr.none())}}function m8(n,e,t){n instanceof $s?(function(i,o,s){let a=i.value.clone(),l=bP(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Gr?(function(i,o,s){if(!sm(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=bP(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(ON(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function qu(n,e,t,r){return n instanceof $s?(function(o,s,a,l){if(!sm(o.precondition,s))return a;let u=o.value.clone(),h=EP(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(n,e,t,r):n instanceof Gr?(function(o,s,a,l){if(!sm(o.precondition,s))return a;let u=EP(o.fieldTransforms,l,s),h=s.data;return h.setAll(ON(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))})(n,e,t,r):(function(o,s,a){return sm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function g8(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=MN(r.transform,i||null);o!=null&&(t===null&&(t=Nn.empty()),t.set(r.field,o))}return t||null}function _P(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&pc(r,i,(o,s)=>p8(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var $s=class extends Ic{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Gr=class extends Ic{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function ON(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function bP(n,e,t){let r=new Map;Le(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,f8(s,a,t[i]))}return r}function EP(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,h8(o,s,e))}return r}var Yu=class extends Ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},pw=class extends Ic{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var mw=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&m8(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=qu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=qu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=AN();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let l=kN(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Me())}isEqual(e){return this.batchId===e.batchId&&pc(this.mutations,e.mutations,(t,r)=>_P(t,r))&&pc(this.baseMutations,e.baseMutations,(t,r)=>_P(t,r))}},gw=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Le(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return a8})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var yw=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var vw=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ct,Pe;function y8(n){switch(n){case L.OK:return ue(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return ue(15467,{code:n})}}function FN(n){if(n===void 0)return Ri("GRPC error has no .code"),L.UNKNOWN;switch(n){case Ct.OK:return L.OK;case Ct.CANCELLED:return L.CANCELLED;case Ct.UNKNOWN:return L.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return L.INTERNAL;case Ct.UNAVAILABLE:return L.UNAVAILABLE;case Ct.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Ct.NOT_FOUND:return L.NOT_FOUND;case Ct.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Ct.ABORTED:return L.ABORTED;case Ct.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Ct.DATA_LOSS:return L.DATA_LOSS;default:return ue(39323,{code:n})}}(Pe=Ct||(Ct={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";var wP=null;var v8=new xi([4294967295,4294967295],0);function IP(n){let e=WP().encode(n),t=new NE;return t.update(e),new Uint8Array(t.digest())}function CP(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new xi([t,r],0),new xi([i,o],0)]}var _w=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Fs(`Invalid padding: ${t}`);if(r<0)throw new Fs(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fs(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Fs(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=xi.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(xi.fromNumber(r)));return i.compare(v8)===1&&(i=new xi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=IP(e),[r,i]=CP(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=IP(e),[r,i]=CP(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Fs=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var gm=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Zu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(we.min(),i,new ht(Te),Oi(),Me())}},Zu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Me(),Me(),Me())}};var dc=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},ym=class{constructor(e,t){this.targetId=e,this.De=t}},vm=class{constructor(e,t,r=Zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},_m=class{constructor(){this.ve=0,this.Ce=DP(),this.Fe=Zt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Me(),t=Me(),r=Me();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ue(38017,{changeType:o})}}),new Zu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=DP()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},bw=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Oi(),this.je=nm(),this.Je=nm(),this.He=new ht(Te)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ue(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(uw(o))if(r===0){let s=new oe(o.path);this.Xe(t,s,vr.newNoDocument(s,we.min()))}else Le(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),l=a?this.ut(a,e,s):1;if(l!==0){this.rt(t);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}wP?.ct((function(h,g,v,w,x){var F,O,W,se,he,Be;let en={localCacheCount:h,existenceFilterCount:g.count,databaseId:v.database,projectId:v.projectId},Ve=g.unchangedNames;return Ve&&(en.bloomFilter={applied:x===0,hashCount:(F=Ve?.hashCount)!==null&&F!==void 0?F:0,bitmapLength:(se=(W=(O=Ve?.bits)===null||O===void 0?void 0:O.bitmap)===null||W===void 0?void 0:W.length)!==null&&se!==void 0?se:0,padding:(Be=(he=Ve?.bits)===null||he===void 0?void 0:he.padding)!==null&&Be!==void 0?Be:0,mightContain:A=>{var I;return(I=w?.mightContain(A))!==null&&I!==void 0&&I}}),en})(s,e.De,this.We.lt(),a,l))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ni(r).toUint8Array()}catch(l){if(l instanceof dm)return Mo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new _w(s,i,o)}catch(l){return Mo(l instanceof Fs?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&uw(a.target)){let l=new oe(a.target.path);this.Tt(l).has(s)||this.It(s,l)||this.Xe(s,l,vr.newNoDocument(l,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Me();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this.st(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new gm(e,t,this.He,this.ze,r);return this.ze=Oi(),this.je=nm(),this.Je=nm(),this.He=new ht(Te),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new _m,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ot(Te),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ot(Te),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||Y("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new _m),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function nm(){return new ht(oe.comparator)}function DP(){return new ht(oe.comparator)}var _8={asc:"ASCENDING",desc:"DESCENDING"},b8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E8={and:"AND",or:"OR"},Ew=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function ww(n,e){return n.useProto3Json||qm(e)?e:{value:e}}function bm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function w8(n,e){return bm(n,e.toTimestamp())}function qr(n){return Le(!!n,49232),we.fromTimestamp((function(t){let r=Pi(t);return new rt(r.seconds,r.nanos)})(n))}function VI(n,e){return Iw(n,e).canonicalString()}function Iw(n,e){let t=(function(i){return new tt(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function VN(n){let e=tt.fromString(n);return Le(HN(e),10190,{key:e.toString()}),e}function Cw(n,e){return VI(n.databaseId,e.path)}function jE(n,e){let t=VN(e);if(t.get(1)!==n.databaseId.projectId)throw new K(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new K(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new oe(UN(t))}function jN(n,e){return VI(n.databaseId,e)}function I8(n){let e=VN(n);return e.length===4?tt.emptyPath():UN(e)}function Dw(n){return new tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function UN(n){return Le(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function TP(n,e,t){return{name:Cw(n,e),fields:t.value.mapValue.fields}}function C8(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ue(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(u,h){return u.useProto3Json?(Le(h===void 0||typeof h=="string",58123),Zt.fromBase64String(h||"")):(Le(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Zt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(u){let h=u.code===void 0?L.UNKNOWN:FN(u.code);return new K(h,u.message||"")})(s);t=new vm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=jE(n,r.document.name),o=qr(r.document.updateTime),s=r.document.createTime?qr(r.document.createTime):we.min(),a=new Nn({mapValue:{fields:r.document.fields}}),l=vr.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];t=new dc(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=jE(n,r.document),o=r.readTime?qr(r.readTime):we.min(),s=vr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new dc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=jE(n,r.document),o=r.removedTargetIds||[];t=new dc([],o,i,null)}else{if(!("filter"in e))return ue(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new vw(i,o),a=r.targetId;t=new ym(a,s)}}return t}function D8(n,e){let t;if(e instanceof $s)t={update:TP(n,e.key,e.value)};else if(e instanceof Yu)t={delete:Cw(n,e.key)};else if(e instanceof Gr)t={update:TP(n,e.key,e.data),updateMask:k8(e.fieldMask)};else{if(!(e instanceof pw))return ue(16599,{Rt:e.type});t={verify:Cw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Ec)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Po)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof No)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof wc)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw ue(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:w8(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ue(27497)})(n,e.precondition)),t}function T8(n,e){return n&&n.length>0?(Le(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?qr(i.updateTime):qr(o);return s.isEqual(we.min())&&(s=qr(o)),new fw(s,i.transformResults||[])})(t,e))):[]}function S8(n,e){return{documents:[jN(n,e.path)]}}function A8(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=jN(n,i);let o=(function(u){if(u.length!==0)return $N(_r.create(u,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(u){if(u.length!==0)return u.map(h=>(function(v){return{field:cc(v.field),direction:R8(v.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=ww(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{Vt:t,parent:i}}function x8(n){let e=I8(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Le(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(g){let v=BN(g);return v instanceof _r&&_N(v)?v.getFilters():[v]})(t.where));let s=[];t.orderBy&&(s=(function(g){return g.map(v=>(function(x){return new _c(lc(x.field),(function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(v))})(t.orderBy));let a=null;t.limit&&(a=(function(g){let v;return v=typeof g=="object"?g.value:g,qm(v)?null:v})(t.limit));let l=null;t.startAt&&(l=(function(g){let v=!!g.before,w=g.values||[];return new vc(w,v)})(t.startAt));let u=null;return t.endAt&&(u=(function(g){let v=!g.before,w=g.values||[];return new vc(w,v)})(t.endAt)),n8(e,i,s,o,a,"F",l,u)}function M8(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ue(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function BN(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=lc(t.unaryFilter.field);return Tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=lc(t.unaryFilter.field);return Tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=lc(t.unaryFilter.field);return Tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=lc(t.unaryFilter.field);return Tt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ue(61313);default:return ue(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Tt.create(lc(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ue(58110);default:return ue(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return _r.create(t.compositeFilter.filters.map(r=>BN(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue(1026)}})(t.compositeFilter.op))})(n):ue(30097,{filter:n})}function R8(n){return _8[n]}function P8(n){return b8[n]}function N8(n){return E8[n]}function cc(n){return{fieldPath:n.canonicalString()}}function lc(n){return kn.fromServerFormat(n.fieldPath)}function $N(n){return n instanceof Tt?(function(t){if(t.op==="=="){if(fP(t.value))return{unaryFilter:{field:cc(t.field),op:"IS_NAN"}};if(hP(t.value))return{unaryFilter:{field:cc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fP(t.value))return{unaryFilter:{field:cc(t.field),op:"IS_NOT_NAN"}};if(hP(t.value))return{unaryFilter:{field:cc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cc(t.field),op:P8(t.op),value:t.value}}})(n):n instanceof _r?(function(t){let r=t.getFilters().map(i=>$N(i));return r.length===1?r[0]:{compositeFilter:{op:N8(t.op),filters:r}}})(n):ue(54877,{filter:n})}function k8(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function HN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Xu=class n{constructor(e,t,r,i,o=we.min(),s=we.min(),a=Zt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Tw=class{constructor(e){this.gt=e}};function O8(n){let e=x8({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?hw(e,e.limit,"L"):e}var Em=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(et(e.integerValue));else if("doubleValue"in e){let r=et(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),Ju(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Pi(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Ni(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?gN(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):mN(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ue(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=mc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(et(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),oe.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Em.Ut=new Em;var Sw=class{constructor(){this.Dn=new Aw}addToCollectionParentIndex(e,t){return this.Dn.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(Us.min())}updateCollectionGroup(e,t,r){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}},Aw=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ot(tt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(tt.comparator)).toArray()}};var nde=new Uint8Array(0);var SP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zN=41943040,Gn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Gn.DEFAULT_COLLECTION_PERCENTILE=10,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gn.DEFAULT=new Gn(zN,Gn.DEFAULT_COLLECTION_PERCENTILE,Gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gn.DISABLED=new Gn(-1,0,0);var ed=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var AP="LruGarbageCollector",F8=1048576;function xP([n,e],[t,r]){let i=Te(n,t);return i===0?Te(e,r):i}var xw=class{constructor(e){this.Tr=e,this.buffer=new Ot(xP),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();xP(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},Mw=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){Y(AP,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>b(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Mc(t)?Y(AP,"Ignoring IndexedDB error during garbage collection: ",t):yield xc(t)}yield this.Rr(3e5)}))}},Rw=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return $.resolve(AI.ue);let r=new xw(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(SP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SP):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,l,u,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,s=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,t))).next(g=>(o=g,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(u=Date.now(),sc()<=Se.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${g} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:g})))}};function L8(n,e){return new Rw(n,e)}var Pw=class{constructor(){this.changes=new ki(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?$.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Nw=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var kw=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&qu(r.mutation,i,Jn.empty(),rt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Me()){let i=Os();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Bu();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Os();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Me()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Oi(),s=zu(),a=(function(){return zu()})();return t.forEach((l,u)=>{let h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Gr)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),qu(h.mutation,u,h.mutation.getFieldMask(),rt.now())):s.set(u.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),t.forEach((u,h)=>{var g;return a.set(u,new Nw(h,(g=s.get(u))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,t){let r=zu(),i=new ht((s,a)=>s-a),o=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=t.get(l);if(u===null)return;let h=r.get(l)||Jn.empty();h=a.applyToLocalView(u,h),r.set(l,h);let g=(i.get(a.batchId)||Me()).add(l);i=i.insert(a.batchId,g)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,h=l.value,g=AN();h.forEach(v=>{if(!o.has(v)){let w=kN(t.get(v),r.get(v));w!==null&&g.set(v,w),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,g))}return $.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return oe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):IN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):$.resolve(Os()),a=Gu,l=o;return s.next(u=>$.forEach(u,(h,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{l=l.insert(h,v)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Me())).next(h=>({batchId:a,changes:SN(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new oe(t)).next(r=>{let i=Bu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Bu();return this.indexManager.getCollectionParents(e,o).next(a=>$.forEach(a,l=>{let u=(function(g,v){return new Bs(v,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)})(t,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((g,v)=>{s=s.insert(g,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((l,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,vr.newInvalidDocument(h)))});let a=Bu();return s.forEach((l,u)=>{let h=o.get(l);h!==void 0&&qu(h.mutation,u,Jn.empty(),rt.now()),Jm(t,u)&&(a=a.insert(l,u))}),a})}};var Ow=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return $.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:qr(i.createTime)}})(t)),$.resolve()}getNamedQuery(e,t){return $.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:O8(i.bundledQuery),readTime:qr(i.readTime)}})(t)),$.resolve()}};var Fw=class{constructor(){this.overlays=new ht(oe.comparator),this.kr=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Os();return $.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),$.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),$.resolve()}getOverlaysForCollection(e,t,r){let i=Os(),o=t.length+1,s=new oe(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ht((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=Os(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=Os(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return $.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new yw(t,r));let o=this.kr.get(t);o===void 0&&(o=Me(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var Lw=class{constructor(){this.sessionToken=Zt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$.resolve()}};var td=class{constructor(){this.qr=new Ot(Dt.Qr),this.$r=new Ot(Dt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Dt(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Dt(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new oe(new tt([])),r=new Dt(t,e),i=new Dt(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new oe(new tt([])),r=new Dt(t,e),i=new Dt(t,e+1),o=Me();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Dt(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Dt=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return oe.comparator(e.key,t.key)||Te(e.Hr,t.Hr)}static Ur(e,t){return Te(e.Hr,t.Hr)||oe.comparator(e.key,t.key)}};var Vw=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ot(Dt.Qr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new mw(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Dt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(s)}lookupMutationBatch(e,t){return $.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return $.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?xI:this.er-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Dt(t,0),i=new Dt(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),$.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ot(Te);return t.forEach(i=>{let o=new Dt(i,0),s=new Dt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),$.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;oe.isDocumentKey(o)||(o=o.child(""));let s=new Dt(new oe(o),0),a=new Ot(Te);return this.Yr.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Hr)),!0)},s),$.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Le(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return $.forEach(t.mutations,i=>{let o=new Dt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Dt(t,0),i=this.Yr.firstAfterOrEqual(r);return $.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var jw=class{constructor(e){this.ni=e,this.docs=(function(){return new ht(oe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return $.resolve(r?r.document.mutableCopy():vr.newInvalidDocument(t))}getEntries(e,t){let r=Oi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vr.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Oi(),s=t.path,a=new oe(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||L6(F6(h),r)<=0||(i.has(h.key)||Jm(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return $.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ue(9500)}ri(e,t){return $.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Uw(this)}getSize(e){return $.resolve(this.size)}},Uw=class extends Pw{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),$.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var Bw=class{constructor(e){this.persistence=e,this.ii=new ki(t=>kI(t),OI),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.si=0,this.oi=new td,this.targetCount=0,this._i=ed.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),$.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new ed(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.hr(t),$.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(o).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return $.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),$.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),$.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),$.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return $.resolve(r)}containsKey(e,t){return $.resolve(this.oi.containsKey(t))}};var wm=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new AI(0),this.ci=!1,this.ci=!0,this.li=new Lw,this.referenceDelegate=e(this),this.hi=new Bw(this),this.indexManager=new Sw,this.remoteDocumentCache=(function(i){return new jw(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new Tw(t),this.Ti=new Ow(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Fw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new Vw(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){Y("MemoryPersistence","Starting transaction:",e);let i=new $w(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return $.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},$w=class extends YE{constructor(e){super(),this.currentSequenceNumber=e}},Hw=class n{constructor(e){this.persistence=e,this.Ai=new td,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ue(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),$.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),$.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.mi,r=>{let i=oe.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,we.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return $.or([()=>$.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Im=class n{constructor(e,t){this.persistence=e,this.gi=new ki(r=>B6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=L8(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return $.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return $.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?$.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,we.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),$.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),$.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=im(e.data.value)),t}Sr(e,t,r){return $.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return $.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var zw=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Me(),i=Me();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var qw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ww=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return pM()?8:j6(Nt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new qw;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(sc()<=Se.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",ac(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(sc()<=Se.DEBUG&&Y("QueryEngine","Query:",ac(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(sc()<=Se.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",ac(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(t))):$.resolve())}ps(e,t){if(yP(t))return $.resolve(null);let r=Hr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=hw(t,null,"F"),r=Hr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Me(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.bs(t,a);return this.Ds(t,u,s,l.readTime)?this.ps(e,hw(t,null,"F")):this.vs(e,u,t,l)}))})))}ys(e,t,r,i){return yP(t)||i.isEqual(we.min())?$.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?$.resolve(null):(sc()<=Se.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ac(t)),this.vs(e,s,t,O6(i,Gu)).next(a=>a))})}bs(e,t){let r=new Ot(DN(e));return t.forEach((i,o)=>{Jm(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return sc()<=Se.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",ac(t)),this.gs.getDocumentsMatchingQuery(e,t,Us.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var jI="LocalStore",V8=3e8,Gw=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new ht(Te),this.Ms=new ki(o=>kI(o),OI),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kw(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function j8(n,e,t,r){return new Gw(n,e,t,r)}function qN(n,e){return b(this,null,function*(){let t=_e(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=Me();for(let u of i){s.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}for(let u of o){a.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}return t.localDocuments.getDocuments(r,l).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function U8(n,e){let t=_e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,l,u,h){let g=u.batch,v=g.keys(),w=$.resolve();return v.forEach(x=>{w=w.next(()=>h.getEntry(l,x)).next(F=>{let O=u.docVersions.get(x);Le(O!==null,48541),F.version.compareTo(O)<0&&(g.applyToRemoteDocument(F,u),F.isValidDocument()&&(F.setReadTime(u.commitVersion),h.addEntry(F)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(l,g))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let l=Me();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function WN(n){let e=_e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function B8(n,e){let t=_e(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,g)=>{let v=i.get(g);if(!v)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,g).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,g)));let w=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?w=w.withResumeToken(Zt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):h.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(h.resumeToken,r)),i=i.insert(g,w),(function(F,O,W){return F.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=V8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(v,w,h)&&a.push(t.hi.updateTargetData(o,w))});let l=Oi(),u=Me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push($8(o,s,e.documentUpdates).next(h=>{l=h.Ls,u=h.ks})),!r.isEqual(we.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(g=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return $.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(t.Fs=i,o))}function $8(n,e,t){let r=Me(),i=Me();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Oi();return t.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Y(jI,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ls:s,ks:i}})}function H8(n,e){let t=_e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=xI),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function z8(n,e){let t=_e(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,$.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new Xu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function Jw(n,e,t){return b(this,null,function*(){let r=_e(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Mc(s))throw s;Y(jI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function MP(n,e,t){let r=_e(n),i=we.min(),o=Me();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(l,u,h){let g=_e(l),v=g.Ms.get(h);return v!==void 0?$.resolve(g.Fs.get(v)):g.hi.getTargetData(u,h)})(r,s,Hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:we.min(),t?o:Me())).next(a=>(q8(r,i8(e),a),{documents:a,qs:o})))}function q8(n,e,t){let r=n.xs.get(e)||we.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Cm=class{constructor(){this.activeTargetIds=u8()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Kw=class{constructor(){this.Fo=new Cm,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Cm,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Qw=class{xo(e){}shutdown(){}};var RP="ConnectivityMonitor",Dm=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){Y(RP,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){Y(RP,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var rm=null;function Yw(){return rm===null?rm=(function(){return 268435456+Math.round(2147483648*Math.random())})():rm++,"0x"+rm.toString(16)}var UE="RestConnection",W8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Zw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===hm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=Yw(),a=this.Go(e,t.toUriEncodedString());Y(UE,`Sending RPC '${e}' ${s}:`,a,r);let l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,o);let{host:u}=new URL(a),h=go(u);return this.jo(e,a,l,r,h).then(g=>(Y(UE,`Received RPC '${e}' ${s}: `,g),g),g=>{throw Mo(UE,`RPC '${e}' ${s} failed with error: `,g,"url: ",a,"request:",r),g})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ac})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=W8[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var Xw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Yt="WebChannelConnection",eI=class extends Zw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=Yw();return new Promise((a,l)=>{let u=new kE;u.setWithCredentials(!0),u.listenOnce(OE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Uu.NO_ERROR:let g=u.getResponseJson();Y(Yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(g)),a(g);break;case Uu.TIMEOUT:Y(Yt,`RPC '${e}' ${s} timed out`),l(new K(L.DEADLINE_EXCEEDED,"Request time out"));break;case Uu.HTTP_ERROR:let v=u.getStatus();if(Y(Yt,`RPC '${e}' ${s} failed with status:`,v,"response text:",u.getResponseText()),v>0){let w=u.getResponseJson();Array.isArray(w)&&(w=w[0]);let x=w?.error;if(x&&x.status&&x.message){let F=(function(W){let se=W.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(se)>=0?se:L.UNKNOWN})(x.status);l(new K(F,x.message))}else l(new K(L.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new K(L.UNAVAILABLE,"Connection failed."));break;default:ue(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{Y(Yt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);Y(Yt,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",h,r,15)})}P_(e,t,r){let i=Yw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=VE(),a=LE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,t,r),l.encodeInitMessageHeaders=!0;let h=o.join("");Y(Yt,`Creating RPC '${e}' stream ${i}: ${h}`,l);let g=s.createWebChannel(h,l);this.T_(g);let v=!1,w=!1,x=new Xw({Ho:O=>{w?Y(Yt,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(v||(Y(Yt,`Opening RPC '${e}' stream ${i} transport.`),g.open(),v=!0),Y(Yt,`RPC '${e}' stream ${i} sending:`,O),g.send(O))},Yo:()=>g.close()}),F=(O,W,se)=>{O.listen(W,he=>{try{se(he)}catch(Be){setTimeout(()=>{throw Be},0)}})};return F(g,oc.EventType.OPEN,()=>{w||(Y(Yt,`RPC '${e}' stream ${i} transport opened.`),x.s_())}),F(g,oc.EventType.CLOSE,()=>{w||(w=!0,Y(Yt,`RPC '${e}' stream ${i} transport closed`),x.__(),this.I_(g))}),F(g,oc.EventType.ERROR,O=>{w||(w=!0,Mo(Yt,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),x.__(new K(L.UNAVAILABLE,"The operation could not be completed")))}),F(g,oc.EventType.MESSAGE,O=>{var W;if(!w){let se=O.data[0];Le(!!se,16349);let he=se,Be=he?.error||((W=he[0])===null||W===void 0?void 0:W.error);if(Be){Y(Yt,`RPC '${e}' stream ${i} received error:`,Be);let en=Be.status,Ve=(function(D){let T=Ct[D];if(T!==void 0)return FN(T)})(en),A=Be.message;Ve===void 0&&(Ve=L.INTERNAL,A="Unknown error status: "+en+" with message "+Be.message),w=!0,x.__(new K(Ve,A)),g.close()}else Y(Yt,`RPC '${e}' stream ${i} received:`,se),x.a_(se)}}),F(a,FE.STAT_EVENT,O=>{O.stat===em.PROXY?Y(Yt,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===em.NOPROXY&&Y(Yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.o_()},0),x}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function BE(){return typeof document<"u"?document:null}function Km(n){return new Ew(n,!0)}var Tm=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var PP="PersistentStream",Sm=class{constructor(e,t,r,i,o,s,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Tm(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return b(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return b(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return b(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===L.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new K(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>b(this,null,function*(){this.state=0,this.start()}))}G_(e){return Y(PP,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(Y(PP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},tI=class extends Sm{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=C8(this.serializer,e),r=(function(o){if(!("targetChange"in o))return we.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?we.min():s.readTime?qr(s.readTime):we.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=Dw(this.serializer),t.addTarget=(function(o,s){let a,l=s.target;if(a=uw(l)?{documents:S8(o,l)}:{query:A8(o,l).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=LN(o,s.resumeToken);let u=ww(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(we.min())>0){a.readTime=bm(o,s.snapshotVersion.toTimestamp());let u=ww(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);let r=M8(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=Dw(this.serializer),t.removeTarget=e,this.k_(t)}},nI=class extends Sm{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=T8(e.writeResults,e.commitTime),r=qr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=Dw(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>D8(this.serializer,r))};this.k_(t)}};var rI=class{},iI=class extends rI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new K(L.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,Iw(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(L.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,Iw(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(L.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},oI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ri(t),this._a=!1):Y("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Hs="RemoteStore",sI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>b(this,null,function*(){qs(this)&&(Y(Hs,"Restarting streams for network reachability change."),yield(function(l){return b(this,null,function*(){let u=_e(l);u.Ia.add(4),yield id(u),u.Aa.set("Unknown"),u.Ia.delete(4),yield Qm(u)})})(this))}))}),this.Aa=new oI(r,i)}};function Qm(n){return b(this,null,function*(){if(qs(n))for(let e of n.da)yield e(!0)})}function id(n){return b(this,null,function*(){for(let e of n.da)yield e(!1)})}function GN(n,e){let t=_e(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),HI(t)?$I(t):Rc(t).x_()&&BI(t,e))}function UI(n,e){let t=_e(n),r=Rc(t);t.Ta.delete(e),r.x_()&&JN(t,e),t.Ta.size===0&&(r.x_()?r.B_():qs(t)&&t.Aa.set("Unknown"))}function BI(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Rc(n).H_(e)}function JN(n,e){n.Ra.$e(e),Rc(n).Y_(e)}function $I(n){n.Ra=new bw({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Rc(n).start(),n.Aa.aa()}function HI(n){return qs(n)&&!Rc(n).M_()&&n.Ta.size>0}function qs(n){return _e(n).Ia.size===0}function KN(n){n.Ra=void 0}function G8(n){return b(this,null,function*(){n.Aa.set("Online")})}function J8(n){return b(this,null,function*(){n.Ta.forEach((e,t)=>{BI(n,e)})})}function K8(n,e){return b(this,null,function*(){KN(n),HI(n)?(n.Aa.la(e),$I(n)):n.Aa.set("Unknown")})}function Q8(n,e,t){return b(this,null,function*(){if(n.Aa.set("Online"),e instanceof vm&&e.state===2&&e.cause)try{yield(function(i,o){return b(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){Y(Hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Am(n,r)}else if(e instanceof dc?n.Ra.Ye(e):e instanceof ym?n.Ra.it(e):n.Ra.et(e),!t.isEqual(we.min()))try{let r=yield WN(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let h=o.Ta.get(u);h&&o.Ta.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let h=o.Ta.get(l);if(!h)return;o.Ta.set(l,h.withResumeToken(Zt.EMPTY_BYTE_STRING,h.snapshotVersion)),JN(o,l);let g=new Xu(h.target,l,u,h.sequenceNumber);BI(o,g)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){Y(Hs,"Failed to raise snapshot:",r),yield Am(n,r)}})}function Am(n,e,t){return b(this,null,function*(){if(!Mc(e))throw e;n.Ia.add(1),yield id(n),n.Aa.set("Offline"),t||(t=()=>WN(n.localStore)),n.asyncQueue.enqueueRetryable(()=>b(null,null,function*(){Y(Hs,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield Qm(n)}))})}function QN(n,e){return e().catch(t=>Am(n,t,e))}function Ym(n){return b(this,null,function*(){let e=_e(n),t=ko(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:xI;for(;Y8(e);)try{let i=yield H8(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,Z8(e,i)}catch(i){yield Am(e,i)}YN(e)&&ZN(e)})}function Y8(n){return qs(n)&&n.Pa.length<10}function Z8(n,e){n.Pa.push(e);let t=ko(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function YN(n){return qs(n)&&!ko(n).M_()&&n.Pa.length>0}function ZN(n){ko(n).start()}function X8(n){return b(this,null,function*(){ko(n).na()})}function e9(n){return b(this,null,function*(){let e=ko(n);for(let t of n.Pa)e.X_(t.mutations)})}function t9(n,e,t){return b(this,null,function*(){let r=n.Pa.shift(),i=gw.from(r,e,t);yield QN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ym(n)})}function n9(n,e){return b(this,null,function*(){e&&ko(n).Z_&&(yield(function(r,i){return b(this,null,function*(){if((function(s){return y8(s)&&s!==L.ABORTED})(i.code)){let o=r.Pa.shift();ko(r).N_(),yield QN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ym(r)}})})(n,e)),YN(n)&&ZN(n)})}function NP(n,e){return b(this,null,function*(){let t=_e(n);t.asyncQueue.verifyOperationInProgress(),Y(Hs,"RemoteStore received new credentials");let r=qs(t);t.Ia.add(3),yield id(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield Qm(t)})}function r9(n,e){return b(this,null,function*(){let t=_e(n);e?(t.Ia.delete(2),yield Qm(t)):e||(t.Ia.add(2),yield id(t),t.Aa.set("Unknown"))})}function Rc(n){return n.Va||(n.Va=(function(t,r,i){let o=_e(t);return o.ia(),new tI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:G8.bind(null,n),e_:J8.bind(null,n),n_:K8.bind(null,n),J_:Q8.bind(null,n)}),n.da.push(e=>b(null,null,function*(){e?(n.Va.N_(),HI(n)?$I(n):n.Aa.set("Unknown")):(yield n.Va.stop(),KN(n))}))),n.Va}function ko(n){return n.ma||(n.ma=(function(t,r,i){let o=_e(t);return o.ia(),new nI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:X8.bind(null,n),n_:n9.bind(null,n),ea:e9.bind(null,n),ta:t9.bind(null,n)}),n.da.push(e=>b(null,null,function*(){e?(n.ma.N_(),yield Ym(n)):(yield n.ma.stop(),n.Pa.length>0&&(Y(Hs,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var aI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function zI(n,e){if(Ri("AsyncQueue",`${e}: ${n}`),Mc(n))return new K(L.UNAVAILABLE,`${e}: ${n}`);throw n}var xm=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||oe.comparator(t.key,r.key):(t,r)=>oe.comparator(t.key,r.key),this.keyedMap=Bu(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Mm=class{constructor(){this.fa=new ht(oe.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ue(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Cc=class n{constructor(e,t,r,i,o,s,a,l,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,xm.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var cI=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},lI=class{constructor(){this.queries=kP(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=_e(t),o=i.queries;i.queries=kP(),o.forEach((s,a)=>{for(let l of a.wa)l.onError(r)})})(this,new K(L.ABORTED,"Firestore shutting down"))}};function kP(){return new ki(n=>CN(n),Gm)}function XN(n,e){return b(this,null,function*(){let t=_e(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new cI,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=zI(s,`Initialization of query '${ac(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&qI(t)})}function ek(n,e){return b(this,null,function*(){let t=_e(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function i9(n,e){let t=_e(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&qI(t)}function o9(n,e,t){let r=_e(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function qI(n){n.Da.forEach(e=>{e.next()})}var uI,OP;(OP=uI||(uI={})).Fa="default",OP.Cache="cache";var Rm=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Cc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Cc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==uI.Cache}};var Pm=class{constructor(e){this.key=e}},Nm=class{constructor(e){this.key=e}},dI=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Me(),this.mutatedKeys=Me(),this.Xa=DN(e),this.eu=new xm(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Mm,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,g)=>{let v=i.get(h),w=Jm(this.query,g)?g:null,x=!!v&&this.mutatedKeys.has(v.key),F=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations),O=!1;v&&w?v.data.isEqual(w.data)?x!==F&&(r.track({type:3,doc:w}),O=!0):this.iu(v,w)||(r.track({type:2,doc:w}),O=!0,(l&&this.Xa(w,l)>0||u&&this.Xa(w,u)<0)&&(a=!0)):!v&&w?(r.track({type:0,doc:w}),O=!0):v&&!w&&(r.track({type:1,doc:v}),O=!0,(l||u)&&(a=!0)),O&&(w?(s=s.add(w),o=F?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,g)=>(function(w,x){let F=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ue(20277,{At:O})}};return F(w)-F(x)})(h.type,g.type)||this.Xa(h.doc,g.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,u=l!==this.Ya;return this.Ya=l,s.length!==0||u?{snapshot:new Cc(this.query,e.eu,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Mm,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Me(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Nm(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Pm(r))}),t}uu(e){this.Ha=e.qs,this.Za=Me();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Cc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},WI="SyncEngine",hI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},fI=class{constructor(e){this.key=e,this.lu=!1}},pI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new ki(a=>CN(a),Gm),this.Tu=new Map,this.Iu=new Set,this.du=new ht(oe.comparator),this.Eu=new Map,this.Au=new td,this.Ru={},this.Vu=new Map,this.mu=ed.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function s9(n,e,t=!0){return b(this,null,function*(){let r=sk(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield tk(r,e,t,!0),i})}function a9(n,e){return b(this,null,function*(){let t=sk(n);yield tk(t,e,!0,!1)})}function tk(n,e,t,r){return b(this,null,function*(){let i=yield z8(n.localStore,Hr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield c9(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&GN(n.remoteStore,i),a})}function c9(n,e,t,r,i){return b(this,null,function*(){n.gu=(g,v,w)=>(function(F,O,W,se){return b(this,null,function*(){let he=O.view.nu(W);he.Ds&&(he=yield MP(F.localStore,O.query,!1).then(({documents:A})=>O.view.nu(A,he)));let Be=se&&se.targetChanges.get(O.targetId),en=se&&se.targetMismatches.get(O.targetId)!=null,Ve=O.view.applyChanges(he,F.isPrimaryClient,Be,en);return LP(F,O.targetId,Ve._u),Ve.snapshot})})(n,g,v,w);let o=yield MP(n.localStore,e,!0),s=new dI(e,o.qs),a=s.nu(o.documents),l=Zu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,l);LP(n,t,u._u);let h=new hI(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot})}function l9(n,e,t){return b(this,null,function*(){let r=_e(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Gm(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Jw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&UI(r.remoteStore,i.targetId),mI(r,i.targetId)}).catch(xc))):(mI(r,i.targetId),yield Jw(r.localStore,i.targetId,!0))})}function u9(n,e){return b(this,null,function*(){let t=_e(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),UI(t.remoteStore,r.targetId))})}function d9(n,e,t){return b(this,null,function*(){let r=v9(n);try{let i=yield(function(s,a){let l=_e(s),u=rt.now(),h=a.reduce((w,x)=>w.add(x.key),Me()),g,v;return l.persistence.runTransaction("Locally write mutations","readwrite",w=>{let x=Oi(),F=Me();return l.Os.getEntries(w,h).next(O=>{x=O,x.forEach((W,se)=>{se.isValidDocument()||(F=F.add(W))})}).next(()=>l.localDocuments.getOverlayedDocuments(w,x)).next(O=>{g=O;let W=[];for(let se of a){let he=g8(se,g.get(se.key).overlayedDocument);he!=null&&W.push(new Gr(se.key,he,yN(he.value.mapValue),zr.exists(!0)))}return l.mutationQueue.addMutationBatch(w,u,W,a)}).next(O=>{v=O;let W=O.applyToLocalDocumentSet(g,F);return l.documentOverlayCache.saveOverlays(w,O.batchId,W)})}).then(()=>({batchId:v.batchId,changes:SN(g)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,l){let u=s.Ru[s.currentUser.toKey()];u||(u=new ht(Te)),u=u.insert(a,l),s.Ru[s.currentUser.toKey()]=u})(r,i.batchId,t),yield od(r,i.changes),yield Ym(r.remoteStore)}catch(i){let o=zI(i,"Failed to persist write");t.reject(o)}})}function nk(n,e){return b(this,null,function*(){let t=_e(n);try{let r=yield B8(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Le(s.lu,14607):i.removedDocuments.size>0&&(Le(s.lu,42227),s.lu=!1))}),yield od(t,r,e)}catch(r){yield xc(r)}})}function FP(n,e,t){let r=_e(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let l=_e(s);l.onlineState=a;let u=!1;l.queries.forEach((h,g)=>{for(let v of g.wa)v.va(a)&&(u=!0)}),u&&qI(l)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function h9(n,e,t){return b(this,null,function*(){let r=_e(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new ht(oe.comparator);s=s.insert(o,vr.newNoDocument(o,we.min()));let a=Me().add(o),l=new gm(we.min(),new Map,new ht(Te),s,a);yield nk(r,l),r.du=r.du.remove(o),r.Eu.delete(e),GI(r)}else yield Jw(r.localStore,e,!1).then(()=>mI(r,e,t)).catch(xc)})}function f9(n,e){return b(this,null,function*(){let t=_e(n),r=e.batch.batchId;try{let i=yield U8(t.localStore,e);ik(t,r,null),rk(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield od(t,i)}catch(i){yield xc(i)}})}function p9(n,e,t){return b(this,null,function*(){let r=_e(n);try{let i=yield(function(s,a){let l=_e(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(g=>(Le(g!==null,37113),h=g.keys(),l.mutationQueue.removeMutationBatch(u,g))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})})(r.localStore,e);ik(r,e,t),rk(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield od(r,i)}catch(i){yield xc(i)}})}function rk(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function ik(n,e,t){let r=_e(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function mI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||ok(n,r)})}function ok(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(UI(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),GI(n))}function LP(n,e,t){for(let r of t)r instanceof Pm?(n.Au.addReference(r.key,e),m9(n,r)):r instanceof Nm?(Y(WI,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||ok(n,r.key)):ue(19791,{yu:r})}function m9(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(Y(WI,"New document in limbo: "+t),n.Iu.add(r),GI(n))}function GI(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new oe(tt.fromString(e)),r=n.mu.next();n.Eu.set(r,new fI(t)),n.du=n.du.insert(t,r),GN(n.remoteStore,new Xu(Hr(FI(t.path)),r,"TargetPurposeLimboResolution",AI.ue))}}function od(n,e,t){return b(this,null,function*(){let r=_e(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{s.push(r.gu(l,e,t).then(u=>{var h;if((u||t)&&r.isPrimaryClient){let g=u?!u.fromCache:(h=t?.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,g?"current":"not-current")}if(u){i.push(u);let g=zw.Es(l.targetId,u);o.push(g)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(l,u){return b(this,null,function*(){let h=_e(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>$.forEach(u,v=>$.forEach(v.Is,w=>h.persistence.referenceDelegate.addReference(g,v.targetId,w)).next(()=>$.forEach(v.ds,w=>h.persistence.referenceDelegate.removeReference(g,v.targetId,w)))))}catch(g){if(!Mc(g))throw g;Y(jI,"Failed to update sequence numbers: "+g)}for(let g of u){let v=g.targetId;if(!g.fromCache){let w=h.Fs.get(v),x=w.snapshotVersion,F=w.withLastLimboFreeSnapshotVersion(x);h.Fs=h.Fs.insert(v,F)}}})})(r.localStore,o))})}function g9(n,e){return b(this,null,function*(){let t=_e(n);if(!t.currentUser.isEqual(e)){Y(WI,"User change. New user:",e.toKey());let r=yield qN(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(l=>{l.reject(new K(L.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield od(t,r.Bs)}})}function y9(n,e){let t=_e(n),r=t.Eu.get(e);if(r&&r.lu)return Me().add(r.key);{let i=Me(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function sk(n){let e=_e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=nk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h9.bind(null,e),e.hu.J_=i9.bind(null,e.eventManager),e.hu.pu=o9.bind(null,e.eventManager),e}function v9(n){let e=_e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p9.bind(null,e),e}var ak=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return b(this,null,function*(){this.serializer=Km(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return j8(this.persistence,new Ww,t.initialUser,this.serializer)}Du(t){return new wm(Hw.Vi,this.serializer)}bu(t){return new Kw}terminate(){return b(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),gI=class extends ak{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Le(this.persistence.referenceDelegate instanceof Im,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new Mw(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Gn.withCacheSize(this.cacheSizeBytes):Gn.DEFAULT;return new wm(r=>Im.Vi(r,t),this.serializer)}};var _9=(()=>{class n{initialize(t,r){return b(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>FP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=g9.bind(null,this.syncEngine),yield r9(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new lI})()}createDatastore(t){let r=Km(t.databaseInfo.databaseId),i=(function(s){return new eI(s)})(t.databaseInfo);return(function(s,a,l,u){return new iI(s,a,l,u)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,l){return new sI(i,o,s,a,l)})(this.localStore,this.datastore,t.asyncQueue,r=>FP(this.syncEngine,r,0),(function(){return Dm.C()?new Dm:new Qw})())}createSyncEngine(t,r){return(function(o,s,a,l,u,h,g){let v=new pI(o,s,a,l,u,h);return g&&(v.fu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return b(this,null,function*(){var t,r;yield(function(o){return b(this,null,function*(){let s=_e(o);Y(Hs,"RemoteStore shutting down."),s.Ia.add(5),yield id(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var km=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Oo="FirestoreClient",yI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=Wu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>b(this,null,function*(){Y(Oo,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(Y(Oo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=zI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function $E(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),Y(Oo,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>b(null,null,function*(){r.isEqual(i)||(yield qN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Mo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{Y("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Mo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function VP(n,e){return b(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield b9(n);Y(Oo,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>NP(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>NP(e.remoteStore,i)),n._onlineComponents=e})}function b9(n){return b(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Y(Oo,"Using user provided OfflineComponentProvider");try{yield $E(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Mo("Error using user provided cache. Falling back to memory cache: "+t),yield $E(n,new ak)}}else Y(Oo,"Using default OfflineComponentProvider"),yield $E(n,new gI(void 0));return n._offlineComponents})}function ck(n){return b(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(Y(Oo,"Using user provided OnlineComponentProvider"),yield VP(n,n._uninitializedComponentsProvider._online)):(Y(Oo,"Using default OnlineComponentProvider"),yield VP(n,new _9))),n._onlineComponents})}function E9(n){return ck(n).then(e=>e.syncEngine)}function lk(n){return b(this,null,function*(){let e=yield ck(n),t=e.eventManager;return t.onListen=s9.bind(null,e.syncEngine),t.onUnlisten=l9.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=a9.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=u9.bind(null,e.syncEngine),t})}function w9(n,e,t={}){let r=new gr;return n.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return(function(o,s,a,l,u){let h=new km({next:v=>{h.Ou(),s.enqueueAndForget(()=>ek(o,g));let w=v.docs.has(a);!w&&v.fromCache?u.reject(new K(L.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&v.fromCache&&l&&l.source==="server"?u.reject(new K(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(v)},error:v=>u.reject(v)}),g=new Rm(FI(a.path),h,{includeMetadataChanges:!0,ka:!0});return XN(o,g)})(yield lk(n),n.asyncQueue,e,t,r)})),r.promise}function I9(n,e,t={}){let r=new gr;return n.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return(function(o,s,a,l,u){let h=new km({next:v=>{h.Ou(),s.enqueueAndForget(()=>ek(o,g)),v.fromCache&&l.source==="server"?u.reject(new K(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(v)},error:v=>u.reject(v)}),g=new Rm(a,h,{includeMetadataChanges:!0,ka:!0});return XN(o,g)})(yield lk(n),n.asyncQueue,e,t,r)})),r.promise}function uk(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var jP=new Map;var dk="firestore.googleapis.com",UP=!0,Om=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dk,this.ssl=UP}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:UP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<F8)throw new K(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}k6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Dc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Om({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Om(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new HE;switch(r.type){case"firstParty":return new GE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return b(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=jP.get(t);r&&(Y("ComponentProvider","Removing Datastore"),jP.delete(t),r.terminate())})(this),Promise.resolve()}};function hk(n,e,t,r={}){var i;n=yr(n,Dc);let o=go(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),l=`${e}:${t}`;o&&(Cp(`https://${l}`),Dp("Firestore",!0)),s.host!==dk&&s.host!==l&&Mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:l,ssl:o,emulatorOptions:r});if(!Wn(u,a)&&(n._setSettings(u),r.mockUserToken)){let h,g;if(typeof r.mockUserToken=="string")h=r.mockUserToken,g=kt.MOCK_USER;else{h=cM(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new K(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new kt(v)}n._authCredentials=new zE(new am(h,g))}}var Tc=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Ft=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(rd(t,n._jsonSchema))return new n(e,r||null,new oe(tt.fromString(t.referencePath)))}};Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:St("string",Ft._jsonSchemaVersion),referencePath:St("string")};var To=class n extends Tc{constructor(e,t,r){super(e,t,FI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new oe(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function fk(n,e,...t){if(n=Ye(n),GP("collection","path",e),n instanceof Dc){let r=tt.fromString(e,...t);return iP(r),new To(n,null,r)}{if(!(n instanceof Ft||n instanceof To))throw new K(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(tt.fromString(e,...t));return iP(r),new To(n.firestore,null,r)}}function JI(n,e,...t){if(n=Ye(n),arguments.length===1&&(e=Wu.newId()),GP("doc","path",e),n instanceof Dc){let r=tt.fromString(e,...t);return rP(r),new Ft(n,null,new oe(r))}{if(!(n instanceof Ft||n instanceof To))throw new K(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(tt.fromString(e,...t));return rP(r),new Ft(n.firestore,n instanceof To?n.converter:null,new oe(r))}}var BP="AsyncQueue",Fm=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Tm(this,"async_queue_retry"),this.oc=()=>{let r=BE();r&&Y(BP,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=BE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=BE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new gr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return b(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Mc(e))throw e;Y(BP,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Ri("INTERNAL UNHANDLED ERROR: ",$P(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=aI.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ue(47125,{hc:$P(this.tc)})}verifyOperationInProgress(){}Pc(){return b(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function $P(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}var Fi=class extends Dc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Fm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return b(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Fm(e),this._firestoreClient=void 0,yield e}})}};function pk(n,e){let t=typeof n=="object"?n:As(),r=typeof n=="string"?n:e||hm,i=Xa(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=aM("firestore");o&&hk(i,...o)}return i}function KI(n){if(n._terminated)throw new K(L.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||C9(n),n._firestoreClient}function C9(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,l,u,h){return new ZE(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,uk(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new yI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}var So=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Zt.fromBase64String(e))}catch(t){throw new K(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rd(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};So._jsonSchemaVersion="firestore/bytes/1.0",So._jsonSchema={type:St("string",So._jsonSchemaVersion),bytes:St("string")};var Sc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new K(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var zs=class{constructor(e){this._methodName=e}};var Ao=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new K(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new K(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(rd(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Ao._jsonSchemaVersion="firestore/geoPoint/1.0",Ao._jsonSchema={type:St("string",Ao._jsonSchemaVersion),latitude:St("number"),longitude:St("number")};var xo=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rd(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new K(L.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};xo._jsonSchemaVersion="firestore/vectorValue/1.0",xo._jsonSchema={type:St("string",xo._jsonSchemaVersion),vectorValues:St("object")};var D9=/^__.*__$/,vI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Gr(e,this.data,this.fieldMask,t,this.fieldTransforms):new $s(e,this.data,t,this.fieldTransforms)}},Lm=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Gr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function mk(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue(40011,{Ec:n})}}var Vm=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Um(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(mk(this.Ec)&&D9.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},_I=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Km(e)}Dc(e,t,r,i=!1){return new Vm({Ec:e,methodName:t,bc:r,path:kn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Zm(n){let e=n._freezeSettings(),t=Km(n._databaseId);return new _I(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gk(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);QI("Data must be an object, but it was:",s,r);let a=vk(r,s),l,u;if(o.merge)l=new Jn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let g of o.mergeFields){let v=wI(e,g,t);if(!s.contains(v))throw new K(L.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);bk(h,v)||h.push(v)}l=new Jn(h),u=s.fieldTransforms.filter(g=>l.covers(g.field))}else l=null,u=s.fieldTransforms;return new vI(new Nn(a),l,u)}var jm=class n extends zs{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function yk(n,e,t){return new Vm({Ec:3,bc:e.settings.bc,methodName:n._methodName,mc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}var bI=class n extends zs{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){let t=yk(this,e,!0),r=this.vc.map(o=>Ws(o,t)),i=new Po(r);return new mm(e.path,i)}isEqual(e){return e instanceof n&&Wn(this.vc,e.vc)}},EI=class n extends zs{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){let t=yk(this,e,!0),r=this.vc.map(o=>Ws(o,t)),i=new No(r);return new mm(e.path,i)}isEqual(e){return e instanceof n&&Wn(this.vc,e.vc)}};function T9(n,e,t,r){let i=n.Dc(1,e,t);QI("Data must be an object, but it was:",i,r);let o=[],s=Nn.empty();Fo(r,(l,u)=>{let h=YI(e,l,t);u=Ye(u);let g=i.gc(h);if(u instanceof jm)o.push(h);else{let v=Ws(u,g);v!=null&&(o.push(h),s.set(h,v))}});let a=new Jn(o);return new Lm(s,a,i.fieldTransforms)}function S9(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[wI(e,r,t)],l=[i];if(o.length%2!=0)throw new K(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)a.push(wI(e,o[v])),l.push(o[v+1]);let u=[],h=Nn.empty();for(let v=a.length-1;v>=0;--v)if(!bk(u,a[v])){let w=a[v],x=l[v];x=Ye(x);let F=s.gc(w);if(x instanceof jm)u.push(w);else{let O=Ws(x,F);O!=null&&(u.push(w),h.set(w,O))}}let g=new Jn(u);return new Lm(h,g,s.fieldTransforms)}function A9(n,e,t,r=!1){return Ws(t,n.Dc(r?4:3,e))}function Ws(n,e){if(_k(n=Ye(n)))return QI("Unsupported field value:",e,n),vk(n,e);if(n instanceof zs)return(function(r,i){if(!mk(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let l=Ws(a,i.yc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Ye(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return d8(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=rt.fromDate(r);return{timestampValue:bm(i.serializer,o)}}if(r instanceof rt){let o=new rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bm(i.serializer,o)}}if(r instanceof Ao)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof So)return{bytesValue:LN(i.serializer,r._byteString)};if(r instanceof Ft){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:VI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof xo)return(function(s,a){return{mapValue:{fields:{[RI]:{stringValue:PI},[mc]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return LI(a.serializer,u)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${zm(r)}`)})(n,e)}function vk(n,e){let t={};return lN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(n,(r,i)=>{let o=Ws(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function _k(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof rt||n instanceof Ao||n instanceof So||n instanceof Ft||n instanceof zs||n instanceof xo)}function QI(n,e,t){if(!_k(t)||!JP(t)){let r=zm(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function wI(n,e,t){if((e=Ye(e))instanceof Sc)return e._internalPath;if(typeof e=="string")return YI(n,e);throw Um("Field path arguments must be of type string or ",n,!1,void 0,t)}var x9=new RegExp("[~\\*/\\[\\]]");function YI(n,e,t){if(e.search(x9)>=0)throw Um(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sc(...e.split("."))._internalPath}catch{throw Um(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Um(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new K(L.INVALID_ARGUMENT,a+n+l)}function bk(n,e){return n.some(t=>t.isEqual(e))}var Bm=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new II(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(ZI("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},II=class extends Bm{data(){return super.data()}};function ZI(n,e){return typeof e=="string"?YI(n,e):e instanceof Sc?e._internalPath:e._delegate._internalPath}function M9(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new K(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nd=class{},CI=class extends nd{};function Ek(n,e,...t){let r=[];e instanceof nd&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(l=>l instanceof DI).length,a=o.filter(l=>l instanceof $m).length;if(s>1||s>0&&a>0)throw new K(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var $m=class n extends CI{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return Ik(e._query,t),new Tc(e.firestore,e.converter,dw(e._query,t))}_parse(e){let t=Zm(e.firestore);return(function(o,s,a,l,u,h,g){let v;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new K(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){zP(g,h);let x=[];for(let F of g)x.push(HP(l,o,F));v={arrayValue:{values:x}}}else v=HP(l,o,g)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||zP(g,h),v=A9(a,s,g,h==="in"||h==="not-in");return Tt.create(u,h,v)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function wk(n,e,t){let r=e,i=ZI("where",n);return $m._create(i,r,t)}var DI=class n extends nd{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:_r.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let l of a)Ik(s,l),s=dw(s,l)})(e._query,t),new Tc(e.firestore,e.converter,dw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function HP(n,e,t){if(typeof(t=Ye(t))=="string"){if(t==="")throw new K(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IN(e)&&t.indexOf("/")!==-1)throw new K(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(tt.fromString(t));if(!oe.isDocumentKey(r))throw new K(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return dP(n,new oe(r))}if(t instanceof Ft)return dP(n,t._key);throw new K(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zm(t)}.`)}function zP(n,e){if(!Array.isArray(n)||n.length===0)throw new K(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ik(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new K(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var TI=class{convertValue(e,t="none"){switch(Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ue(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Fo(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[mc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>et(s.doubleValue));return new xo(o)}convertGeoPoint(e){return new Ao(et(e.latitude),et(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Wm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ku(e));default:return null}}convertTimestamp(e){let t=Pi(e);return new rt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=tt.fromString(e);Le(HN(r),9688,{name:e});let i=new fm(r.get(1),r.get(3)),o=new oe(r.popFirst(5));return i.isEqual(t)||Ri(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Ck(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ls=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Vs=class n extends Bm{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(ZI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(L.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vs._jsonSchema={type:St("string",Vs._jsonSchemaVersion),bundleSource:St("string","DocumentSnapshot"),bundleName:St("string"),bundle:St("string")};var hc=class extends Vs{data(e={}){return super.data(e)}},fc=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ls(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new hc(this._firestore,this._userDataWriter,r.key,r,new Ls(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new K(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new hc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ls(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new hc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ls(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:R9(a.type),doc:l,oldIndex:u,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(L.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Wu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function R9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ue(61501,{type:n})}}function Dk(n){n=yr(n,Ft);let e=yr(n.firestore,Fi);return w9(KI(e),n._key).then(t=>P9(e,n,t))}fc._jsonSchemaVersion="firestore/querySnapshot/1.0",fc._jsonSchema={type:St("string",fc._jsonSchemaVersion),bundleSource:St("string","QuerySnapshot"),bundleName:St("string"),bundle:St("string")};var Hm=class extends TI{constructor(e){super(),this.firestore=e}convertBytes(e){return new So(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}};function Tk(n){n=yr(n,Tc);let e=yr(n.firestore,Fi),t=KI(e),r=new Hm(e);return M9(n._query),I9(t,n._query).then(i=>new fc(e,r,n,i))}function Sk(n,e,t){n=yr(n,Ft);let r=yr(n.firestore,Fi),i=Ck(n.converter,e,t);return Xm(r,[gk(Zm(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,zr.none())])}function Ak(n,e,t,...r){n=yr(n,Ft);let i=yr(n.firestore,Fi),o=Zm(i),s;return s=typeof(e=Ye(e))=="string"||e instanceof Sc?S9(o,"updateDoc",n._key,e,t,r):T9(o,"updateDoc",n._key,e),Xm(i,[s.toMutation(n._key,zr.exists(!0))])}function xk(n){return Xm(yr(n.firestore,Fi),[new Yu(n._key,zr.none())])}function Mk(n,e){let t=yr(n.firestore,Fi),r=JI(n),i=Ck(n.converter,e);return Xm(t,[gk(Zm(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,zr.exists(!1))]).then(()=>r)}function Xm(n,e){return(function(r,i){let o=new gr;return r.asyncQueue.enqueueAndForget(()=>b(null,null,function*(){return d9(yield E9(r),i,o)})),o.promise})(KI(n),e)}function P9(n,e,t){let r=t.docs.get(e._key),i=new Hm(n);return new Vs(n,i,e._key,r,new Ls(t.hasPendingWrites,t.fromCache),e.converter)}function XI(...n){return new bI("arrayUnion",n)}function Rk(...n){return new EI("arrayRemove",n)}(function(e,t=!0){(function(i){Ac=i})(vo),pr(new ln("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Fi(new qE(r.getProvider("auth-internal")),new JE(s,r.getProvider("app-check-internal")),(function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fm(u.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),dt(XR,eP,e),dt(XR,eP,"esm2017")})();var br=class{constructor(e){return e}},Pk="firestore",eC=class{constructor(){return tc(Pk)}};var tC=new Z("angularfire2.firestore-instances");function N9(n,e){let t=Su(Pk,n,e);return t&&new br(t)}function k9(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new br(r)}}var O9={provide:eC,deps:[[new Tn,tC]]},F9={provide:br,useFactory:N9,deps:[[new Tn,tC],Di]};function Nk(n,...e){return dt("angularfire",_o.full,"fst"),mn([F9,O9,{provide:tC,useFactory:k9(n),multi:!0,deps:[ke,st,bo,Ms,[new Tn,Vu],[new Tn,nc],...e]}])}var kk=Ze(Mk,!0,2);var Lo=Ze(fk,!0,2);var eg=Ze(xk,!0,2);var $t=Ze(JI,!0,2);var Vo=Ze(Dk,!0);var Gs=Ze(Tk,!0);var Ok=Ze(pk,!0);var Fk=Ze(Ek,!0,2);var Lk=Ze(Sk,!0,2);var Jr=Ze(Ak,!0,2);var Vk=Ze(wk,!0,2);var qe=class n{auth=P(ks);firestore=P(br);router=P(Ge);currentUser=ee(null);userProfile=ee(null);isLoggedIn=ee(!1);authError=ee(null);loading=ee(!1);authReady=ee(!1);constructor(){WR(this.auth,e=>b(this,null,function*(){this.currentUser.set(e),this.isLoggedIn.set(!!e),e?yield this.loadUserProfile(e.uid):this.userProfile.set(null),this.authReady.set(!0)}))}waitForAuthState(){return b(this,null,function*(){for(;!this.authReady();)yield new Promise(e=>setTimeout(e,100))})}loadUserProfile(e){return b(this,null,function*(){try{let t=$t(this.firestore,"users",e),r=yield Vo(t);r.exists()&&this.userProfile.set(r.data())}catch(t){console.error("Error loading user profile:",t)}})}getUserProfile(e){return b(this,null,function*(){try{let t=$t(this.firestore,"users",e),r=yield Vo(t);return r.exists()?r.data():null}catch(t){return console.error("Error getting user profile:",t),null}})}login(e,t){return b(this,null,function*(){this.loading.set(!0),this.authError.set(null);try{let r=yield JR(this.auth,e,t),i=$t(this.firestore,"users",r.user.uid);return(yield Vo(i)).exists()?r.user.emailVerified?(yield new Promise(s=>setTimeout(s,500)),yield this.loadUserProfile(r.user.uid),this.clearError(),this.router.navigate(["/"]),!0):(this.authError.set("Please verify your email before logging in. Check your inbox for the verification link."),yield ju(this.auth),!1):(yield ju(this.auth),this.authError.set("This account has been deleted. Please contact support or create a new account."),!1)}catch(r){console.error("Login error full:",r);let i=this.getErrorMessage(r.code||r.message);return this.authError.set(i),!1}finally{this.loading.set(!1)}})}register(e,t,r,i,o,s){return b(this,null,function*(){this.loading.set(!0),this.authError.set(null);try{let a=yield zR(this.auth,i,o);yield PE(a.user);let l={uid:a.user.uid,firstName:e,lastName:t,company:r,email:i,role:s,savedJobs:[],createdAt:new Date};return yield Lk($t(this.firestore,"users",a.user.uid),l),yield ju(this.auth),this.authError.set("Registration successful! Please check your email to verify your account before logging in."),!1}catch(a){return this.authError.set(this.getErrorMessage(a.code)),!1}finally{this.loading.set(!1)}})}resendVerificationEmail(){return b(this,null,function*(){let e=this.auth.currentUser;if(e&&!e.emailVerified)try{yield PE(e)}catch(t){throw console.error("Error sending verification email:",t),this.authError.set(this.getErrorMessage(t.code||t.message)),t}})}logout(){return b(this,null,function*(){try{yield ju(this.auth),this.userProfile.set(null),this.clearError(),this.router.navigate(["/login"])}catch(e){this.authError.set(this.getErrorMessage(e.code))}})}hasRole(e){return this.userProfile()?.role===e}isAdmin(){return this.hasRole("admin")}isEmployer(){return this.hasRole("employer")}isApplicant(){return this.hasRole("applicant")}clearError(){this.authError.set(null)}updateUserProfile(e,t){return b(this,null,function*(){try{let r=$t(this.firestore,"users",e);yield Jr(r,t);let i=this.userProfile();i&&this.userProfile.set(j(j({},i),t))}catch(r){throw console.error("Error updating user profile:",r),r}})}updateEmail(e){return b(this,null,function*(){let t=this.currentUser();if(!t)throw new Error("No authenticated user.");try{yield KR(t,e);let r=this.userProfile();r&&(yield this.updateUserProfile(r.uid,{email:e}))}catch(r){throw console.error("Error updating email:",r),r}})}updatePassword(e){return b(this,null,function*(){let t=this.currentUser();if(!t)throw new Error("No authenticated user.");try{yield QR(t,e)}catch(r){throw console.error("Error updating password:",r),r}})}sendPasswordReset(e){return b(this,null,function*(){try{yield GR(this.auth,e)}catch(t){throw console.error("Error sending password reset email:",t),this.authError.set(this.getErrorMessage(t.code||t.message)),t}})}getErrorMessage(e){switch(e){case"auth/user-not-found":return"No account found with this email.";case"auth/wrong-password":return"Incorrect password.";case"auth/invalid-credential":return"Invalid email or password.";case"auth/email-already-in-use":return"An account with this email already exists.";case"auth/weak-password":return"Password should be at least 6 characters.";case"auth/invalid-email":return"Please enter a valid email address.";case"auth/too-many-requests":return"Too many failed attempts. Please try again later.";default:return"An error occurred. Please try again."}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})};var Lt=class n{firestore=P(br);authService=P(qe);jobs=ee([]);loading=ee(!1);initializeSampleData(){return b(this,null,function*(){yield this.loadJobs()})}loadJobs(){return b(this,null,function*(){this.loading.set(!0);try{yield this.migrateJobTypes();let e=Lo(this.firestore,"jobs"),r=(yield Gs(e)).docs.map(i=>{let o=i.data();return ne(j({id:i.id},o),{postedDate:o.postedDate?.toDate?o.postedDate.toDate():o.postedDate})}).filter(i=>i.status!=="rejected");this.jobs.set(r)}catch(e){console.error("Error loading jobs:",e),this.jobs.set([])}finally{this.loading.set(!1)}})}migrateJobTypes(){return b(this,null,function*(){try{let e=Lo(this.firestore,"jobs"),t=yield Gs(e),r=0;for(let i of t.docs){let s=i.data().type,a=s;s==="Full Time"?a="Full-Time":s==="Part Time"&&(a="Part-Time"),a!==s&&(yield Jr($t(this.firestore,"jobs",i.id),{type:a}),console.log(`[Migrate Job Types] Updated "${s}" \u2192 "${a}"`),r++)}r>0&&console.log(`%c\u2713 Migrated ${r} jobs to new type format`,"color: purple; font-weight: bold;")}catch(e){console.error("Job type migration error:",e)}})}list(e){let t=this.jobs();return e?t.filter(r=>{let i=e.title?r.title.toLowerCase().includes(e.title.toLowerCase()):!0,o=e.company?r.company.toLowerCase().includes(e.company.toLowerCase()):!0,s=e.location?r.location.toLowerCase().includes(e.location.toLowerCase()):!0,a=e.type?r.type.toLowerCase()===e.type.toLowerCase():!0;return i&&o&&s&&a}):t}getById(e){return this.jobs().find(t=>t.id===e)}getAllJobs(){return b(this,null,function*(){try{let e=Lo(this.firestore,"jobs");return(yield Gs(e)).docs.map(i=>{let o=i.data();return ne(j({id:i.id},o),{postedDate:o.postedDate?.toDate?o.postedDate.toDate():o.postedDate,applicants:(o.applicants||[]).map(s=>ne(j({},s),{appliedAt:s.appliedAt?.toDate?s.appliedAt.toDate():s.appliedAt}))})})}catch(e){return console.error("Error loading all jobs:",e),[]}})}create(e){return b(this,null,function*(){try{let t=Lo(this.firestore,"jobs"),r=rt.now(),i=ne(j({},e),{postedDate:r,status:"pending"});console.log("Creating job with data:",i);let o=yield kk(t,i);console.log("Job created with ID:",o.id);let s=ne(j({id:o.id},e),{postedDate:r.toDate(),status:"pending"}),a=this.jobs();return this.jobs.set([...a,s]),s}catch(t){throw console.error("Error creating job:",t),t}})}update(e,t){return b(this,null,function*(){try{let r=$t(this.firestore,"jobs",e);yield Jr(r,t);let i=this.jobs(),o=i.findIndex(s=>s.id===e);if(o!==-1){let s=j(j({},i[o]),t),a=[...i];return a[o]=s,this.jobs.set(a),s}return null}catch(r){return console.error("Error updating job:",r),null}})}delete(e){return b(this,null,function*(){try{let t=$t(this.firestore,"jobs",e);yield eg(t);let r=this.jobs();return this.jobs.set(r.filter(i=>i.id!==e)),!0}catch(t){return console.error("Error deleting job:",t),!1}})}isJobSaved(e){return(this.authService.userProfile()?.savedJobs||[]).includes(e)}saveJob(e){return b(this,null,function*(){let t=this.authService.currentUser();if(t)try{let r=$t(this.firestore,"users",t.uid);yield Jr(r,{savedJobs:XI(e)});let i=this.authService.userProfile();if(i){let o=[...i.savedJobs||[],e];this.authService.userProfile.set(ne(j({},i),{savedJobs:o}))}}catch(r){console.error("Error saving job:",r)}})}unsaveJob(e){return b(this,null,function*(){let t=this.authService.currentUser();if(t)try{let r=$t(this.firestore,"users",t.uid);yield Jr(r,{savedJobs:Rk(e)});let i=this.authService.userProfile();if(i){let o=(i.savedJobs||[]).filter(s=>s!==e);this.authService.userProfile.set(ne(j({},i),{savedJobs:o}))}}catch(r){console.error("Error unsaving job:",r)}})}toggleSaveJob(e){return b(this,null,function*(){this.isJobSaved(e)?yield this.unsaveJob(e):yield this.saveJob(e)})}getEmployerJobs(e){return b(this,null,function*(){try{console.log("Loading jobs for employer:",e);let t=Lo(this.firestore,"jobs"),r=Fk(t,Vk("postedBy","==",e)),i=yield Gs(r);console.log("Found",i.docs.length,"jobs for employer");let o=i.docs.map(s=>{let a=s.data();return ne(j({id:s.id},a),{postedDate:a.postedDate?.toDate?a.postedDate.toDate():a.postedDate,applicants:(a.applicants||[]).map(l=>ne(j({},l),{appliedAt:l.appliedAt?.toDate?l.appliedAt.toDate():l.appliedAt}))})});return console.log("Mapped employer jobs:",o),o}catch(t){return console.error("Error loading employer jobs:",t),[]}})}applyJob(e,t){return b(this,null,function*(){let r=this.authService.currentUser();if(!r)return!1;try{let i=$t(this.firestore,"jobs",e),o=yield Vo(i);if(!o.exists())return console.error("Job not found:",e),!1;if((o.data().applicants||[]).some(g=>g.userId===r.uid))return console.warn("User has already applied to this job"),!1;let l=yield this.authService.getUserProfile(r.uid),u=l?`${l.firstName||""} ${l.lastName||""}`.trim():"",h={userId:r.uid,email:r.email,name:u||r.email,appliedAt:rt.now(),status:"pending",responses:t||[]};return yield Jr(i,{applicants:XI(h)}),yield this.saveJob(e),console.log("Successfully applied to job:",e),!0}catch(i){return console.error("Error applying to job:",i),!1}})}updateApplicantStatus(e,t,r){return b(this,null,function*(){try{let i=$t(this.firestore,"jobs",e),o=yield Vo(i);if(!o.exists())return console.error("Job not found when updating applicant status:",e),!1;let l=(o.data().applicants||[]).map(u=>u.userId===t?ne(j({},u),{status:r}):u);return yield Jr(i,{applicants:l}),!0}catch(i){return console.error("Error updating applicant status:",i),!1}})}removeApplicant(e,t){return b(this,null,function*(){try{let r=$t(this.firestore,"jobs",e),i=yield Vo(r);if(!i.exists())return console.error("Job not found when removing applicant:",e),!1;let a=(i.data().applicants||[]).filter(l=>l.userId!==t);return yield Jr(r,{applicants:a}),console.log("Successfully removed applicant from job:",e),!0}catch(r){return console.error("Error removing applicant:",r),!1}})}getJobsAppliedByUser(e){return b(this,null,function*(){try{return(yield this.getAllJobs()).filter(r=>r.applicants?.some(i=>i.userId===e))}catch(t){return console.error("Error getting jobs applied by user:",t),[]}})}removeUserFromAllApplications(e){return b(this,null,function*(){try{let t=yield this.getJobsAppliedByUser(e);for(let r of t)r.id&&(yield this.removeApplicant(r.id,e))}catch(t){console.error("Error removing user from all applications:",t)}})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=X({token:n,factory:n.\u0275fac,providedIn:"root"})};var L9=()=>({exact:!0});function V9(n,e){n&1&&(f(0,"a",6),y(1,"Find Jobs"),m())}function j9(n,e){n&1&&(f(0,"a",14),y(1,"Saved Jobs"),m(),f(2,"a",15),y(3,"Applied Jobs"),m())}function U9(n,e){n&1&&(f(0,"a",16),y(1,"Post Job"),m(),f(2,"a",17),y(3,"My Jobs"),m())}function B9(n,e){n&1&&(f(0,"a",18),y(1,"Jobs Management"),m(),f(2,"a",19),y(3,"User Management"),m()),n&2&&z("routerLinkActiveOptions",gs(1,L9))}function $9(n,e){if(n&1){let t=re();G(0,j9,4,0),G(1,U9,4,0),G(2,B9,4,2),f(3,"div",9)(4,"a",10),te(5,"i",11),y(6," Profile "),m(),f(7,"span",12),y(8),m(),f(9,"button",13),V("click",function(){U(t);let i=S();return B(i.authService.logout())}),y(10,"Logout"),m()()}if(n&2){let t,r=S();J(r.authService.isApplicant()?0:-1),E(),J(r.authService.isEmployer()?1:-1),E(),J(r.authService.isAdmin()?2:-1),E(6),H((t=r.authService.userProfile())==null?null:t.role)}}function H9(n,e){n&1&&(f(0,"a",7),y(1,"Login"),m())}var tg=class n{title=ee("community-job-board");authService=P(qe);jobsService=P(Lt);ngOnInit(){return b(this,null,function*(){yield this.jobsService.initializeSampleData(),yield this.jobsService.loadJobs()})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-root"]],decls:12,vars:2,consts:[[1,"navbar","container-fluid","px-4"],[1,"d-flex","justify-content-between","align-items-center","w-100"],["routerLink","/",1,"text-decoration-none","navbar-logo","d-flex","align-items-center","gap-2"],["src","jobsearch.png","alt","JobBoard Logo","height","40"],[1,"mb-0"],[1,"d-flex","gap-3","align-items-center"],["routerLink","/job-list","routerLinkActive","active",1,"nav-link"],["routerLink","/login",1,"btn","btn-sm","login-btn"],[1,"p-3"],[1,"navbar-user-info","ms-2"],["routerLink","/profile","routerLinkActive","active",1,"nav-link"],[1,"fas","fa-user-circle","me-1"],[1,"badge","bg-secondary"],[1,"btn","btn-sm","login-btn",3,"click"],["routerLink","/saved-jobs","routerLinkActive","active",1,"nav-link"],["routerLink","/applied-jobs","routerLinkActive","active",1,"nav-link"],["routerLink","/create-job","routerLinkActive","active",1,"nav-link"],["routerLink","/employer-jobs","routerLinkActive","active",1,"nav-link"],["routerLink","/admin","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],["routerLink","/user-management","routerLinkActive","active",1,"nav-link"]],template:function(t,r){t&1&&(f(0,"nav",0)(1,"div",1)(2,"a",2),te(3,"img",3),f(4,"h1",4),y(5,"JobBoard"),m()(),f(6,"div",5),G(7,V9,2,0,"a",6),G(8,$9,11,4)(9,H9,2,0,"a",7),m()()(),f(10,"main",8),te(11,"router-outlet"),m()),t&2&&(E(7),J(r.authService.isApplicant()||!r.authService.isLoggedIn()?7:-1),E(),J(r.authService.isLoggedIn()?8:9))},dependencies:[gu,Ii,Or,cb,ut],styles:["nav.navbar[_ngcontent-%COMP%]{height:var(--navbar-height);background-color:var(--primary-color)!important;box-shadow:0 1px 3px #0000001a,0 1px 2px #0000000f;padding:0 2rem;position:sticky;top:0;z-index:1000}.navbar-logo[_ngcontent-%COMP%]{text-decoration:none}.navbar-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:8px}.navbar-logo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:800;color:#fff;letter-spacing:-.5px;margin:0}.nav-link[_ngcontent-%COMP%]{color:#ddd!important;font-size:.95rem;font-weight:500;padding:8px 16px!important;border-radius:6px;transition:all .2s ease}.nav-link[_ngcontent-%COMP%]:hover, .nav-link.active[_ngcontent-%COMP%]{color:#fff!important;background-color:#ffffff1a}.navbar-user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding-left:20px;margin-left:20px;border-left:1px solid rgba(255,255,255,.15);height:40px}.navbar-user-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:.9rem;font-weight:500}.login-btn[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.3);color:#fff;font-weight:600;padding:8px 24px;background:transparent}.login-btn[_ngcontent-%COMP%]:hover{background:#fff;color:var(--primary-color);border-color:#fff}@media (max-width: 991px){nav.navbar[_ngcontent-%COMP%]{height:auto;padding:1rem;min-height:var(--navbar-height)}nav.navbar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1.5rem}.d-flex.gap-3.align-items-center[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch!important;width:100%;gap:10px!important}.nav-link[_ngcontent-%COMP%]{text-align:center;width:100%;display:block;padding:12px!important;border:1px solid rgba(255,255,255,.1)}.navbar-user-info[_ngcontent-%COMP%]{border-left:none;padding-left:0;margin-left:0;margin-top:10px;padding-top:15px;border-top:1px solid rgba(255,255,255,.2);flex-direction:column;width:100%;height:auto;gap:15px}.navbar-user-info[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .navbar-user-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{width:100%;text-align:center}.login-btn[_ngcontent-%COMP%]{width:100%;text-align:center;display:block}}"]})};var Gk=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(le(Un),le(Kt))};static \u0275dir=Xe({type:n})}return n})(),ug=(()=>{class n extends Gk{static \u0275fac=(()=>{let t;return function(i){return(t||(t=pi(n)))(i||n)}})();static \u0275dir=Xe({type:n,features:[Bn]})}return n})(),hd=new Z(""),z9={provide:hd,useExisting:Xn(()=>fd),multi:!0},fd=(()=>{class n extends ug{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(i){return(t||(t=pi(n)))(i||n)}})();static \u0275dir=Xe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&V("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[ao([z9]),Bn]})}return n})(),q9={provide:hd,useExisting:Xn(()=>Xt),multi:!0};function W9(){let n=zn()?zn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var G9=new Z(""),Xt=(()=>{class n extends Gk{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!W9())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(le(Un),le(Kt),le(G9,8))};static \u0275dir=Xe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&V("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ao([q9]),Bn]})}return n})();var Jk=new Z(""),Kk=new Z("");function Qk(n){return n!=null}function Yk(n){return so(n)?Ke(n):n}function Zk(n){let e={};return n.forEach(t=>{e=t!=null?j(j({},e),t):e}),Object.keys(e).length===0?null:e}function Xk(n,e){return e.map(t=>t(n))}function J9(n){return!n.validate}function eO(n){return n.map(e=>J9(e)?e:t=>e.validate(t))}function K9(n){if(!n)return null;let e=n.filter(Qk);return e.length==0?null:function(t){return Zk(Xk(t,e))}}function iC(n){return n!=null?K9(eO(n)):null}function Q9(n){if(!n)return null;let e=n.filter(Qk);return e.length==0?null:function(t){let r=Xk(t,e).map(Yk);return vy(r).pipe(xe(Zk))}}function oC(n){return n!=null?Q9(eO(n)):null}function jk(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Y9(n){return n._rawValidators}function Z9(n){return n._rawAsyncValidators}function nC(n){return n?Array.isArray(n)?n:[n]:[]}function rg(n,e){return Array.isArray(n)?n.includes(e):n===e}function Uk(n,e){let t=nC(e);return nC(n).forEach(i=>{rg(t,i)||t.push(i)}),t}function Bk(n,e){return nC(e).filter(t=>!rg(n,t))}var ig=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=iC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=oC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},kc=class extends ig{name;get formDirective(){return null}get path(){return null}},dd=class extends ig{_parent=null;name=null;valueAccessor=null},og=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},X9={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Qhe=ne(j({},X9),{"[class.ng-submitted]":"isSubmitted"}),_n=(()=>{class n extends og{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(le(dd,2))};static \u0275dir=Xe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ct("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Bn]})}return n})(),dg=(()=>{class n extends og{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(le(kc,10))};static \u0275dir=Xe({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ct("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Bn]})}return n})();var sd="VALID",ng="INVALID",Pc="PENDING",ad="DISABLED",jo=class{},sg=class extends jo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},ld=class extends jo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},ud=class extends jo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Nc=class extends jo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},rC=class extends jo{source;constructor(e){super(),this.source=e}},ag=class extends jo{source;constructor(e){super(),this.source=e}};function tO(n){return(hg(n)?n.validators:n)||null}function ez(n){return Array.isArray(n)?iC(n):n||null}function nO(n,e){return(hg(e)?e.asyncValidators:n)||null}function tz(n){return Array.isArray(n)?oC(n):n||null}function hg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function nz(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[t])throw new Q(1001,"")}function rz(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new Q(1002,"")})}var cg=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Pt(this.statusReactive)}set status(e){Pt(()=>this.statusReactive.set(e))}_status=gn(()=>this.statusReactive());statusReactive=ee(void 0);get valid(){return this.status===sd}get invalid(){return this.status===ng}get pending(){return this.status==Pc}get disabled(){return this.status===ad}get enabled(){return this.status!==ad}errors;get pristine(){return Pt(this.pristineReactive)}set pristine(e){Pt(()=>this.pristineReactive.set(e))}_pristine=gn(()=>this.pristineReactive());pristineReactive=ee(!0);get dirty(){return!this.pristine}get touched(){return Pt(this.touchedReactive)}set touched(e){Pt(()=>this.touchedReactive.set(e))}_touched=gn(()=>this.touchedReactive());touchedReactive=ee(!1);get untouched(){return!this.touched}_events=new ft;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Uk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Uk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Bk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Bk(e,this._rawAsyncValidators))}hasValidator(e){return rg(this._rawValidators,e)}hasAsyncValidator(e){return rg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ne(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ud(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new ud(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ne(j({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ld(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ld(!0,r))}markAsPending(e={}){this.status=Pc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Nc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ne(j({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=ad,this.errors=null,this._forEachChild(i=>{i.disable(ne(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sg(this.value,r)),this._events.next(new Nc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ne(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=sd,this._forEachChild(r=>{r.enable(ne(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ne(j({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sd||this.status===Pc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new sg(this.value,t)),this._events.next(new Nc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ne(j({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ad:sd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Pc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=Yk(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Nc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new vt,this.statusChanges=new vt}_calculateStatus(){return this._allControlsDisabled()?ad:this.errors?ng:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pc)?Pc:this._anyControlsHaveStatus(ng)?ng:sd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new ld(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new ud(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){hg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=ez(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=tz(this._rawAsyncValidators)}},lg=class extends cg{constructor(e,t,r){super(tO(t),nO(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){rz(this,!0,e),Object.keys(e).forEach(r=>{nz(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new ag(this))}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var sC=new Z("",{providedIn:"root",factory:()=>aC}),aC="always";function iz(n,e){return[...e.path,n]}function rO(n,e,t=aC){iO(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),sz(n,e),cz(n,e),az(n,e),oz(n,e)}function $k(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function oz(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function iO(n,e){let t=Y9(n);e.validator!==null?n.setValidators(jk(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=Z9(n);e.asyncValidator!==null?n.setAsyncValidators(jk(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();$k(e._rawValidators,i),$k(e._rawAsyncValidators,i)}function sz(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&oO(n,e)})}function az(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&oO(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function oO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function cz(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function lz(n,e){n==null,iO(n,e)}function uz(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function dz(n){return Object.getPrototypeOf(n.constructor)===ug}function hz(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function fz(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===Xt?t=o:dz(o)?r=o:i=o}),i||r||t||null}var pz={provide:kc,useExisting:Xn(()=>pd)},cd=Promise.resolve(),pd=(()=>{class n extends kc{callSetDisabledState;get submitted(){return Pt(this.submittedReactive)}_submitted=gn(()=>this.submittedReactive());submittedReactive=ee(!1);_directives=new Set;form;ngSubmit=new vt;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new lg({},iC(t),oC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){cd.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),rO(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){cd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){cd.then(()=>{let r=this._findContainer(t.path),i=new lg({});lz(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){cd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){cd.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),hz(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new rC(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(le(Jk,10),le(Kk,10),le(sC,8))};static \u0275dir=Xe({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&V("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ao([pz]),Bn]})}return n})();function Hk(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function zk(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var mz=class extends cg{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(tO(t),nO(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(zk(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new ag(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Hk(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Hk(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){zk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var gz={provide:dd,useExisting:Xn(()=>dn)},qk=Promise.resolve(),dn=(()=>{class n extends dd{_changeDetectorRef;callSetDisabledState;control=new mz;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new vt;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=fz(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),uz(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){rO(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){qk.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&ys(r);qk.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?iz(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(le(kc,9),le(Jk,10),le(Kk,10),le(hd,10),le(_i,8),le(sC,8))};static \u0275dir=Xe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ao([gz]),Bn,fi]})}return n})();var fg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Xe({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var yz={provide:hd,useExisting:Xn(()=>Kr),multi:!0};function sO(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function vz(n){return n.split(":")[0]}var Kr=(()=>{class n extends ug{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=P(yi).injector;destroyRef=P(jn);cdr=P(_i);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,Fl({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let r=this._getOptionId(t),i=sO(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=vz(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=pi(n)))(i||n)}})();static \u0275dir=Xe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&V("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ao([yz]),Bn]})}return n})(),Qr=(()=>{class n{_element;_renderer;_select;id;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(sO(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(r){return new(r||n)(le(Kt),le(Un),le(Kr,9))};static \u0275dir=Xe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})(),_z={provide:hd,useExisting:Xn(()=>aO),multi:!0};function Wk(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function bz(n){return n.split(":")[0]}var aO=(()=>{class n extends ug{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],u=this._getOptionValue(l.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=bz(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=pi(n)))(i||n)}})();static \u0275dir=Xe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&V("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[ao([_z]),Bn]})}return n})(),Yr=(()=>{class n{_element;_renderer;_select;id;_value;constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(Wk(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Wk(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||n)(le(Kt),le(Un),le(aO,9))};static \u0275dir=Xe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return n})();var Ez=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Mr({type:n});static \u0275inj=er({})}return n})();var bn=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sC,useValue:t.callSetDisabledState??aC}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Mr({type:n});static \u0275inj=er({imports:[Ez]})}return n})();var wz=(n,e)=>e.value,Iz=(n,e)=>e.id;function Cz(n,e){if(n&1&&(f(0,"option",15),y(1),m()),n&2){let t=e.$implicit;z("value",t.value),E(),H(t.label)}}function Dz(n,e){n&1&&(f(0,"div",21)(1,"div",23)(2,"span",24),y(3,"Loading..."),m()(),f(4,"p",25),y(5,"Finding the best jobs for you..."),m()())}function Tz(n,e){if(n&1){let t=re();f(0,"button",38),V("click",function(i){U(t);let o=S().$implicit,s=S(2);return B(s.toggleSaveJob(o.id,i))}),y(1),m()}if(n&2){let t=S().$implicit,r=S(2);ct("saved",r.isJobSaved(t.id)),z("title",r.isJobSaved(t.id)?"Remove from saved":"Save job"),E(),De(" ",r.isJobSaved(t.id)?"\u2605":"\u2606"," ")}}function Sz(n,e){if(n&1){let t=re();f(0,"div",32),V("click",function(){let i=U(t).$implicit,o=S(2);return B(o.viewJob(i.id))}),f(1,"div",33)(2,"div")(3,"h2",34),y(4),m(),f(5,"p",35),y(6),m(),f(7,"p",36),y(8),m()(),G(9,Tz,2,4,"button",37),m()()}if(n&2){let t=e.$implicit,r=S(2);ct("active",(r.jobDetails==null?null:r.jobDetails.id)===t.id),E(4),H(t.title),E(2),an("",t.location," | ",t.type),E(2),H(t.salary),E(),J(r.canSaveJobs()?9:-1)}}function Az(n,e){if(n&1){let t=re();f(0,"button",47),V("click",function(i){U(t);let o=S(3);return B(o.toggleSaveJob(o.jobDetails.id,i))}),y(1),m()}if(n&2){let t=S(3);ct("btn-outline-warning",t.isJobSaved(t.jobDetails.id))("btn-outline-secondary",!t.isJobSaved(t.jobDetails.id)),E(),De(" ",t.isJobSaved(t.jobDetails.id)?"Unsave Job":"Save Job"," ")}}function xz(n,e){if(n&1){let t=re();f(0,"div",30)(1,"h2",39),y(2),m(),f(3,"h3",40),y(4),m(),f(5,"div",41)(6,"span",42),y(7),m(),f(8,"span",42),y(9),m(),f(10,"span",43),y(11),m()(),te(12,"div",44),f(13,"div",45)(14,"button",17),V("click",function(i){U(t);let o=S(2);return B(o.applyToJob(o.jobDetails.id,i))}),y(15,"Apply"),m(),G(16,Az,2,5,"button",46),m()()}if(n&2){let t=S(2);E(2),H(t.jobDetails.title),E(2),H(t.jobDetails.company),E(3),H(t.jobDetails.location),E(2),H(t.jobDetails.type),E(2),H(t.jobDetails.salary),E(),z("innerHTML",t.formatDescription(t.jobDetails.description),ps),E(4),J(t.canSaveJobs()?16:-1)}}function Mz(n,e){n&1&&(f(0,"div",31),te(1,"i",48),f(2,"p",49),y(3,"Select a job to view details"),m()())}function Rz(n,e){if(n&1&&(f(0,"div",26)(1,"div",27),He(2,Sz,10,7,"div",28,Iz),m()(),f(4,"div",29),G(5,xz,17,7,"div",30)(6,Mz,4,0,"div",31),m()),n&2){let t=S();E(2),ze(t.jobs),E(3),J(t.jobDetails?5:6)}}function Pz(n,e){if(n&1){let t=re();f(0,"div",55)(1,"label",59),y(2),m(),f(3,"textarea",60),ye("ngModelChange",function(i){let o=U(t).$implicit;return Ee(o.answer,i)||(o.answer=i),B(i)}),m()()}if(n&2){let t=e.$implicit,r=e.$index,i=S(3);E(2),H(t.question),E(),ge("ngModel",t.answer),z("name","response-"+r)("disabled",i.isSubmitting)}}function Nz(n,e){if(n&1){let t=re();f(0,"h2"),y(1),m(),f(2,"p",52),y(3,"Please answer the following questions to complete your application."),m(),f(4,"div",53),te(5,"i",54),f(6,"strong"),y(7,"Important:"),m(),y(8," Please do not include sensitive personal information such as banking details, government ID numbers, social security numbers, or passwords in your responses. "),m(),f(9,"form"),He(10,Pz,4,4,"div",55,vi),m(),f(12,"div",56)(13,"button",57),V("click",function(){U(t);let i=S(2);return B(i.closeApplicationModal())}),y(14," Cancel "),m(),f(15,"button",58),V("click",function(){U(t);let i=S(2);return B(i.submitApplication())}),y(16),m()()}if(n&2){let t=S(2);E(),De("Apply for ",t.jobDetails.title),E(9),ze(t.applicationResponses),E(3),z("disabled",t.isSubmitting),E(2),z("disabled",t.isSubmitting),E(),De(" ",t.isSubmitting?"Submitting...":"Submit Application"," ")}}function kz(n,e){if(n&1){let t=re();f(0,"div",51),te(1,"i",61),f(2,"h2"),y(3,"Application Submitted!"),m(),f(4,"p",52),y(5," Your application for "),f(6,"strong"),y(7),m(),y(8," has been successfully submitted. The employer will review your application and get back to you soon. "),m(),f(9,"button",17),V("click",function(){U(t);let i=S(2);return B(i.closeApplicationModal())}),y(10,"Done"),m()()}if(n&2){let t=S(2);E(7),H(t.jobDetails.title)}}function Oz(n,e){if(n&1&&(f(0,"div",22)(1,"div",50),G(2,Nz,17,4)(3,kz,11,1,"div",51),m()()),n&2){let t=S();E(2),J(t.showConfirmation?3:2)}}function Fz(n,e){if(n&1){let t=re();f(0,"div",22)(1,"div",50)(2,"div",62)(3,"h5",63),te(4,"i",64),y(5,"Notice"),m(),f(6,"button",65),V("click",function(){U(t);let i=S();return B(i.closeAlertModal())}),m()(),f(7,"div",66)(8,"p"),y(9),m()(),f(10,"div",67)(11,"button",17),V("click",function(){U(t);let i=S();return B(i.closeAlertModal())}),y(12,"OK"),m()()()()}if(n&2){let t=S();E(9),H(t.alertMessage)}}var pg=class n{jobService=P(Lt);router=P(Ge);route=P(vn);authService=P(qe);jobs=[];jobDetails=null;loading=!1;jobTitleSearch="";jobLocationSearch="";jobTypeSearch="";filters={title:"",company:"",location:"",type:""};showApplicationModal=!1;showConfirmation=!1;showAlertModal=!1;alertMessage="";isSubmitting=!1;applicationResponses=[];jobTypes=[{value:"",label:"All Job Types"},{value:"Full-Time",label:"Full-Time"},{value:"Part-Time",label:"Part-Time"},{value:"Hybrid",label:"Hybrid"},{value:"Hybrid(1 day onsite / WFH rest of the week)",label:"Hybrid (1 Day Onsite)"},{value:"Hybrid(2 days onsite / WFH rest of the week)",label:"Hybrid (2 Days Onsite)"},{value:"Hybrid(3 days onsite / WFH rest of the week)",label:"Hybrid (3 Days Onsite)"},{value:"Full-Time(Remote)",label:"Full-Time-Remote"},{value:"Part-Time(Remote)",label:"Part-Time-Remote"},{value:"Contract",label:"Contract"},{value:"Remote",label:"Remote"}];ngOnInit(){return b(this,null,function*(){this.loading=!0;try{yield this.jobService.loadJobs(),this.jobs=this.jobService.list()}finally{this.loading=!1}let e=this.route.snapshot.queryParamMap.get("applyJobId");e&&this.jobService.getById(e)&&(this.viewJob(e),this.authService.isLoggedIn()&&this.autoOpenApplication(e))})}autoOpenApplication(e){let t=this.jobService.getById(e);t&&(this.applicationResponses=(t.applicationQuestions||[]).map(r=>({question:r.question,answer:""})),this.showApplicationModal=!0,this.showConfirmation=!1)}searchJob(){this.filters={title:this.jobTitleSearch,company:"",location:this.jobLocationSearch,type:this.jobTypeSearch},this.jobs=this.jobService.list(this.filters)}resetFilters(){this.jobTitleSearch="",this.jobLocationSearch="",this.jobTypeSearch="",this.filters={title:"",company:"",location:"",type:""},this.jobs=this.jobService.list()}viewJob(e){e&&(this.jobDetails=this.jobService.getById(e)||null)}isJobSaved(e){return e?this.jobService.isJobSaved(e):!1}toggleSaveJob(e,t){return b(this,null,function*(){if(t.stopPropagation(),!!e){if(!this.authService.isLoggedIn()){this.router.navigate(["/login"],{queryParams:{redirect:"savedJobs"}});return}yield this.jobService.toggleSaveJob(e)}})}canSaveJobs(){return this.authService.isLoggedIn()&&this.authService.isApplicant()}applyToJob(e,t){return b(this,null,function*(){if(t.stopPropagation(),!e)return;if(!this.authService.isLoggedIn()){this.router.navigate(["/login"],{queryParams:{applyJobId:e}});return}let r=this.jobService.getById(e);r&&(this.applicationResponses=(r.applicationQuestions||[]).map(i=>({question:i.question,answer:""})),this.showApplicationModal=!0,this.showConfirmation=!1)})}closeApplicationModal(){this.showApplicationModal=!1,this.showConfirmation=!1,this.applicationResponses=[]}showAlert(e){this.alertMessage=e,this.showAlertModal=!0}closeAlertModal(){this.showAlertModal=!1,this.alertMessage=""}submitApplication(){return b(this,null,function*(){if(!this.applicationResponses.every(i=>i.answer.trim())){this.showAlert("Please answer all required questions.");return}let t=this.jobDetails?.id;if(!t){this.showAlert("Unable to submit application. Please try again.");return}this.isSubmitting=!0;let r=yield this.jobService.applyJob(t,this.applicationResponses);this.isSubmitting=!1,r?(this.showConfirmation=!0,yield this.jobService.loadJobs(),this.jobs=this.jobService.list(this.filters),this.jobDetails?.id===t&&this.viewJob(t)):(this.showAlert("Failed to apply. You may have already applied."),this.closeApplicationModal())})}formatDescription(e){if(!e)return"";let t=e.split(`
`),r="",i=!1;for(let o of t)if(o=o.trim(),o.startsWith("-")||o.startsWith("*")){let s=o.slice(1).trim();i||(r+="<ul>",i=!0),r+=`<li>${s}</li>`}else i&&(r+="</ul>",i=!1),o&&(r+=`<p>${o}</p>`);return i&&(r+="</ul>"),r}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-job-list"]],decls:32,vars:6,consts:[[1,"fw-bold","my-2","text-center"],[1,"container-fluid","mb-4"],[1,"row","justify-content-center"],[1,"col-lg-10"],[1,"row","g-2","search-bar-wrapper"],[1,"col-md-4"],[1,"input-icon-container"],[1,"fas","fa-search","input-icon"],["type","text","placeholder","Search for Title",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-location-dot","input-icon"],["type","text","placeholder","Location (e.g, Manila)",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-2"],[1,"fas","fa-filter","input-icon"],[1,"fas","fa-chevron-down","dropdown-arrow"],[1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],[1,"col-md-2","d-flex","gap-2","justify-content-end"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click"],[1,"container-fluid"],[1,"row","mx-5","my-4"],[1,"loading-container","text-center","py-5","w-100"],[1,"modal-overlay"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3","text-muted"],[1,"col-4"],[1,"job-list"],[1,"job-item",3,"active"],[1,"col"],[1,"job-details-card"],[1,"empty-details","text-center","py-5"],[1,"job-item",3,"click"],[1,"d-flex","justify-content-between","align-items-start"],[1,"fs-5","mb-1"],[1,"text-muted","mb-1"],[1,"text-success","fw-bold","mb-0"],[1,"btn","btn-sm","save-btn",3,"saved","title"],[1,"btn","btn-sm","save-btn",3,"click","title"],[1,"fs-2","fw-bold"],[1,"fs-5","text-muted"],[1,"job-meta","my-3"],[1,"badge","badge-meta","me-2"],[1,"badge","bg-success"],[1,"mt-4","description-text",3,"innerHTML"],[1,"d-flex","gap-2","mt-4"],[1,"btn",3,"btn-outline-warning","btn-outline-secondary"],[1,"btn",3,"click"],[1,"fas","fa-search","empty-details-icon"],[1,"text-muted"],[1,"modal-content"],[1,"confirmation-content","text-center","py-4"],[1,"text-muted","mb-4"],[1,"alert","alert-warning","mb-4"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"form-group","mb-3"],[1,"modal-footer","mt-4"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"btn","btn-primary",3,"click","disabled"],[1,"form-label","fw-bold"],["rows","4","placeholder","Enter your answer here...",1,"form-control",3,"ngModelChange","ngModel","name","disabled"],[1,"fas","fa-check-circle","confirmation-icon","text-success","mb-3"],[1,"modal-header","d-flex","justify-content-between","align-items-center"],[1,"modal-title"],[1,"fas","fa-info-circle","text-primary","me-2"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"modal-footer"]],template:function(t,r){t&1&&(f(0,"h1",0),y(1,"Find Jobs"),m(),f(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),te(8,"i",7),f(9,"input",8),ye("ngModelChange",function(o){return Ee(r.jobTitleSearch,o)||(r.jobTitleSearch=o),o}),m()()(),f(10,"div",5)(11,"div",6),te(12,"i",9),f(13,"input",10),ye("ngModelChange",function(o){return Ee(r.jobLocationSearch,o)||(r.jobLocationSearch=o),o}),m()()(),f(14,"div",11)(15,"div",6),te(16,"i",12)(17,"i",13),f(18,"select",14),ye("ngModelChange",function(o){return Ee(r.jobTypeSearch,o)||(r.jobTypeSearch=o),o}),He(19,Cz,2,2,"option",15,wz),m()()(),f(21,"div",16)(22,"button",17),V("click",function(){return r.searchJob()}),y(23,"Search"),m(),f(24,"button",18),V("click",function(){return r.resetFilters()}),y(25,"Reset"),m()()()()()(),f(26,"div",19)(27,"div",20),G(28,Dz,6,0,"div",21)(29,Rz,7,1),m()(),G(30,Oz,4,1,"div",22),G(31,Fz,13,1,"div",22)),t&2&&(E(9),ge("ngModel",r.jobTitleSearch),E(4),ge("ngModel",r.jobLocationSearch),E(5),ge("ngModel",r.jobTypeSearch),E(),ze(r.jobTypes),E(9),J(r.loading?28:29),E(2),J(r.showApplicationModal&&r.jobDetails?30:-1),E(),J(r.showAlertModal?31:-1))},dependencies:[ut,bn,fg,Qr,Yr,Xt,Kr,_n,dg,dn,pd],styles:[".search-bar-wrapper[_ngcontent-%COMP%]{background-color:transparent;border-radius:8px;box-shadow:none;overflow:visible}.input-icon-container[_ngcontent-%COMP%]{position:relative;width:100%}.input-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:14px;transform:translateY(-50%);color:#64748b;font-size:1.1rem;z-index:2;pointer-events:none}h1[_ngcontent-%COMP%]{font-family:Poppins}.dropdown-arrow[_ngcontent-%COMP%]{position:absolute;top:50%;right:14px;transform:translateY(-50%);color:#64748b;font-size:.8rem;z-index:2;pointer-events:none}input[type=text][_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%], select.form-control[_ngcontent-%COMP%]{padding:10px 45px;border:none;border-radius:8px;background-color:#fff;box-shadow:0 1px 3px #0000000d;font-size:1rem;transition:background-color .3s,box-shadow .3s;font-family:Poppins,sans-serif;appearance:none;-webkit-appearance:none;-moz-appearance:none}input[type=text][_ngcontent-%COMP%]:focus, .form-control[_ngcontent-%COMP%]:focus{outline:none;background-color:#fff;border:1px solid #3b82f6;box-shadow:0 1px 3px #0000001a}.empty-details-icon[_ngcontent-%COMP%]{font-size:5rem;color:#818181;margin-bottom:20px;display:block;margin-left:auto;margin-right:auto;width:fit-content;transform:translate(5px)}p[_ngcontent-%COMP%]{font-family:Poppins}.job-list[_ngcontent-%COMP%]{max-height:75vh;overflow-y:auto}.job-item[_ngcontent-%COMP%], .job-details-card[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.job-item[_ngcontent-%COMP%]{padding:16px;border:1px solid #e0e0e0;border-radius:8px;margin-bottom:12px;cursor:pointer;transition:all .2s;background:#fff}.job-item[_ngcontent-%COMP%]:hover{border-color:#d6e5f7;background-color:#d6e5f7;transform:none;box-shadow:0 1px 3px #0000001a}.job-item.active[_ngcontent-%COMP%]{border-color:#d6e5f7;background-color:#d6e5f7}.btn[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:600;border-radius:8px;border:none;cursor:pointer;display:inline-flex;align-items:center;justify-content:center;transition:all .2s;padding:10px 24px;font-size:.95rem;line-height:1.5;min-width:100px}.btn-sm[_ngcontent-%COMP%]{padding:6px 14px;font-size:.85rem;min-width:auto}.btn-primary[_ngcontent-%COMP%]{background-color:#18181b;border:1px solid #18181b;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#55555a;border-color:#55555a}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#a1a1aa;border-color:#a1a1aa;cursor:not-allowed}.btn-secondary[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #cf2e3f;color:#cf2e3f}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#cf2e3f;color:#fff}.btn-danger[_ngcontent-%COMP%]{background-color:#cf2e3f;border:1px solid #cf2e3f;color:#fff}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#b32332;border-color:#b32332}.save-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;padding:0 8px;height:auto;color:#ffc72c;min-width:auto}.save-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1);background:none}.save-btn.saved[_ngcontent-%COMP%]{color:#ffc72c}.job-details-card[_ngcontent-%COMP%]{background:#fff;padding:30px;border-radius:12px;border:1px solid #e2e8f0;box-shadow:0 5px 10px #0000000d;position:sticky;top:20px}.job-details-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#27272a;margin-bottom:.5rem}.job-details-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#475569;font-weight:500}.empty-details[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:60px 20px}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:16px;padding:32px;max-width:600px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 10px 40px #0003;font-family:Poppins,sans-serif}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#18181b;font-weight:700;margin-bottom:12px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#475569;font-size:.95rem}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{border:1px solid #cbd5e1;border-radius:8px;font-family:Poppins,sans-serif;transition:border-color .2s,box-shadow .2s;color:#18181b}.form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;padding-top:20px;border-top:1px solid #e0e0e0}.confirmation-content[_ngcontent-%COMP%]{padding:40px 20px}.confirmation-icon[_ngcontent-%COMP%]{font-size:5rem;display:block}.question-text[_ngcontent-%COMP%]{color:var(--primary-color)!important;font-size:1rem}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;width:100%;background-color:#fff;border-radius:12px;border:1px solid #e0e0e0}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border:.25em solid currentColor;border-right-color:transparent;border-radius:50%;animation:_ngcontent-%COMP%_spinner-border .75s linear infinite;color:#6c757d!important;margin-bottom:1rem}@keyframes _ngcontent-%COMP%_spinner-border{to{transform:rotate(360deg)}}.loading-text[_ngcontent-%COMP%]{color:#64748b;font-size:1.1rem;font-weight:500;margin:0}@media (min-width: 992px){.search-bar-wrapper[_ngcontent-%COMP%]{align-items:center}}@media (max-width: 991px){.container-fluid[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px}.search-bar-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin:0}.search-bar-wrapper[_ngcontent-%COMP%]   .col-md-4[_ngcontent-%COMP%], .search-bar-wrapper[_ngcontent-%COMP%]   .col-md-2[_ngcontent-%COMP%]{width:100%!important;max-width:100%!important;padding:0;margin:0}.input-icon-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .input-icon-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:50px;font-size:16px}.search-bar-wrapper[_ngcontent-%COMP%]   .col-md-2.d-flex[_ngcontent-%COMP%]{display:flex;width:100%!important;justify-content:space-between;gap:10px!important;margin-top:15px!important}.search-bar-wrapper[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;width:100%;padding:12px 0}.row.mx-5.my-4[_ngcontent-%COMP%]{margin-left:0!important;margin-right:0!important;flex-direction:column}.col-4[_ngcontent-%COMP%], .col[_ngcontent-%COMP%]{width:100%!important;padding:0}.job-list[_ngcontent-%COMP%]{max-height:400px;margin-bottom:20px;border-bottom:1px solid #e0e0e0;padding-bottom:20px}.job-details-card[_ngcontent-%COMP%]{padding:15px 0;border:none;box-shadow:none;background:transparent}.description-text[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:1.2em;margin:.5em 0}.description-text[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.3em}.description-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.5em}}"]})};var Lz=(n,e)=>({"fa-chevron-down":n,"fa-chevron-up":e}),cO=(n,e)=>e.value;function Vz(n,e){if(n&1&&(f(0,"div",2),y(1),m()),n&2){let t=S();E(),H(t.error)}}function jz(n,e){if(n&1&&(f(0,"option",31),y(1),m()),n&2){let t=e.$implicit;z("value",t.value),E(),H(t.label)}}function Uz(n,e){if(n&1&&(f(0,"option",31),y(1),m()),n&2){let t=e.$implicit;z("value",t.value),E(),H(t.label)}}function Bz(n,e){if(n&1){let t=re();f(0,"button",56),V("click",function(){U(t);let i=S().index,o=S();return B(o.deleteDropdownQuestion(i))}),y(1,"\xD7"),m()}}function $z(n,e){if(n&1){let t=re();f(0,"div",51)(1,"div",52)(2,"input",53),ye("ngModelChange",function(i){let o=U(t).$implicit;return Ee(o.selected,i)||(o.selected=i),B(i)}),m(),f(3,"label",54),y(4),m()(),$n(5,Bz,2,0,"button",55),m()}if(n&2){let t=e.$implicit,r=e.index;E(2),z("id",Tf("q",r)),ge("ngModel",t.selected),E(),z("for",Tf("q",r)),E(),H(t.text),E(),z("ngIf",t.isCustom)}}function Hz(n,e){if(n&1){let t=re();f(0,"div",57)(1,"span",58),y(2),m(),f(3,"button",59),V("click",function(){let i=U(t).index,o=S();return B(o.removeQuestion(i))}),y(4,"\xD7"),m()()}if(n&2){let t=e.$implicit;E(2),H(t.question)}}function zz(n,e){if(n&1&&(f(0,"li"),y(1),m()),n&2){let t=e.$implicit;E(),H(t.question)}}function qz(n,e){if(n&1&&(f(0,"div",62)(1,"span",63),y(2,"Questions:"),m(),f(3,"ul"),$n(4,zz,2,1,"li",70),m()()),n&2){let t=S(2);E(4),z("ngForOf",t.applicationQuestions)}}function Wz(n,e){if(n&1){let t=re();f(0,"div",50)(1,"div",60)(2,"h2"),y(3,"Confirm Job Posting"),m(),f(4,"div",61)(5,"div",62)(6,"span",63),y(7,"Job Title:"),m(),f(8,"span",64),y(9),m()(),f(10,"div",62)(11,"span",63),y(12,"Company:"),m(),f(13,"span",64),y(14),m()(),f(15,"div",62)(16,"span",63),y(17,"Location:"),m(),f(18,"span",64),y(19),m()(),f(20,"div",62)(21,"span",63),y(22,"Type:"),m(),f(23,"span",64),y(24),m()(),f(25,"div",62)(26,"span",63),y(27,"Salary:"),m(),f(28,"span",64),y(29),m()(),f(30,"div",62)(31,"span",63),y(32,"Description:"),m(),te(33,"span",65),m(),$n(34,qz,5,1,"div",66),m(),f(35,"div",67)(36,"button",68),V("click",function(){U(t);let i=S();return B(i.confirmCreateJob())}),y(37),m(),f(38,"button",69),V("click",function(){U(t);let i=S();return B(i.closeConfirmModal())}),y(39,"Cancel"),m()()()()}if(n&2){let t=S();E(9),H(t.title),E(5),H(t.company),E(5),H(t.location),E(5),H(t.type),E(5),H(t.salary),E(4),z("innerHTML",t.formatDescription(t.description),ps),E(),z("ngIf",t.applicationQuestions.length>0),E(2),z("disabled",t.isSubmitting),E(),De(" ",t.isSubmitting?"Creating...":"Confirm"," "),E(),z("disabled",t.isSubmitting)}}var mg=class n{jobService=P(Lt);router=P(Ge);authService=P(qe);title="";company="";location="";type="";description="";salaryMin="";salaryMax="";salary="";error="";showConfirmModal=!1;isSubmitting=!1;salaryOptions=[{value:1e4,label:"\u20B110,000"},{value:2e4,label:"\u20B120,000"},{value:3e4,label:"\u20B130,000"},{value:4e4,label:"\u20B140,000"},{value:5e4,label:"\u20B150,000"},{value:75e3,label:"\u20B175,000"},{value:1e5,label:"\u20B1100,000"},{value:15e4,label:"\u20B1150,000"},{value:2e5,label:"\u20B1200,000"},{value:25e4,label:"\u20B1250,000"},{value:3e5,label:"\u20B1300,000+"}];applicationQuestions=[];dropdownQuestions=[{text:"Why do you want to work here?",selected:!1},{text:"Describe your strengths and weaknesses.",selected:!1},{text:"What are your salary expectations?",selected:!1},{text:"Where do you see yourself in 5 years?",selected:!1},{text:"What motivates you?",selected:!1}];newDropdownQuestion="";showDropdown=!1;ngOnInit(){let e=this.authService.userProfile();e?.role==="admin"?this.company="JobBoard":e?.company&&(this.company=e.company)}isAdmin(){return this.authService.userProfile()?.role==="admin"}toggleDropdown(){this.showDropdown=!this.showDropdown}toggleQuestionSelection(e){e.selected=!e.selected}addCustomDropdownQuestion(){let e=this.newDropdownQuestion.trim();e&&(this.dropdownQuestions.some(t=>t.text.toLowerCase()===e.toLowerCase())||this.dropdownQuestions.push({text:e,selected:!0,isCustom:!0}),this.newDropdownQuestion="")}deleteDropdownQuestion(e){this.dropdownQuestions[e]?.isCustom&&this.dropdownQuestions.splice(e,1)}addSelectedQuestionsToForm(){this.dropdownQuestions.forEach(e=>{e.selected&&(this.applicationQuestions.some(r=>r.question===e.text)||this.applicationQuestions.push({question:e.text}),e.selected=!1)}),this.showDropdown=!1}removeQuestion(e){this.applicationQuestions.splice(e,1)}openConfirmModal(){if(this.error="",!this.title||!this.location||!this.type||!this.description||!this.salaryMin||!this.salaryMax){this.error="Please fill in all fields";return}let e=parseInt(this.salaryMin),t=parseInt(this.salaryMax);if(e>=t){this.error="Minimum salary must be less than maximum salary";return}this.salary=`\u20B1${e.toLocaleString()} - \u20B1${t.toLocaleString()}`;let r=this.authService.userProfile();r?.role==="admin"?this.company="jobboard":r?.company&&(this.company=r.company),this.showConfirmModal=!0}closeConfirmModal(){this.showConfirmModal=!1}confirmCreateJob(){return b(this,null,function*(){this.isSubmitting=!0,this.error="";let e=this.authService.currentUser()?.uid;if(!e){this.error="User not authenticated",this.isSubmitting=!1;return}let t=this.applicationQuestions.map(i=>i.question.trim()).filter(i=>i.length>0).map(i=>({question:i,answer:""})),r={title:this.title,company:this.company,location:this.location,type:this.type,description:this.description,salary:this.salary,postedBy:e,applicationQuestions:t};try{(yield this.jobService.create(r))?this.router.navigate(["/employer-jobs"]):this.error="Failed to create job"}catch(i){this.error="Error creating job: "+(i instanceof Error?i.message:String(i))}finally{this.isSubmitting=!1}})}formatBullets(){let e=document.querySelector(".textarea-mirror");e&&(e.innerHTML=this.description.split(`
`).map(t=>(t=t.trim(),t.startsWith("*")||t.startsWith("-")?`\u2022 ${t.slice(1).trim()}`:t)).join("<br>"))}formatDescription(e){if(!e)return"";let t=e.split(`
`),r="",i=!1;for(let o of t)if(o=o.trim(),o.startsWith("-")||o.startsWith("*")){let s=o.slice(1).trim();i||(r+="<ul>",i=!0),r+=`<li>${s}</li>`}else i&&(r+="</ul>",i=!1),o&&(r+=`<p>${o}</p>`);return i&&(r+="</ul>"),r}formatBulletsLive(){let t=this.description.split(`
`).map(r=>(r=r.trim(),r.startsWith("- ")||r.startsWith("* ")?`\u2022 ${r.slice(2)}`:r));this.description=t.join(`
`)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-create-job"]],decls:93,vars:19,consts:[[1,"fw-bold","my-1"],[1,"container-fluid"],[1,"alert","alert-danger"],[1,"row"],["for","title"],[1,"input-icon-container"],[1,"fas","fa-briefcase","input-icon"],["type","text","name","job-title","id","title","placeholder","Enter job title",1,"form-control",3,"ngModelChange","ngModel"],["for","company"],[1,"fas","fa-building","input-icon"],["type","text","name","company","id","company","placeholder","Enter company name",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","location"],[1,"fas","fa-location-dot","input-icon"],["type","text","name","job-location","id","location","placeholder","Enter city or region",1,"form-control",3,"ngModelChange","ngModel"],["for","type"],[1,"fas","fa-tag","input-icon"],["name","job-type","id","type",1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","Part-Time"],["value","Full-Time"],["value","Full-Time(Remote)"],["value","Part-Time(Remote)"],["value","Hybrid (1 day onsite / WFH rest of the week)"],["value","Hybrid (2 days onsite / WFH rest of the week)"],["value","Hybrid (3 days onsite / WFH rest of the week)"],["value","Hybrid"],["value","Contract"],["value","Remote"],["for","salary-min"],[1,"d-flex","gap-2","align-items-center"],["name","salary-min","id","salary-min",1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],["name","salary-max","id","salary-max",1,"form-control",3,"ngModelChange","ngModel"],[1,"row","mb-3"],["for","description"],["rows","5","name","job-description","placeholder","Type - or * for bullets, press Enter for new line",1,"form-control",3,"ngModelChange","input","ngModel"],[1,"row","mt-3"],[1,"section-label"],[1,"dropdown-container","w-100","position-relative"],["type","button",1,"btn","btn-outline-secondary","w-100","text-start","d-flex","justify-content-between","align-items-center",3,"click"],[1,"fas",3,"ngClass"],[1,"dropdown-menu","p-3","w-100"],["class","d-flex align-items-center mb-2",4,"ngFor","ngForOf"],[1,"d-flex","mt-3","gap-2","add-question-row"],["type","text","placeholder","Add your own question...",1,"form-control","flex-grow-1",3,"ngModelChange","keydown.enter","ngModel"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-success",3,"click"],[1,"selected-questions","mt-3"],["class","card d-flex flex-row justify-content-between align-items-center p-2 mb-2 shadow-sm",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[1,"modal-overlay"],[1,"d-flex","align-items-center","mb-2"],[1,"form-check","flex-grow-1"],["type","checkbox",1,"form-check-input","me-2",3,"ngModelChange","ngModel","id"],[1,"form-check-label",3,"for"],["type","button","class","btn btn-sm btn-outline-danger ms-2",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-outline-danger","ms-2",3,"click"],[1,"card","d-flex","flex-row","justify-content-between","align-items-center","p-2","mb-2","shadow-sm"],[1,"m-0","ps-2","text-break"],["type","button",1,"btn","btn-sm","btn-outline-danger","ms-3","flex-shrink-0",3,"click"],[1,"modal-content"],[1,"modal-body"],[1,"detail-row"],[1,"label"],[1,"value"],[1,"value","description-text",3,"innerHTML"],["class","detail-row",4,"ngIf"],[1,"modal-footer"],[1,"btn-confirm",3,"click","disabled"],[1,"btn-cancel",3,"click","disabled"],[4,"ngFor","ngForOf"]],template:function(t,r){t&1&&(f(0,"h1",0),y(1,"Post a Job"),m(),f(2,"div",1),G(3,Vz,2,1,"div",2),f(4,"div",3)(5,"label",4),y(6,"Job Title"),m(),f(7,"div",5),te(8,"i",6),f(9,"input",7),ye("ngModelChange",function(o){return Ee(r.title,o)||(r.title=o),o}),m()()(),f(10,"div",3)(11,"label",8),y(12,"Company"),m(),f(13,"div",5),te(14,"i",9),f(15,"input",10),ye("ngModelChange",function(o){return Ee(r.company,o)||(r.company=o),o}),m()()(),f(16,"div",3)(17,"label",11),y(18,"Location"),m(),f(19,"div",5),te(20,"i",12),f(21,"input",13),ye("ngModelChange",function(o){return Ee(r.location,o)||(r.location=o),o}),m()()(),f(22,"div",3)(23,"label",14),y(24,"Type"),m(),f(25,"div",5),te(26,"i",15),f(27,"select",16),ye("ngModelChange",function(o){return Ee(r.type,o)||(r.type=o),o}),f(28,"option",17),y(29,"Select Job Type"),m(),f(30,"option",18),y(31,"Part-Time (Onsite)"),m(),f(32,"option",19),y(33,"Full-Time (Onsite)"),m(),f(34,"option",20),y(35,"Full-Time(Remote)"),m(),f(36,"option",21),y(37,"Part-Time(Remote)"),m(),f(38,"option",22),y(39,"Hybrid (1 day onsite / WFH rest of the week)"),m(),f(40,"option",23),y(41,"Hybrid (2 days onsite / WFH rest of the week)"),m(),f(42,"option",24),y(43,"Hybrid (3 days onsite / WFH rest of the week)"),m(),f(44,"option",25),y(45,"Hybrid"),m(),f(46,"option",26),y(47,"Contract"),m(),f(48,"option",27),y(49,"Remote"),m()()()(),f(50,"div",3)(51,"label",28),y(52,"Salary Range"),m(),f(53,"div",29)(54,"select",30),ye("ngModelChange",function(o){return Ee(r.salaryMin,o)||(r.salaryMin=o),o}),f(55,"option",17),y(56,"Min Salary"),m(),He(57,jz,2,2,"option",31,cO),m(),f(59,"span"),y(60,"-"),m(),f(61,"select",32),ye("ngModelChange",function(o){return Ee(r.salaryMax,o)||(r.salaryMax=o),o}),f(62,"option",17),y(63,"Max Salary"),m(),He(64,Uz,2,2,"option",31,cO),m()()(),f(66,"div",33)(67,"label",34),y(68,"Description"),m(),f(69,"textarea",35),ye("ngModelChange",function(o){return Ee(r.description,o)||(r.description=o),o}),V("input",function(){return r.formatBulletsLive()}),y(70,"  "),m()(),f(71,"div",36)(72,"label",37),y(73,"Interview Questions"),m(),f(74,"div",38)(75,"button",39),V("click",function(){return r.toggleDropdown()}),f(76,"span"),y(77,"Select Questions"),m(),te(78,"i",40),m(),f(79,"div",41),$n(80,$z,6,7,"div",42),f(81,"div",43)(82,"input",44),ye("ngModelChange",function(o){return Ee(r.newDropdownQuestion,o)||(r.newDropdownQuestion=o),o}),V("keydown.enter",function(){return r.addCustomDropdownQuestion()}),m(),f(83,"button",45),V("click",function(){return r.addCustomDropdownQuestion()}),y(84,"Add"),m(),f(85,"button",46),V("click",function(){return r.addSelectedQuestionsToForm()}),y(86,"Enter"),m()()()(),f(87,"div",47),$n(88,Hz,5,1,"div",48),m()(),f(89,"div",36)(90,"button",49),V("click",function(){return r.openConfirmModal()}),y(91,"Post Job"),m()()(),G(92,Wz,40,10,"div",50)),t&2&&(E(3),J(r.error?3:-1),E(6),ge("ngModel",r.title),E(6),ge("ngModel",r.company),z("disabled",r.isAdmin()),E(6),ge("ngModel",r.location),E(6),ge("ngModel",r.type),E(27),ge("ngModel",r.salaryMin),E(3),ze(r.salaryOptions),E(4),ge("ngModel",r.salaryMax),E(3),ze(r.salaryOptions),E(5),ge("ngModel",r.description),E(9),z("ngClass",i0(16,Lz,!r.showDropdown,r.showDropdown)),E(),ct("show",r.showDropdown),E(),z("ngForOf",r.dropdownQuestions),E(2),ge("ngModel",r.newDropdownQuestion),E(6),z("ngForOf",r.applicationQuestions),E(4),J(r.showConfirmModal?92:-1))},dependencies:[bn,Qr,Yr,Xt,fd,Kr,_n,dn,ut,dr,$f,vs],styles:[".container-fluid[_ngcontent-%COMP%]{max-width:800px;margin:40px auto;background:#fff;padding:60px;border-radius:16px;box-shadow:0 4px 6px -1px #0000000d;border:1px solid #e4e4e7}h1[_ngcontent-%COMP%]{text-align:center;margin-bottom:40px;color:var(--primary-color);font-weight:800}.row[_ngcontent-%COMP%]{margin-bottom:24px;display:block}label[_ngcontent-%COMP%]{display:block;font-weight:600;color:var(--text-main);margin-bottom:8px;font-size:.95rem}.input-icon-container[_ngcontent-%COMP%]{position:relative}.input-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:30px;transform:translateY(-50%);color:#a1a1aa;font-size:1.2rem;z-index:2;pointer-events:none}.input-icon-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .input-icon-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding-left:60px;height:54px;border-radius:8px;border:1px solid #e4e4e7;font-family:Poppins,sans-serif;appearance:none;-webkit-appearance:none}.btn-block-submit[_ngcontent-%COMP%]{width:100%;padding:16px;font-size:1.1rem;margin-top:20px;background-color:var(--primary-color);color:#fff;border:none;border-radius:var(--border-radius);font-weight:600;transition:all .2s;display:block;cursor:pointer}.btn-block-submit[_ngcontent-%COMP%]:hover{background-color:#55555a;transform:translateY(-2px);box-shadow:0 10px 15px -3px #0000001a}.btn-primary[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;padding:10px 24px;border-radius:8px;border:none;cursor:pointer}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#55555a}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0009;display:flex;align-items:center;justify-content:center;z-index:2000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.modal-content[_ngcontent-%COMP%]{background:#fff;padding:40px;border-radius:16px;width:90%;max-width:650px;max-height:90vh;overflow-y:auto;box-shadow:0 20px 25px -5px #0000001a;animation:_ngcontent-%COMP%_slideIn .3s ease-out}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:1.5rem;text-align:center;color:var(--primary-color)}.modal-body[_ngcontent-%COMP%]{margin-bottom:2rem}.detail-row[_ngcontent-%COMP%]{display:flex;padding:12px 0;border-bottom:1px solid #f4f4f5}.detail-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.label[_ngcontent-%COMP%]{font-weight:600;color:#71717a;width:140px;flex-shrink:0}.value[_ngcontent-%COMP%]{color:#18181b;flex-grow:1}.description-text[_ngcontent-%COMP%]{white-space:pre-wrap;line-height:1.6}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:16px;justify-content:flex-end}.btn-confirm[_ngcontent-%COMP%]{background-color:var(--primary-color);color:#fff;padding:12px 24px;border-radius:8px;border:none;font-weight:600;min-width:120px;cursor:pointer;margin-top:0}.btn-confirm[_ngcontent-%COMP%]:hover{background-color:var(--primary-hover)}.btn-cancel[_ngcontent-%COMP%]{background-color:#fff;color:var(--text-main);border:1px solid #e4e4e7;padding:12px 24px;border-radius:8px;font-weight:600;min-width:120px;cursor:pointer;margin-top:0}.btn-cancel[_ngcontent-%COMP%]:hover{background-color:#f4f4f5;color:#000;transform:translateY(-1px);box-shadow:none}@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.container-fluid[_ngcontent-%COMP%]{padding:30px 20px;margin:20px 10px;width:auto;max-width:100%}h1[_ngcontent-%COMP%]{font-size:1.75rem;margin-bottom:20px}.input-icon-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .input-icon-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:48px;font-size:16px}.d-flex.gap-2.align-items-center[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.d-flex.gap-2.align-items-center[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}}.btn-sm[_ngcontent-%COMP%]{padding:4px 10px!important;font-size:1.2rem!important;line-height:1!important;height:34px!important;width:34px!important;min-width:auto!important;display:flex!important;align-items:center!important;justify-content:center!important;border-radius:4px}.add-question-row[_ngcontent-%COMP%]{align-items:stretch!important;height:48px}.add-question-row[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:100%!important;margin-bottom:0}.add-question-row[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{height:100%!important;margin-top:0!important;display:flex;align-items:center;white-space:nowrap}"]})};function Gz(n,e){if(n&1&&(f(0,"div",4),y(1),m()),n&2){let t,r=S();z("ngClass",(t=r.authError())!=null&&t.includes("successful")?"alert-success":"alert-danger"),E(),De(" ",r.authError()," ")}}function Jz(n,e){if(n&1){let t=re();f(0,"div",20)(1,"label",21),y(2,"First Name"),m(),f(3,"input",22),V("ngModelChange",function(i){U(t);let o=S();return B(o.firstName.set(i))}),m()()}if(n&2){let t=S();E(3),z("ngModel",t.firstName())("disabled",t.loading())}}function Kz(n,e){if(n&1){let t=re();f(0,"div",20)(1,"label",23),y(2,"Last Name"),m(),f(3,"input",24),V("ngModelChange",function(i){U(t);let o=S();return B(o.lastName.set(i))}),m()()}if(n&2){let t=S();E(3),z("ngModel",t.lastName())("disabled",t.loading())}}function Qz(n,e){if(n&1){let t=re();f(0,"div",20)(1,"label",25),y(2,"Company Name"),m(),f(3,"input",26),V("ngModelChange",function(i){U(t);let o=S();return B(o.companyName.set(i))}),m()()}if(n&2){let t=S();E(3),z("ngModel",t.companyName())("disabled",t.loading())}}function Yz(n,e){n&1&&y(0," I confirm that I am of legal age to use this platform (job seekers must be 18 or older) and I agree to the ")}function Zz(n,e){n&1&&y(0," I agree to the ")}function Xz(n,e){if(n&1){let t=re();f(0,"div",20)(1,"label",27),y(2,"I am a..."),m(),f(3,"div",28)(4,"button",29),V("click",function(){U(t);let i=S();return B(i.setRole("applicant"))}),f(5,"div",30),y(6,"\u{1F464}"),m(),f(7,"div",31),y(8,"Job Seeker"),m(),f(9,"div",32),y(10,"Looking for jobs"),m()(),f(11,"button",29),V("click",function(){U(t);let i=S();return B(i.setRole("employer"))}),f(12,"div",30),y(13,"\u{1F3E2}"),m(),f(14,"div",31),y(15,"Employer"),m(),f(16,"div",32),y(17,"Posting jobs"),m()()()(),f(18,"div",33)(19,"input",34),V("ngModelChange",function(i){U(t);let o=S();return B(o.acceptedTerms.set(i))}),m(),f(20,"label",35),G(21,Yz,1,0)(22,Zz,1,0),f(23,"a",36),V("click",function(){U(t);let i=S();return B(i.showTerms.set(!0))}),y(24,"Terms and Conditions"),m(),y(25,". "),m()()}if(n&2){let t=S();E(4),ct("active",t.selectedRole()==="applicant"),z("disabled",t.loading()),E(7),ct("active",t.selectedRole()==="employer"),z("disabled",t.loading()),E(8),z("ngModel",t.acceptedTerms())("disabled",t.loading()),E(2),J(t.selectedRole()==="applicant"?21:22)}}function eq(n,e){n&1&&(te(0,"span",37),y(1," Please wait... "))}function tq(n,e){if(n&1&&y(0),n&2){let t=S();De(" ",t.isRegisterMode()?"Sign Up":"Login"," ")}}function nq(n,e){if(n&1){let t=re();f(0,"div",15)(1,"button",38),V("click",function(){U(t);let i=S();return B(i.onForgotPassword())}),y(2),m()()}if(n&2){let t=S();E(),z("disabled",t.resetInProgress()||t.loading()),E(),De(" ",t.resetInProgress()?"Sending reset email...":"Forgot password?"," ")}}function rq(n,e){if(n&1){let t=re();f(0,"div",16)(1,"div",39)(2,"h4"),y(3,"Terms and Conditions"),m(),f(4,"p",40),y(5," Please read these Terms and Conditions carefully before creating an account. "),m(),f(6,"div",41)(7,"h6"),y(8,"1. Eligibility"),m(),f(9,"p"),y(10," By creating a job seeker account, you confirm that you are at least 18 years old. Employers confirm they are authorized to post jobs and represent their organization. "),m(),f(11,"h6"),y(12,"2. Use of the Platform"),m(),f(13,"p"),y(14," You agree to provide accurate information in your profile and job listings, and not to post misleading, fraudulent, or inappropriate content. "),m(),f(15,"h6"),y(16,"3. Data & Privacy"),m(),f(17,"p"),y(18," Your profile information and job listings may be visible to other users of the platform. Do not share sensitive personal information (e.g., government IDs, bank details) through this site. "),m(),f(19,"h6"),y(20,"4. Prohibited Activities"),m(),f(21,"p"),y(22," You agree not to use the platform to harass, discriminate, or otherwise harm other users, and not to attempt to circumvent security or misuse the service. "),m(),f(23,"h6"),y(24,"5. Changes to These Terms"),m(),f(25,"p"),y(26," These Terms may be updated over time. Continued use of the platform after changes are posted constitutes acceptance of the updated Terms. "),m()(),f(27,"div",42)(28,"button",43),V("click",function(){U(t);let i=S();return B(i.showTerms.set(!1))}),y(29,"Close"),m()()()()}}function iq(n,e){if(n&1){let t=re();f(0,"div",16)(1,"div",39)(2,"h4"),y(3,"Password Reset Email Sent"),m(),f(4,"p",44),y(5," If an account exists for "),f(6,"strong"),y(7),m(),y(8,", a password reset link has been sent to that address. "),m(),f(9,"p",45),y(10," Please check your inbox (and spam folder). Follow the link in the email to create a new password. "),m(),f(11,"div",42)(12,"button",43),V("click",function(){U(t);let i=S();return B(i.showResetConfirmation.set(!1))}),y(13,"Close"),m()()()()}if(n&2){let t=S();E(7),H(t.email())}}var gg=class n{authService=P(qe);router=P(Ge);route=P(vn);firstName=ee("");lastName=ee("");companyName=ee("");email=ee("");password=ee("");selectedRole=ee("applicant");isRegisterMode=ee(!1);showPassword=ee(!1);acceptedTerms=ee(!1);showTerms=ee(!1);showResetConfirmation=ee(!1);resetInProgress=ee(!1);loading=this.authService.loading;authError=this.authService.authError;returnJobId=null;ngOnInit(){this.authService.clearError(),this.resetForm(),this.returnJobId=this.route.snapshot.queryParamMap.get("applyJobId")}ngOnDestroy(){this.authService.clearError()}toggleMode(){this.isRegisterMode.update(e=>!e),this.authService.clearError()}resetForm(){this.email.set(""),this.password.set(""),this.selectedRole.set("applicant"),this.acceptedTerms.set(!1),this.showTerms.set(!1)}setRole(e){this.selectedRole.set(e)}onForgotPassword(){return b(this,null,function*(){let e=this.email().trim();if(this.authService.clearError(),!e){this.authService.authError.set("Please enter your email address to reset your password.");return}this.resetInProgress.set(!0);try{yield this.authService.sendPasswordReset(e),this.showResetConfirmation.set(!0)}finally{this.resetInProgress.set(!1)}})}onSubmit(){return b(this,null,function*(){let e=this.email(),t=this.password(),r=this.firstName(),i=this.lastName(),o=this.companyName();if(!e||!t){this.authService.authError.set("Please fill in all fields.");return}if(this.isRegisterMode()&&!this.acceptedTerms()){this.authService.authError.set("You must agree to the Terms and Conditions to create an account.");return}let s;if(this.isRegisterMode()?s=yield this.authService.register(r,i,o,e,t,this.selectedRole()):s=yield this.authService.login(e,t),s)if(this.resetForm(),this.returnJobId)this.router.navigate(["/job-list"],{queryParams:{applyJobId:this.returnJobId}});else{let a=this.authService.userProfile()?.role;a==="admin"?this.router.navigate(["/admin"]):a==="employer"?this.router.navigate(["/employer-jobs"]):this.router.navigate(["/job-list"])}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-login"]],decls:32,vars:20,consts:[[1,"login-container"],[1,"login-card"],[1,"text-center","mb-4"],[3,"ngSubmit"],["role","alert",1,"alert",3,"ngClass"],["class","mb-4",4,"ngIf"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","Enter your email",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","password",1,"form-label"],[1,"input-group"],["id","password","name","password","placeholder","Enter your password",1,"form-control",3,"ngModelChange","type","ngModel","disabled"],["type","button","aria-label","Toggle password visibility",1,"btn","btn-outline-secondary",3,"click","disabled"],[1,"fas",3,"ngClass"],["type","submit",1,"btn","btn-primary","w-100","mb-3",3,"disabled"],[1,"text-end","mb-3"],[1,"modal-overlay"],[1,"text-center"],[1,"mb-0"],["href","javascript:void(0)",1,"text-primary",3,"click"],[1,"mb-4"],["for","firstName",1,"form-label"],["type","text","id","firstName","name","firstName","placeholder","Enter your First Name",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","lastName",1,"form-label"],["type","text","id","lastName","name","lastName","placeholder","Enter your Last Name",1,"form-control",3,"ngModelChange","ngModel","disabled"],["for","companyName",1,"form-label"],["type","text","id","companyName","name","email","placeholder","Enter your Company Name",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"form-label"],[1,"role-selector"],["type","button",1,"role-btn",3,"click","disabled"],[1,"role-icon"],[1,"role-title"],[1,"role-desc"],[1,"form-check","mb-3"],["type","checkbox","id","terms","name","terms",1,"form-check-input",3,"ngModelChange","ngModel","disabled"],["for","terms",1,"form-check-label"],["href","javascript:void(0)",3,"click"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],["type","button",1,"btn","btn-link","p-0",3,"click","disabled"],[1,"modal-content","modal-lg"],[1,"text-muted","small","mb-3"],[1,"terms-body"],[1,"modal-footer","mt-3"],[1,"btn","btn-secondary",3,"click"],[1,"mt-3"],[1,"text-muted","small"]],template:function(t,r){t&1&&(f(0,"div",0)(1,"div",1)(2,"h2",2),y(3),m(),f(4,"form",3),V("ngSubmit",function(){return r.onSubmit()}),G(5,Gz,2,2,"div",4),$n(6,Jz,4,2,"div",5)(7,Kz,4,2,"div",5)(8,Qz,4,2,"div",5),f(9,"div",6)(10,"label",7),y(11,"Email address"),m(),f(12,"input",8),V("ngModelChange",function(o){return r.email.set(o)}),m()(),f(13,"div",6)(14,"label",9),y(15,"Password"),m(),f(16,"div",10)(17,"input",11),V("ngModelChange",function(o){return r.password.set(o)}),m(),f(18,"button",12),V("click",function(){return r.showPassword.set(!r.showPassword())}),te(19,"i",13),m()()(),G(20,Xz,26,9),f(21,"button",14),G(22,eq,2,0)(23,tq,1,1),m(),G(24,nq,3,2,"div",15),m(),G(25,rq,30,0,"div",16),G(26,iq,14,1,"div",16),f(27,"div",17)(28,"p",18),y(29),f(30,"a",19),V("click",function(){return r.toggleMode()}),y(31),m()()()()()),t&2&&(E(3),De(" ",r.isRegisterMode()?"Create Account":"Welcome Back!"," "),E(2),J(r.authError()?5:-1),E(),z("ngIf",r.isRegisterMode()&&r.selectedRole()==="applicant"),E(),z("ngIf",r.isRegisterMode()&&r.selectedRole()==="applicant"),E(),z("ngIf",r.isRegisterMode()&&r.selectedRole()==="employer"),E(4),z("ngModel",r.email())("disabled",r.loading()),E(5),z("type",r.showPassword()?"text":"password")("ngModel",r.password())("disabled",r.loading()),E(),z("disabled",r.loading()),E(),z("ngClass",r.showPassword()?"fa-eye-slash":"fa-eye"),E(),J(r.isRegisterMode()?20:-1),E(),z("disabled",r.loading()),E(),J(r.loading()?22:23),E(2),J(r.isRegisterMode()?-1:24),E(),J(r.showTerms()?25:-1),E(),J(r.showResetConfirmation()?26:-1),E(3),De(" ",r.isRegisterMode()?"Already have an account?":"Don't have an account?"," "),E(2),De(" ",r.isRegisterMode()?"Login":"Sign Up"," "))},dependencies:[ut,dr,vs,bn,fg,Xt,fd,_n,dg,dn,pd,Ii],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:calc(100vh - var(--navbar-height));padding:40px 20px;background-color:var(--bg-body)}.login-card[_ngcontent-%COMP%]{background:#fff;padding:50px 40px;border-radius:16px;box-shadow:0 10px 25px -5px #0000001a,0 8px 10px -6px #0000001a;width:100%;max-width:480px}.login-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#18181b;font-weight:800}.form-control[_ngcontent-%COMP%]{padding:12px 16px;border-radius:8px;border:1px solid #e0e0e0;transition:border-color .2s,box-shadow .2s}.form-control[_ngcontent-%COMP%]:focus{border-color:#021de6;box-shadow:0 0 0 3px #020ae633}.btn-primary[_ngcontent-%COMP%]{font-family:Poppins;padding:12px;border-radius:15px;font-weight:500;background-color:#18181b;border-color:#18181b}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#55555a;border-color:#55555a}.btn-primary[_ngcontent-%COMP%]:disabled{background-color:#6c757d;border-color:#6c757d}.text-primary[_ngcontent-%COMP%]{color:#e60278!important;text-decoration:none;font-weight:500}.text-primary[_ngcontent-%COMP%]:hover{text-decoration:underline}.role-selector[_ngcontent-%COMP%]{display:flex;gap:12px}.role-btn[_ngcontent-%COMP%]{flex:1;padding:14px;border:1px solid #cbd5e1;border-radius:8px;background:#fff;cursor:pointer;transition:all .2s;text-align:center}.role-btn[_ngcontent-%COMP%]:hover:not(:disabled){border-color:#0228e6;background:#d1d4f7}.role-btn.active[_ngcontent-%COMP%]{border-color:#d1d4f7;background:#d1d4f7}.role-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.role-icon[_ngcontent-%COMP%]{font-family:Poppins;font-size:24px;margin-bottom:8px}.role-title[_ngcontent-%COMP%]{font-family:Poppins;font-weight:600;color:#051a49;margin-bottom:4px}.role-desc[_ngcontent-%COMP%]{font-family:Poppins;font-size:12px;color:#455263}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:24px;max-width:640px;width:90%;max-height:90vh;overflow-y:auto;box-shadow:0 8px 20px #0003;font-family:Poppins,sans-serif}.terms-body[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-top:1rem;font-weight:600;color:#051a49}.terms-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:#4b5563}@media (max-width: 576px){.login-card[_ngcontent-%COMP%]{padding:30px 20px;width:100%;border-radius:12px}.login-container[_ngcontent-%COMP%]{padding:20px 10px;align-items:flex-start;min-height:auto}.role-selector[_ngcontent-%COMP%]{gap:8px}.role-btn[_ngcontent-%COMP%]{padding:10px}.role-icon[_ngcontent-%COMP%]{font-size:20px}.role-title[_ngcontent-%COMP%]{font-size:.9rem}.role-desc[_ngcontent-%COMP%]{font-size:.75rem}}"]})};var oq=()=>[],sq=(n,e)=>e.id;function aq(n,e){if(n&1&&(f(0,"div",18),y(1),m()),n&2){let t,r,i,o=S();ct("alert-success",((t=o.actionMessage())==null?null:t.type)==="success")("alert-danger",((r=o.actionMessage())==null?null:r.type)==="error"),E(),De(" ",(i=o.actionMessage())==null?null:i.text," ")}}function cq(n,e){n&1&&(f(0,"div",17)(1,"div",19)(2,"span",20),y(3,"Loading..."),m()()())}function lq(n,e){n&1&&y(0," No jobs found matching your search criteria. ")}function uq(n,e){n&1&&y(0," No jobs available. ")}function dq(n,e){if(n&1&&(f(0,"div",21),G(1,lq,1,0)(2,uq,1,0),m()),n&2){let t=S(2);E(),J(t.filteredJobs().length===0&&(t.searchTitle()||t.searchCompany()||t.searchLocation())?1:2)}}function hq(n,e){if(n&1){let t=re();f(0,"tr")(1,"td",35),y(2),m(),f(3,"td")(4,"strong"),y(5),m()(),f(6,"td"),y(7),m(),f(8,"td"),y(9),m(),f(10,"td")(11,"span",36),y(12),m()(),f(13,"td")(14,"button",37),V("click",function(){let i=U(t).$implicit,o=S(3);return B(o.selectJob(i))}),y(15," View "),m(),f(16,"button",38),V("click",function(){let i=U(t).$implicit,o=S(3);return B(o.approveJob(i))}),y(17," Approve "),m()()()}if(n&2){let t=e.$implicit;E(2),H(t.id),E(3),H(t.title),E(2),H(t.company),E(2),H(t.location),E(3),H(t.type)}}function fq(n,e){if(n&1&&(f(0,"option",28),y(1),m()),n&2){let t=e.$implicit,r=S(3);z("value",t)("selected",r.pageSize()===t),E(),H(t)}}function pq(n,e){if(n&1){let t=re();f(0,"button",39),V("click",function(){let i=U(t).$index,o=S(3);return B(o.goToPage(i+1))}),y(1),m()}if(n&2){let t=e.$index,r=S(3);ct("btn-primary",r.currentPage()===t+1)("btn-outline-primary",r.currentPage()!==t+1),E(),De(" ",t+1," ")}}function mq(n,e){if(n&1){let t=re();f(0,"div",22)(1,"table",23)(2,"thead",24)(3,"tr")(4,"th"),y(5,"ID"),m(),f(6,"th"),y(7,"Title"),m(),f(8,"th"),y(9,"Company"),m(),f(10,"th"),y(11,"Location"),m(),f(12,"th"),y(13,"Type"),m(),f(14,"th"),y(15,"Actions"),m()()(),f(16,"tbody"),He(17,hq,18,5,"tr",null,sq),m()()(),f(19,"div",25)(20,"div")(21,"label",26),y(22,"Rows per page:"),m(),f(23,"select",27),V("change",function(i){U(t);let o=S(2);return B(o.changePageSize(i.target.value))}),He(24,fq,2,3,"option",28,Ul),m()(),f(26,"div",29)(27,"button",30),V("click",function(){U(t);let i=S(2);return B(i.previousPage())}),y(28," Previous "),m(),f(29,"div",31),He(30,pq,2,5,"button",32,vi),m(),f(32,"button",33),V("click",function(){U(t);let i=S(2);return B(i.nextPage())}),y(33," Next "),m()(),f(34,"div")(35,"small",34),y(36),m()()()}if(n&2){let t=S(2);E(17),ze(t.paginatedJobs()),E(7),ze(t.pageSizeOptions),E(3),z("disabled",t.currentPage()===1),E(3),ze(gs(4,oq).constructor(t.totalPages())),E(2),z("disabled",t.currentPage()===t.totalPages()),E(4),an("Page ",t.currentPage()," of ",t.totalPages())}}function gq(n,e){if(n&1&&G(0,dq,3,1,"div",21)(1,mq,37,5),n&2){let t=S();J(t.paginatedJobs().length===0?0:1)}}function yq(n,e){if(n&1){let t=re();f(0,"div",40),V("click",function(){U(t);let i=S();return B(i.closeModal())}),m(),f(1,"div",41)(2,"div",42)(3,"div",43)(4,"h5",44),y(5),m(),f(6,"button",45),V("click",function(){U(t);let i=S();return B(i.closeModal())}),m()(),f(7,"div",46)(8,"div",47)(9,"label",48),y(10,"Company:"),m(),f(11,"p"),y(12),m()(),f(13,"div",47)(14,"label",48),y(15,"Location:"),m(),f(16,"p"),y(17),m()(),f(18,"div",47)(19,"label",48),y(20,"Type:"),m(),f(21,"p"),y(22),m()(),f(23,"div",47)(24,"label",48),y(25,"Salary:"),m(),f(26,"p",49),y(27),m()(),f(28,"div",47)(29,"label",48),y(30,"Description:"),m(),f(31,"p"),y(32),m()(),f(33,"div",47)(34,"label",48),y(35,"Status:"),m(),f(36,"p"),y(37),m()()(),f(38,"div",50)(39,"button",51),V("click",function(){U(t);let i=S();return B(i.approveJob(i.selectedJob()))}),y(40," Approve "),m(),f(41,"button",52),V("click",function(){U(t);let i=S();return B(i.openRejectConfirm(i.selectedJob()))}),y(42," Reject "),m()()()()}if(n&2){let t,r,i,o,s,a,l,u=S();E(5),H((t=u.selectedJob())==null?null:t.title),E(7),H((r=u.selectedJob())==null?null:r.company),E(5),H((i=u.selectedJob())==null?null:i.location),E(5),H((o=u.selectedJob())==null?null:o.type),E(5),H((s=u.selectedJob())==null?null:s.salary),E(5),H((a=u.selectedJob())==null?null:a.description),E(5),H(((l=u.selectedJob())==null?null:l.status)||"N/A")}}function vq(n,e){if(n&1){let t=re();f(0,"div",40),V("click",function(){U(t);let i=S();return B(i.closeConfirmModal())}),m(),f(1,"div",41)(2,"div",42)(3,"div",43)(4,"h5",44),te(5,"i",53),y(6),m(),f(7,"button",45),V("click",function(){U(t);let i=S();return B(i.closeConfirmModal())}),m()(),f(8,"div",46)(9,"p"),y(10),m()(),f(11,"div",50)(12,"button",54),V("click",function(){U(t);let i=S();return B(i.closeConfirmModal())}),y(13,"Cancel"),m(),f(14,"button",16),V("click",function(){U(t);let i=S();return B(i.executeConfirmAction())}),y(15,"Confirm"),m()()()()}if(n&2){let t=S();E(6),H(t.confirmModalTitle),E(4),H(t.confirmModalMessage)}}var yg=class n{jobsService=P(Lt);allJobs=ee([]);selectedJob=ee(null);loading=ee(!1);actionMessage=ee(null);showConfirmModal=!1;confirmModalTitle="";confirmModalMessage="";confirmModalAction=null;jobToAction=null;searchTitle=ee("");searchCompany=ee("");searchLocation=ee("");currentPage=ee(1);pageSize=ee(10);pageSizeOptions=[5,10,25,50];filteredJobs=gn(()=>{let e=this.allJobs(),t=this.searchTitle().toLowerCase(),r=this.searchCompany().toLowerCase(),i=this.searchLocation().toLowerCase();return t&&(e=e.filter(o=>o.title.toLowerCase().includes(t))),r&&(e=e.filter(o=>o.company.toLowerCase().includes(r))),i&&(e=e.filter(o=>o.location.toLowerCase().includes(i))),e});totalPages=gn(()=>Math.ceil(this.filteredJobs().length/this.pageSize()));paginatedJobs=gn(()=>{let e=this.filteredJobs(),t=(this.currentPage()-1)*this.pageSize(),r=t+this.pageSize();return e.slice(t,r)});ngOnInit(){this.loadJobs()}loadJobs(){this.loading.set(!0),this.allJobs.set(this.jobsService.list().filter(e=>e.status!=="approved")),this.currentPage.set(1),this.loading.set(!1)}resetFilters(){this.searchTitle.set(""),this.searchCompany.set(""),this.searchLocation.set(""),this.currentPage.set(1)}nextPage(){this.currentPage()<this.totalPages()&&this.currentPage.set(this.currentPage()+1)}previousPage(){this.currentPage()>1&&this.currentPage.set(this.currentPage()-1)}goToPage(e){e>=1&&e<=this.totalPages()&&this.currentPage.set(e)}changePageSize(e){this.pageSize.set(e),this.currentPage.set(1)}selectJob(e){this.selectedJob.set(e),this.actionMessage.set(null)}closeModal(){this.selectedJob.set(null),this.actionMessage.set(null)}approveJob(e){return b(this,null,function*(){e.id&&(yield this.jobsService.update(e.id,{status:"approved"}),this.loadJobs(),this.showMessage("success",`Job "${e.title}" has been approved.`),this.closeModal())})}openRejectConfirm(e){this.jobToAction=e,this.confirmModalTitle="Reject Job",this.confirmModalMessage=`Are you sure you want to reject "${e.title}"? This job will not be visible to applicants.`,this.confirmModalAction=()=>b(this,null,function*(){this.jobToAction?.id&&(yield this.jobsService.update(this.jobToAction.id,{status:"rejected"}),this.loadJobs(),this.showMessage("success",`Job "${this.jobToAction.title}" has been rejected.`),this.closeModal())}),this.showConfirmModal=!0}openDeleteConfirm(e){this.jobToAction=e,this.confirmModalTitle="Delete Job",this.confirmModalMessage=`Are you sure you want to delete "${e.title}"? This action cannot be undone.`,this.confirmModalAction=()=>b(this,null,function*(){this.jobToAction?.id&&(yield this.jobsService.delete(this.jobToAction.id),this.loadJobs(),this.showMessage("success",`Job "${this.jobToAction.title}" has been deleted.`),this.closeModal())}),this.showConfirmModal=!0}closeConfirmModal(){this.showConfirmModal=!1,this.confirmModalTitle="",this.confirmModalMessage="",this.confirmModalAction=null,this.jobToAction=null}executeConfirmAction(){return b(this,null,function*(){this.confirmModalAction&&(yield this.confirmModalAction()),this.closeConfirmModal()})}showMessage(e,t){this.actionMessage.set({type:e,text:t}),setTimeout(()=>this.actionMessage.set(null),3e3)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-admin-dashboard"]],decls:30,vars:9,consts:[[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"badge","bg-dark"],[1,"alert",3,"alert-success","alert-danger"],[1,"mb-4"],[1,"row","justify-content-center"],[1,"col-lg-12"],[1,"row","g-2","align-items-center","search-bar-wrapper"],[1,"col-md-3"],[1,"input-icon-container"],[1,"fas","fa-search","input-icon"],["type","text","placeholder","Search by Title",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-building","input-icon"],["type","text","placeholder","Search by Company",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-location-dot","input-icon"],["type","text","placeholder","Search by Location",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-danger",3,"click"],[1,"text-center","py-5"],[1,"alert"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"alert","alert-info","text-center"],[1,"table-responsive"],[1,"table","table-hover"],[1,"table-dark"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"me-2"],[1,"form-select","d-inline-block",2,"width","auto",3,"change"],[3,"value","selected"],[1,"pagination","m-0"],[1,"btn","btn-outline-primary","me-1",3,"click","disabled"],["role","group",1,"btn-group"],["type","button",1,"btn",3,"btn-primary","btn-outline-primary"],[1,"btn","btn-outline-primary","ms-1",3,"click","disabled"],[1,"text-muted"],[1,"text-truncate",2,"max-width","80px","font-size","0.85rem"],[1,"badge","badge-meta"],[1,"btn","btn-sm","btn-outline-primary","me-1",3,"click"],[1,"btn","btn-sm","btn-success","me-1",3,"click"],["type","button",1,"btn",3,"click"],[1,"modal-backdrop",3,"click"],[1,"modal-container"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"fw-bold"],[1,"text-success"],[1,"modal-footer"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-warning",3,"click"],[1,"fas","fa-exclamation-triangle","text-warning","me-2"],[1,"btn","btn-secondary",3,"click"]],template:function(t,r){t&1&&(f(0,"div",0)(1,"div",1)(2,"h2"),y(3,"Admin Dashboard"),m(),f(4,"span",2),y(5),m()(),G(6,aq,2,5,"div",3),f(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),te(13,"i",10),f(14,"input",11),ye("ngModelChange",function(o){return Ee(r.searchTitle,o)||(r.searchTitle=o),o}),m()()(),f(15,"div",8)(16,"div",9),te(17,"i",12),f(18,"input",13),ye("ngModelChange",function(o){return Ee(r.searchCompany,o)||(r.searchCompany=o),o}),m()()(),f(19,"div",8)(20,"div",9),te(21,"i",14),f(22,"input",15),ye("ngModelChange",function(o){return Ee(r.searchLocation,o)||(r.searchLocation=o),o}),m()()(),f(23,"div",8)(24,"button",16),V("click",function(){return r.resetFilters()}),y(25," Reset Filters "),m()()()()()(),G(26,cq,4,0,"div",17)(27,gq,2,1),m(),G(28,yq,43,7),G(29,vq,16,2)),t&2&&(E(5),an("",r.allJobs().length," Total Jobs | ",r.filteredJobs().length," Filtered"),E(),J(r.actionMessage()?6:-1),E(8),ge("ngModel",r.searchTitle),E(4),ge("ngModel",r.searchCompany),E(4),ge("ngModel",r.searchLocation),E(4),J(r.loading()?26:27),E(2),J(r.selectedJob()?28:-1),E(),J(r.showConfirmModal?29:-1))},dependencies:[ut,bn,Qr,Yr,Xt,_n,dn],styles:[".badge-meta[_ngcontent-%COMP%]{background-color:#051a49;color:#fff;padding:.5em .8em;font-weight:500;border-radius:4px;font-family:Poppins,sans-serif}.table[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;border-radius:12px;overflow:hidden}.table-dark[_ngcontent-%COMP%]{--bs-table-bg: #051a49;--bs-table-border-color: #051a49;color:#fff}.card[_ngcontent-%COMP%]{border:1px solid #e0e0e0;box-shadow:0 1px 3px #0000001a;border-radius:12px;font-family:Poppins,sans-serif}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600}.search-bar-wrapper[_ngcontent-%COMP%]{background-color:transparent;box-shadow:none;overflow:visible}.input-icon-container[_ngcontent-%COMP%]{position:relative;width:100%}.input-icon[_ngcontent-%COMP%]{position:absolute;left:30px;top:50%;transform:translateY(-50%);color:#64748b;font-size:1.1rem;z-index:2;margin-top:2px}.form-control[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:8px;background-color:#fff;box-shadow:0 1px 3px #0000000d;font-size:1rem;transition:background-color .3s,box-shadow .3s;font-family:Poppins,sans-serif}.input-icon-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:65px}.form-control[_ngcontent-%COMP%]:focus{outline:none;background-color:#fff;border:1px solid #3b82f6;box-shadow:none}.btn-success[_ngcontent-%COMP%]{--bs-btn-bg: #1f57bf;--bs-btn-border-color: #1f57bf;--bs-btn-hover-bg: #19489f;--bs-btn-hover-border-color: #19489f;color:#fff}.btn-warning[_ngcontent-%COMP%]{--bs-btn-bg: #e60278;--bs-btn-border-color: #e60278;--bs-btn-hover-bg: #cc026b;--bs-btn-hover-border-color: #cc026b;color:#fff}.btn-danger[_ngcontent-%COMP%]{--bs-btn-bg: #dc3545;--bs-btn-border-color: #dc3545;--bs-btn-hover-bg: #c82333;--bs-btn-hover-border-color: #c82333;color:#fff;padding:10px 16px;font-size:1rem}.btn-outline-primary[_ngcontent-%COMP%]{--bs-btn-color: #3b82f6;--bs-btn-border-color: #3b82f6;--bs-btn-hover-color: #fff;--bs-btn-hover-bg: #3b82f6;--bs-btn-active-bg: #2563eb;--bs-btn-active-border-color: #2563eb}.btn-primary[_ngcontent-%COMP%]{--bs-btn-bg: #3b82f6;--bs-btn-border-color: #3b82f6}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1040}.modal-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1050;width:100%;max-width:600px;padding:20px}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 40px #0003;overflow:hidden;font-family:Poppins,sans-serif}.modal-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center}.modal-title[_ngcontent-%COMP%]{margin:0;font-weight:600}.modal-body[_ngcontent-%COMP%]{padding:20px;max-height:400px;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:20px;border-top:1px solid #e0e0e0;display:flex;gap:10px;justify-content:flex-end}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;opacity:.5}.btn-close[_ngcontent-%COMP%]:hover{opacity:1}.pagination[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:4px}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:first-child){margin-left:-1px}h2[_ngcontent-%COMP%]{font-family:Poppins;font-weight:700}@media (max-width: 576px){.modal-content[_ngcontent-%COMP%]{width:95%;margin:10px;padding:20px;max-height:85vh}.modal-title[_ngcontent-%COMP%]{font-size:1.4rem}.modal-footer[_ngcontent-%COMP%]{flex-direction:column-reverse;gap:10px}.modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin:0}}"]})};var _q=(n,e)=>e.id;function bq(n,e){n&1&&(f(0,"div",2)(1,"div",5)(2,"span",6),y(3,"Loading..."),m()()())}function Eq(n,e){n&1&&(f(0,"div",3)(1,"div",7),te(2,"i",8),m(),f(3,"h4"),y(4,"No saved jobs yet"),m(),f(5,"p",9),y(6,"Jobs you save will appear here"),m(),f(7,"a",10),y(8,"Browse Jobs"),m()())}function wq(n,e){if(n&1){let t=re();f(0,"div",11)(1,"div",12)(2,"div",13)(3,"h5",14),y(4),m(),f(5,"p",15),y(6),m(),f(7,"div",16)(8,"span",17),y(9),m(),f(10,"span",18),y(11),m()(),f(12,"p",19),y(13),m()(),f(14,"div",20)(15,"button",21),V("click",function(){let i=U(t).$implicit,o=S(2);return B(o.removeSavedJob(i.id))}),te(16,"i",22),y(17," Remove from Saved "),m()()()()}if(n&2){let t=e.$implicit;E(4),H(t.title),E(2),H(t.company),E(3),H(t.location),E(2),H(t.type),E(2),H(t.salary)}}function Iq(n,e){if(n&1&&(f(0,"div",4),He(1,wq,18,5,"div",11,_q),m()),n&2){let t=S();E(),ze(t.savedJobs())}}var vg=class n{authService=P(qe);jobsService=P(Lt);savedJobs=ee([]);loading=ee(!1);ngOnInit(){this.loadSavedJobs()}loadSavedJobs(){this.loading.set(!0);let e=this.authService.userProfile()?.savedJobs||[],r=this.jobsService.list().filter(i=>i.id&&e.includes(i.id));this.savedJobs.set(r),this.loading.set(!1)}removeSavedJob(e){return b(this,null,function*(){e&&(yield this.jobsService.unsaveJob(e),this.loadSavedJobs())})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-saved-jobs"]],decls:6,vars:1,consts:[[1,"container","py-4"],[1,"mb-4","fw-bold"],[1,"text-center","py-5"],[1,"empty-state","text-center","py-5"],[1,"row"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"empty-icon","mb-3"],[1,"fas","fa-bookmark","empty-state-icon"],[1,"text-muted"],["routerLink","/job-list",1,"btn","btn-primary","btn-lg"],[1,"col-md-6","col-lg-4","mb-4"],[1,"card","job-card","h-100"],[1,"card-body"],[1,"card-title"],[1,"company-name","text-muted","mb-2"],[1,"job-meta","mb-3"],[1,"badge","badge-meta","me-2"],[1,"badge","badge-meta"],[1,"salary","text-success","fw-bold"],[1,"card-footer","bg-white","border-top-0"],[1,"btn","btn-danger","btn-sm",3,"click"],[1,"fas","fa-trash-alt","me-2"]],template:function(t,r){t&1&&(f(0,"div",0)(1,"h2",1),y(2,"Saved Jobs"),m(),G(3,bq,4,0,"div",2)(4,Eq,9,0,"div",3)(5,Iq,3,0,"div",4),m()),t&2&&(E(3),J(r.loading()?3:r.savedJobs().length===0?4:5))},dependencies:[ut,Ii,Or],styles:[".container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.empty-state[_ngcontent-%COMP%]{background:#f4f7f9;border-radius:12px;padding:60px 20px}.empty-state-icon[_ngcontent-%COMP%]{font-size:4rem;color:#051a49;margin-bottom:20px;display:block;margin-left:auto;margin-right:auto;width:fit-content}.job-card[_ngcontent-%COMP%]{border:1px solid #e4e4e7;border-radius:16px;transition:transform .2s,box-shadow .2s;font-family:Poppins,sans-serif;position:relative;background:#fff;overflow:hidden;box-shadow:0 4px 6px -1px #0000000d}.job-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 15px 25px #0000001a;z-index:10}.job-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:24px!important}.job-card[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:16px 24px 24px;border-top:none!important}.card-title[_ngcontent-%COMP%]{font-weight:800;font-size:1.5rem;color:#18181b}.company-name[_ngcontent-%COMP%]{font-size:1rem;color:#64748b!important}.badge-meta[_ngcontent-%COMP%]{background-color:#18181b;color:#fff;padding:.5em .8em;font-weight:500;border-radius:4px}.salary[_ngcontent-%COMP%]{font-size:1rem}.card-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:.9rem;padding:8px 12px;border-radius:12px;font-family:Poppins,sans-serif}.btn-primary[_ngcontent-%COMP%]{background-color:#3b82f6;border-color:#3b82f6;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2563eb;border-color:#2563eb}.btn-danger[_ngcontent-%COMP%]{background-color:#dc3545;border-color:#dc3545;color:#fff;padding:6px 14px!important;border-radius:8px}.btn-danger[_ngcontent-%COMP%]:hover{background-color:#c82333;border-color:#c82333}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:20px 15px}h2[_ngcontent-%COMP%]{font-size:1.75rem;text-align:center}.col-md-6[_ngcontent-%COMP%], .col-lg-4[_ngcontent-%COMP%]{width:100%}.empty-state[_ngcontent-%COMP%]{padding:40px 20px}.empty-state-icon[_ngcontent-%COMP%]{font-size:3rem}}"]})};var Cq=(n,e)=>e.id;function Dq(n,e){n&1&&(f(0,"div",2)(1,"div",5)(2,"span",6),y(3,"Loading..."),m()()())}function Tq(n,e){n&1&&(f(0,"div",3)(1,"div",7),te(2,"i",8),m(),f(3,"h4"),y(4,"No applied jobs yet"),m(),f(5,"p",9),y(6,"Jobs you apply to will appear here"),m(),f(7,"a",10),y(8,"Browse Jobs"),m()())}function Sq(n,e){if(n&1&&(f(0,"div",11)(1,"div",12)(2,"div",13)(3,"h5",14),y(4),m(),f(5,"p",15),y(6),m(),f(7,"div",16)(8,"span",17),y(9),m(),f(10,"span",18),y(11),m()(),f(12,"p",19),y(13),m(),f(14,"div",20)(15,"span",21),y(16),Hn(17,"titlecase"),m()()()()()),n&2){let t=e.$implicit,r=S(2);E(4),H(t.title),E(2),H(t.company),E(3),H(t.location),E(2),H(t.type),E(2),H(t.salary),E(2),z("ngClass",r.getStatusBadgeClass(t.applicationStatus)),E(),De(" Application: ",La(17,7,t.applicationStatus)," ")}}function Aq(n,e){if(n&1&&(f(0,"div",4),He(1,Sq,18,9,"div",11,Cq),m()),n&2){let t=S();E(),ze(t.appliedJobs())}}var _g=class n{authService=P(qe);jobsService=P(Lt);appliedJobs=ee([]);loading=ee(!1);ngOnInit(){return b(this,null,function*(){yield this.loadAppliedJobs()})}loadAppliedJobs(){return b(this,null,function*(){this.loading.set(!0);let e=this.authService.currentUser()?.uid;if(e){let r=(yield this.jobsService.getAllJobs()).filter(i=>i.applicants?.some(o=>o.userId===e&&o.status!=="rejected")).map(i=>{let o=i.applicants?.find(s=>s.userId===e);return ne(j({},i),{applicationStatus:o?.status||"pending"})});this.appliedJobs.set(r)}this.loading.set(!1)})}getStatusBadgeClass(e){switch(e){case"accepted":return"bg-success";case"pending":return"bg-warning text-dark";case"rejected":return"bg-danger";default:return"bg-secondary"}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-applied-jobs"]],decls:6,vars:1,consts:[[1,"container","py-4"],[1,"mb-4","fw-bold"],[1,"text-center","py-5"],[1,"empty-state","text-center","py-5"],[1,"row"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"empty-icon","mb-3"],[1,"fas","fa-briefcase","empty-state-icon"],[1,"text-muted"],["routerLink","/job-list",1,"btn","btn-primary","btn-lg"],[1,"col-md-6","col-lg-4","mb-4"],[1,"card","job-card","h-100"],[1,"card-body"],[1,"card-title"],[1,"company-name","text-muted","mb-2"],[1,"job-meta","mb-3"],[1,"badge","badge-meta","me-2"],[1,"badge","badge-meta"],[1,"salary","text-success","fw-bold"],[1,"mt-3"],[1,"badge",3,"ngClass"]],template:function(t,r){t&1&&(f(0,"div",0)(1,"h2",1),y(2,"Applied Jobs"),m(),G(3,Dq,4,0,"div",2)(4,Tq,9,0,"div",3)(5,Aq,3,0,"div",4),m()),t&2&&(E(3),J(r.loading()?3:r.appliedJobs().length===0?4:5))},dependencies:[ut,dr,Ii,Or,Ql],styles:[".container[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}.empty-state[_ngcontent-%COMP%]{background:#f4f7f9;border-radius:12px;padding:60px 20px}.empty-state-icon[_ngcontent-%COMP%]{font-size:4rem;color:#051a49;margin-bottom:20px;display:block;margin-left:auto;margin-right:auto;width:fit-content}.job-card[_ngcontent-%COMP%]{border:1px solid #e2e8f0;border-radius:16px;transition:transform .2s,box-shadow .2s;font-family:Poppins,sans-serif;position:relative}.job-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 15px 25px #00000026;z-index:10}.job-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:24px!important}.card-title[_ngcontent-%COMP%]{font-weight:800;font-size:1.5rem;color:#18181b}.company-name[_ngcontent-%COMP%]{font-size:1rem;color:#64748b!important}.badge-meta[_ngcontent-%COMP%]{background-color:#18181b;color:#fff;padding:.5em .8em;font-weight:500;border-radius:4px}.salary[_ngcontent-%COMP%]{font-size:1rem}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:20px 15px}h2[_ngcontent-%COMP%]{font-size:1.75rem;text-align:center}.col-md-6[_ngcontent-%COMP%], .col-lg-4[_ngcontent-%COMP%]{width:100%}.empty-state[_ngcontent-%COMP%]{padding:40px 20px}.empty-state-icon[_ngcontent-%COMP%]{font-size:3rem}}"]})};var bg=class n{authService=P(qe);router=P(Ge);ngOnInit(){let e=this.authService.userProfile();e?.role==="employer"?this.router.navigate(["/employer-jobs"]):e?.role==="admin"?this.router.navigate(["/admin"]):this.router.navigate(["/job-list"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-home"]],decls:0,vars:0,template:function(t,r){},encapsulation:2})};var uO=(n,e,t)=>({"bg-success":n,"bg-danger":e,"bg-warning text-dark":t}),xq=(n,e)=>e.id,Mq=(n,e)=>e.userId,lO=(n,e)=>e.value;function Rq(n,e){n&1&&(f(0,"p",4),y(1,"Loading..."),m())}function Pq(n,e){n&1&&(f(0,"p",4),y(1,"You haven't posted any jobs yet."),m())}function Nq(n,e){if(n&1){let t=re();f(0,"div",22),V("click",function(){let i=U(t).$implicit,o=S(2);return B(o.viewJob(i))}),f(1,"div")(2,"h2",23),y(3),m(),f(4,"p",24),y(5),m(),f(6,"p",25),y(7),m(),f(8,"span",26),y(9),m()()()}if(n&2){let t=e.$implicit,r=S(2);ct("active",(r.selectedJob==null?null:r.selectedJob.id)===t.id),E(3),H(t.title),E(2),an("",t.location," | ",t.type),E(2),H(t.salary),E(),z("ngClass",r.getStatusBadgeClass(t.status)),E(),H(t.status)}}function kq(n,e){if(n&1){let t=re();f(0,"div",9)(1,"label",10),y(2,"Sort By:"),m(),f(3,"select",11),ye("ngModelChange",function(i){U(t);let o=S();return Ee(o.sortBy,i)||(o.sortBy=i),B(i)}),V("change",function(){U(t);let i=S();return B(i.onSortChange())}),f(4,"option",12),y(5,"Newest First"),m(),f(6,"option",13),y(7,"Oldest First"),m(),f(8,"option",14),y(9,"Title (A-Z)"),m(),f(10,"option",15),y(11,"Title (Z-A)"),m(),f(12,"option",16),y(13,"Status (A-Z)"),m(),f(14,"option",17),y(15,"Status (Z-A)"),m(),f(16,"option",18),y(17,"Most Applicants"),m(),f(18,"option",19),y(19,"Least Applicants"),m()()(),f(20,"div",20),He(21,Nq,10,8,"div",21,xq),m()}if(n&2){let t=S();E(3),ge("ngModel",t.sortBy),E(18),ze(t.jobs)}}function Oq(n,e){if(n&1&&(f(0,"p",34),y(1),Hn(2,"date"),m()),n&2){let t=S(2);E(),De(" Posted: ",co(2,1,t.selectedJob.postedDate,"short")," ")}}function Fq(n,e){if(n&1&&(f(0,"p",45)(1,"span",26),y(2),Hn(3,"titlecase"),m()()),n&2){let t=S().$implicit;E(),z("ngClass",Sf(4,uO,t.status==="accepted",t.status==="rejected",t.status==="pending")),E(),De(" ",La(3,2,t.status)," ")}}function Lq(n,e){if(n&1){let t=re();f(0,"div",41)(1,"div",42)(2,"div")(3,"p",43),y(4),m(),f(5,"p",44),y(6),m(),f(7,"p",44),y(8),Hn(9,"date"),m(),G(10,Fq,4,8,"p",45),m(),f(11,"div",46)(12,"button",47),V("click",function(){let i=U(t).$implicit,o=S(3);return B(o.openApplicantModal(i))}),te(13,"i",48),m(),f(14,"button",49),V("click",function(){let i=U(t).$implicit,o=S(3);return B(o.acceptApplicant(i))}),te(15,"i",50),m(),f(16,"button",51),V("click",function(){let i=U(t).$implicit,o=S(3);return B(o.openRejectConfirm(i))}),te(17,"i",52),m()()()()}if(n&2){let t=e.$implicit;E(4),H(t.name||t.email),E(2),H(t.email),E(2),De(" Applied: ",co(9,6,t.appliedAt,"short")," "),E(2),J(t.status?10:-1),E(4),z("disabled",t.status==="accepted"),E(2),z("disabled",t.status==="rejected")}}function Vq(n,e){if(n&1&&(f(0,"div",37),He(1,Lq,18,9,"div",41,Mq),m()),n&2){let t=S(2);E(),ze(t.selectedJob.applicants)}}function jq(n,e){n&1&&(f(0,"p",4),y(1,"No applicants yet"),m())}function Uq(n,e){if(n&1){let t=re();f(0,"div",6)(1,"div",27)(2,"div")(3,"h2",28),y(4),m(),f(5,"h3",29),y(6),m()(),f(7,"span",26),y(8),m()(),f(9,"div",30)(10,"span",31),y(11),m(),f(12,"span",31),y(13),m(),f(14,"span",32),y(15),m()(),te(16,"div",33),G(17,Oq,3,4,"p",34),f(18,"div",35)(19,"h4",36),y(20),m(),G(21,Vq,3,0,"div",37)(22,jq,2,0,"p",4),m(),f(23,"div",38)(24,"button",39),V("click",function(){U(t);let i=S();return B(i.startEdit(i.selectedJob))}),y(25,"Edit"),m(),f(26,"button",40),V("click",function(){U(t);let i=S();return B(i.openDeleteConfirm(i.selectedJob.id))}),y(27," Delete "),m()()()}if(n&2){let t=S();E(4),H(t.selectedJob.title),E(2),H(t.selectedJob.company),E(),z("ngClass",t.getStatusBadgeClass(t.selectedJob.status)),E(),H(t.selectedJob.status),E(3),H(t.selectedJob.location),E(2),H(t.selectedJob.type),E(2),H(t.selectedJob.salary),E(),z("innerHTML",t.formatDescription(t.selectedJob.description),ps),E(),J(t.selectedJob.postedDate?17:-1),E(3),De("Applicants (",(t.selectedJob.applicants==null?null:t.selectedJob.applicants.length)||0,")"),E(),J(t.selectedJob.applicants&&t.selectedJob.applicants.length>0?21:22),E(5),z("disabled",t.isDeleting)}}function Bq(n,e){n&1&&(f(0,"div",7),te(1,"i",53),f(2,"p",4),y(3,"Select a job to view details"),m()())}function $q(n,e){if(n&1&&(f(0,"div",9)(1,"label",70),y(2,"Location:"),m(),f(3,"p",71),y(4),m()()),n&2){let t=S(2);E(4),H(t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.location)}}function Hq(n,e){if(n&1&&(f(0,"div",9)(1,"label",70),y(2,"Phone:"),m(),f(3,"p",71),y(4),m()()),n&2){let t=S(2);E(4),H(t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.phone)}}function zq(n,e){if(n&1&&(f(0,"div",9)(1,"label",70),y(2,"Website:"),m(),f(3,"p",71)(4,"a",79),y(5),m()()()),n&2){let t=S(2);E(4),z("href",t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.website,Oa),E(),H(t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.website)}}function qq(n,e){if(n&1&&(f(0,"div",9)(1,"label",70),y(2,"Headline:"),m(),f(3,"p",71),y(4),m()()),n&2){let t=S(2);E(4),H(t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.headline)}}function Wq(n,e){if(n&1&&(f(0,"div",9)(1,"label",70),y(2,"Bio:"),m(),f(3,"p",71),y(4),m()()),n&2){let t=S(2);E(4),H(t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.bio)}}function Gq(n,e){if(n&1&&(f(0,"div",80)(1,"p",81),te(2,"i",82),y(3),m(),f(4,"p",83),te(5,"i",84),y(6),m()()),n&2){let t=e.$implicit;E(3),H(t.question),E(3),H(t.answer)}}function Jq(n,e){if(n&1&&He(0,Gq,7,2,"div",80,vi),n&2){let t=S(2);ze(t.selectedApplicant.responses)}}function Kq(n,e){n&1&&(f(0,"p",73),y(1,"No application responses provided."),m())}function Qq(n,e){if(n&1){let t=re();f(0,"div",8)(1,"div",54)(2,"div",55)(3,"h5",56),y(4,"Applicant Details"),m(),f(5,"button",57),V("click",function(){U(t);let i=S();return B(i.closeApplicantModal())}),m()(),f(6,"div",58)(7,"div",59)(8,"div",60)(9,"div",61),te(10,"i",62),m(),f(11,"div")(12,"h4",63),y(13),m(),f(14,"p",64),y(15),m(),f(16,"span",65),y(17),Hn(18,"titlecase"),m()()()(),f(19,"div",66)(20,"div",67)(21,"h6",68),te(22,"i",69),y(23,"Profile Information"),m(),f(24,"div",9)(25,"label",70),y(26,"Applied On:"),m(),f(27,"p",71),y(28),Hn(29,"date"),m()(),G(30,$q,5,1,"div",9),G(31,Hq,5,1,"div",9),G(32,zq,6,2,"div",9),G(33,qq,5,1,"div",9),G(34,Wq,5,1,"div",9),m(),f(35,"div",67)(36,"h6",68),te(37,"i",72),y(38,"Application Questions & Answers"),m(),G(39,Jq,2,0)(40,Kq,2,0,"p",73),m()()(),f(41,"div",74)(42,"button",75),V("click",function(){U(t);let i=S();return B(i.acceptApplicant(i.selectedApplicant))}),te(43,"i",76),y(44," Accept "),m(),f(45,"button",40),V("click",function(){U(t);let i=S();return B(i.openRejectConfirm(i.selectedApplicant))}),te(46,"i",77),y(47," Reject "),m(),f(48,"button",78),V("click",function(){U(t);let i=S();return B(i.closeApplicantModal())}),y(49,"Close"),m()()()()}if(n&2){let t=S();E(13),H(t.selectedApplicant.name||(t.selectedApplicantProfile!=null&&t.selectedApplicantProfile.firstName?((t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.firstName)||"")+" "+((t.selectedApplicantProfile==null?null:t.selectedApplicantProfile.lastName)||""):t.selectedApplicant.email)),E(2),H(t.selectedApplicant.email),E(),z("ngClass",Sf(18,uO,t.selectedApplicant.status==="accepted",t.selectedApplicant.status==="rejected",!t.selectedApplicant.status||t.selectedApplicant.status==="pending")),E(),De(" ",La(18,13,t.selectedApplicant.status||"pending")," "),E(11),H(co(29,15,t.selectedApplicant.appliedAt,"medium")),E(2),J(t.selectedApplicantProfile!=null&&t.selectedApplicantProfile.location?30:-1),E(),J(t.selectedApplicantProfile!=null&&t.selectedApplicantProfile.phone?31:-1),E(),J(t.selectedApplicantProfile!=null&&t.selectedApplicantProfile.website?32:-1),E(),J(t.selectedApplicantProfile!=null&&t.selectedApplicantProfile.headline?33:-1),E(),J(t.selectedApplicantProfile!=null&&t.selectedApplicantProfile.bio?34:-1),E(5),J(t.selectedApplicant.responses&&t.selectedApplicant.responses.length>0?39:40),E(3),z("disabled",t.selectedApplicant.status==="accepted"),E(3),z("disabled",t.selectedApplicant.status==="rejected")}}function Yq(n,e){if(n&1&&(f(0,"option",105),y(1),m()),n&2){let t=e.$implicit;z("value",t.value),E(),H(t.label)}}function Zq(n,e){if(n&1&&(f(0,"option",105),y(1),m()),n&2){let t=e.$implicit;z("value",t.value),E(),H(t.label)}}function Xq(n,e){if(n&1){let t=re();f(0,"div",8)(1,"div",54)(2,"h2"),y(3,"Edit Job"),m(),f(4,"div",85)(5,"label",86),y(6,"Job Title"),m(),f(7,"div",87),te(8,"i",88),f(9,"input",89),ye("ngModelChange",function(i){U(t);let o=S();return Ee(o.editingJob.title,i)||(o.editingJob.title=i),B(i)}),m()()(),f(10,"div",85)(11,"label",90),y(12,"Location"),m(),f(13,"div",87),te(14,"i",91),f(15,"input",92),ye("ngModelChange",function(i){U(t);let o=S();return Ee(o.editingJob.location,i)||(o.editingJob.location=i),B(i)}),m()()(),f(16,"div",85)(17,"label",93),y(18,"Type"),m(),f(19,"div",87),te(20,"i",94),f(21,"select",95),ye("ngModelChange",function(i){U(t);let o=S();return Ee(o.editingJob.type,i)||(o.editingJob.type=i),B(i)}),f(22,"option",96),y(23,"Select Job Type"),m(),f(24,"option",97),y(25,"Part-Time"),m(),f(26,"option",98),y(27,"Full-Time"),m(),f(28,"option",99),y(29,"Contract"),m(),f(30,"option",100),y(31,"Remote"),m()()()(),f(32,"div",85)(33,"label",101),y(34,"Salary Range"),m(),f(35,"div",102)(36,"div",87)(37,"span",103),y(38,"\u20B1"),m(),f(39,"select",104),ye("ngModelChange",function(i){U(t);let o=S();return Ee(o.editSalaryMin,i)||(o.editSalaryMin=i),B(i)}),f(40,"option",96),y(41,"Min Salary"),m(),He(42,Yq,2,2,"option",105,lO),m()(),f(44,"span"),y(45,"-"),m(),f(46,"div",87)(47,"span",103),y(48,"\u20B1"),m(),f(49,"select",106),ye("ngModelChange",function(i){U(t);let o=S();return Ee(o.editSalaryMax,i)||(o.editSalaryMax=i),B(i)}),f(50,"option",96),y(51,"Max Salary"),m(),He(52,Zq,2,2,"option",105,lO),m()()()(),f(54,"div",85)(55,"label",107),y(56,"Description"),m(),f(57,"textarea",108),ye("ngModelChange",function(i){U(t);let o=S();return Ee(o.editingJob.description,i)||(o.editingJob.description=i),B(i)}),m()(),f(58,"div",74)(59,"button",109),V("click",function(){U(t);let i=S();return B(i.cancelEdit())}),y(60,"Cancel"),m(),f(61,"button",75),V("click",function(){U(t);let i=S();return B(i.saveEdit())}),y(62),m()()()()}if(n&2){let t=S();E(9),ge("ngModel",t.editingJob.title),E(6),ge("ngModel",t.editingJob.location),E(6),ge("ngModel",t.editingJob.type),E(18),ge("ngModel",t.editSalaryMin),E(3),ze(t.salaryOptions),E(7),ge("ngModel",t.editSalaryMax),E(3),ze(t.salaryOptions),E(5),ge("ngModel",t.editingJob.description),E(2),z("disabled",t.isSaving),E(2),z("disabled",t.isSaving),E(),De(" ",t.isSaving?"Saving...":"Save Changes"," ")}}function eW(n,e){if(n&1){let t=re();f(0,"div",8)(1,"div",110)(2,"h2"),y(3,"Confirm Deletion"),m(),f(4,"p"),y(5,"Are you sure you want to delete this job posting? This action cannot be undone."),m(),f(6,"div",74)(7,"button",109),V("click",function(){U(t);let i=S();return B(i.closeDeleteConfirm())}),y(8,"Cancel"),m(),f(9,"button",40),V("click",function(){U(t);let i=S();return B(i.confirmDelete())}),y(10),m()()()()}if(n&2){let t=S();E(7),z("disabled",t.isDeleting),E(2),z("disabled",t.isDeleting),E(),De(" ",t.isDeleting?"Deleting...":"Delete"," ")}}function tW(n,e){if(n&1){let t=re();f(0,"div",8)(1,"div",110)(2,"div",55)(3,"h5",56),te(4,"i",111),y(5,"Confirm Rejection"),m(),f(6,"button",57),V("click",function(){U(t);let i=S();return B(i.closeRejectConfirm())}),m()(),f(7,"div",58)(8,"p"),y(9,"Are you sure you want to reject this applicant?"),m(),f(10,"p",112),y(11,"They will be removed from the applicants list."),m()(),f(12,"div",74)(13,"button",78),V("click",function(){U(t);let i=S();return B(i.closeRejectConfirm())}),y(14,"Cancel"),m(),f(15,"button",113),V("click",function(){U(t);let i=S();return B(i.confirmRejectApplicant())}),te(16,"i",77),y(17," Reject Applicant "),m()()()()}}function nW(n,e){if(n&1){let t=re();f(0,"div",8)(1,"div",110)(2,"div",55)(3,"h5",56),te(4,"i",114),y(5,"Notice"),m(),f(6,"button",57),V("click",function(){U(t);let i=S();return B(i.closeAlertModal())}),m()(),f(7,"div",58)(8,"p"),y(9),m()(),f(10,"div",74)(11,"button",39),V("click",function(){U(t);let i=S();return B(i.closeAlertModal())}),y(12,"OK"),m()()()()}if(n&2){let t=S();E(9),H(t.alertMessage)}}var Eg=class n{jobService=P(Lt);authService=P(qe);jobs=[];allJobs=[];loading=!1;selectedJob=null;selectedApplicant=null;selectedApplicantProfile=null;editingJob=null;isDeleting=!1;isSaving=!1;showDeleteConfirmModal=!1;jobToDelete=null;showEditModal=!1;editSalaryMin="";editSalaryMax="";sortBy="date-desc";showAlertModal=!1;alertMessage="";showRejectConfirmModal=!1;applicantToReject=null;salaryOptions=[{value:1e4,label:"\u20B110,000"},{value:2e4,label:"\u20B120,000"},{value:3e4,label:"\u20B130,000"},{value:4e4,label:"\u20B140,000"},{value:5e4,label:"\u20B150,000"},{value:75e3,label:"\u20B175,000"},{value:1e5,label:"\u20B1100,000"},{value:15e4,label:"\u20B1150,000"},{value:2e5,label:"\u20B1200,000"},{value:25e4,label:"\u20B1250,000"},{value:3e5,label:"\u20B1300,000+"}];ngOnInit(){return b(this,null,function*(){yield this.loadEmployerJobs()})}loadEmployerJobs(){return b(this,null,function*(){this.loading=!0;let e=this.authService.currentUser()?.uid;e&&(this.allJobs=yield this.jobService.getEmployerJobs(e),this.applySorting()),this.loading=!1})}applySorting(){let e=[...this.allJobs];switch(this.sortBy){case"date-desc":e.sort((t,r)=>{let i=t.postedDate?new Date(t.postedDate).getTime():0;return(r.postedDate?new Date(r.postedDate).getTime():0)-i});break;case"date-asc":e.sort((t,r)=>{let i=t.postedDate?new Date(t.postedDate).getTime():0,o=r.postedDate?new Date(r.postedDate).getTime():0;return i-o});break;case"title-asc":e.sort((t,r)=>t.title.localeCompare(r.title));break;case"title-desc":e.sort((t,r)=>r.title.localeCompare(t.title));break;case"status-asc":e.sort((t,r)=>(t.status||"").localeCompare(r.status||""));break;case"status-desc":e.sort((t,r)=>(r.status||"").localeCompare(t.status||""));break;case"applicants-desc":e.sort((t,r)=>(r.applicants?.length||0)-(t.applicants?.length||0));break;case"applicants-asc":e.sort((t,r)=>(t.applicants?.length||0)-(r.applicants?.length||0));break}this.jobs=e}onSortChange(){this.applySorting()}viewJob(e){this.selectedJob=e,this.editingJob=null,this.selectedApplicant=null}openApplicantModal(e){return b(this,null,function*(){this.selectedApplicant=e,e.userId&&(this.selectedApplicantProfile=yield this.authService.getUserProfile(e.userId))})}closeApplicantModal(){this.selectedApplicant=null,this.selectedApplicantProfile=null}startEdit(e){this.editingJob=j({},e),this.parseSalaryRange(e.salary),this.showEditModal=!0}parseSalaryRange(e){let t=e.match(/([\d,]+)\s*-\s*([\d,]+)/);t&&(this.editSalaryMin=t[1].replace(/,/g,""),this.editSalaryMax=t[2].replace(/,/g,""))}cancelEdit(){this.editingJob=null,this.showEditModal=!1,this.editSalaryMin="",this.editSalaryMax=""}showAlert(e){this.alertMessage=e,this.showAlertModal=!0}closeAlertModal(){this.showAlertModal=!1,this.alertMessage=""}saveEdit(){return b(this,null,function*(){if(!this.editingJob||!this.editingJob.id)return;if(!this.editingJob.title||!this.editingJob.location||!this.editingJob.type||!this.editingJob.description||!this.editSalaryMin||!this.editSalaryMax){this.showAlert("Please fill in all fields");return}let e=parseInt(this.editSalaryMin),t=parseInt(this.editSalaryMax);if(e>=t){this.showAlert("Minimum salary must be less than maximum salary");return}this.isSaving=!0;try{this.editingJob.salary=`\u20B1${e.toLocaleString()} - \u20B1${t.toLocaleString()}`,yield this.jobService.update(this.editingJob.id,this.editingJob),yield this.loadEmployerJobs(),this.editingJob=null,this.showEditModal=!1,this.editSalaryMin="",this.editSalaryMax=""}catch(r){console.error("Error updating job:",r),this.showAlert("Failed to update job")}finally{this.isSaving=!1}})}openDeleteConfirm(e){e&&(this.jobToDelete=e,this.showDeleteConfirmModal=!0)}closeDeleteConfirm(){this.showDeleteConfirmModal=!1,this.jobToDelete=null}confirmDelete(){return b(this,null,function*(){if(this.jobToDelete){this.isDeleting=!0;try{yield this.jobService.delete(this.jobToDelete),yield this.loadEmployerJobs(),this.selectedJob=null,this.editingJob=null,this.showDeleteConfirmModal=!1,this.jobToDelete=null}catch(e){console.error("Error deleting job:",e),this.showAlert("Failed to delete job")}finally{this.isDeleting=!1}}})}acceptApplicant(e){return b(this,null,function*(){if(!this.selectedJob?.id||!e.userId)return;(yield this.jobService.updateApplicantStatus(this.selectedJob.id,e.userId,"accepted"))?(yield this.loadEmployerJobs(),this.selectedJob=this.jobs.find(r=>r.id===this.selectedJob?.id)||null,this.closeApplicantModal()):this.showAlert("Failed to update applicant status.")})}openRejectConfirm(e){this.applicantToReject=e,this.showRejectConfirmModal=!0}closeRejectConfirm(){this.showRejectConfirmModal=!1,this.applicantToReject=null}confirmRejectApplicant(){return b(this,null,function*(){if(!this.selectedJob?.id||!this.applicantToReject?.userId)return;(yield this.jobService.removeApplicant(this.selectedJob.id,this.applicantToReject.userId))?(yield this.loadEmployerJobs(),this.selectedJob=this.jobs.find(t=>t.id===this.selectedJob?.id)||null,this.closeApplicantModal(),this.closeRejectConfirm()):(this.showAlert("Failed to reject applicant."),this.closeRejectConfirm())})}getStatusBadgeClass(e){switch(e){case"approved":return"bg-success";case"pending":return"bg-warning text-dark";case"rejected":return"bg-danger";default:return"bg-secondary"}}formatDescription(e){if(!e)return"";let t=e.split(`
`),r="",i=!1;for(let o of t)if(o=o.trim(),o.startsWith("-")||o.startsWith("*")){let s=o.slice(1).trim();i||(r+="<ul>",i=!0),r+=`<li>${s}</li>`}else i&&(r+="</ul>",i=!1),o&&(r+=`<p>${o}</p>`);return i&&(r+="</ul>"),r}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-employer-jobs"]],decls:16,vars:7,consts:[[1,"fw-bold","my-4"],[1,"container-fluid"],[1,"row","mx-5","my-4"],[1,"col-4"],[1,"text-muted"],[1,"col"],[1,"job-details-card"],[1,"empty-details","text-center","py-5"],[1,"modal-overlay"],[1,"mb-3"],[1,"form-label","fw-bold"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value","date-desc"],["value","date-asc"],["value","title-asc"],["value","title-desc"],["value","status-asc"],["value","status-desc"],["value","applicants-desc"],["value","applicants-asc"],[1,"job-list"],[1,"job-item",3,"active"],[1,"job-item",3,"click"],[1,"fs-5","mb-1"],[1,"text-muted","mb-1"],[1,"text-success","fw-bold","mb-2"],[1,"badge",3,"ngClass"],[1,"d-flex","justify-content-between","align-items-start","mb-3"],[1,"fs-2","fw-bold"],[1,"fs-5","text-muted"],[1,"job-meta","my-3"],[1,"badge","badge-meta","me-2"],[1,"badge","bg-success"],[1,"mt-4","description-text",3,"innerHTML"],[1,"text-muted","small","mt-4"],[1,"applicants-section","mt-5"],[1,"fw-bold","mb-3"],[1,"applicants-list"],[1,"action-buttons","mt-4","d-flex","gap-2"],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-danger",3,"click","disabled"],[1,"applicant-item","card","mb-2","p-3"],[1,"d-flex","justify-content-between","align-items-start"],[1,"fw-bold","mb-1"],[1,"text-muted","small","mb-0"],[1,"small","mt-1"],[1,"d-flex","gap-2"],["title","View applicant details",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-eye"],["title","Accept applicant",1,"btn","btn-sm","btn-outline-success",3,"click","disabled"],[1,"fas","fa-check"],["title","Reject applicant",1,"btn","btn-sm","btn-outline-danger",3,"click","disabled"],[1,"fas","fa-times"],[1,"fas","fa-search","empty-details-icon"],[1,"modal-content","modal-lg"],[1,"modal-header","d-flex","justify-content-between","align-items-center"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"applicant-header","mb-4","p-3","bg-light","rounded"],[1,"d-flex","align-items-center","gap-3"],[1,"applicant-avatar"],[1,"fas","fa-user-circle","fa-3x","text-primary"],[1,"mb-1"],[1,"mb-0","text-muted"],[1,"badge","mt-2",3,"ngClass"],[1,"row"],[1,"col-md-6"],[1,"fw-bold","text-primary","mb-3"],[1,"fas","fa-user","me-2"],[1,"fw-bold","small","text-muted"],[1,"mb-0"],[1,"fas","fa-question-circle","me-2"],[1,"text-muted","fst-italic"],[1,"modal-footer"],[1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-check","me-1"],[1,"fas","fa-times","me-1"],[1,"btn","btn-secondary",3,"click"],["target","_blank",3,"href"],[1,"qa-item","mb-3","p-3","border","rounded"],[1,"fw-bold","mb-2","text-dark"],[1,"fas","fa-question","me-2","text-primary"],[1,"mb-0","ps-4"],[1,"fas","fa-reply","me-2","text-muted"],[1,"form-group","mb-3"],["for","edit-title"],[1,"input-icon-container"],[1,"fas","fa-briefcase","input-icon"],["type","text","id","edit-title","placeholder","Enter job title",1,"form-control",3,"ngModelChange","ngModel"],["for","edit-location"],[1,"fas","fa-location-dot","input-icon"],["type","text","id","edit-location","placeholder","Enter city or region",1,"form-control",3,"ngModelChange","ngModel"],["for","edit-type"],[1,"fas","fa-tag","input-icon"],["id","edit-type",1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","Part-Time"],["value","Full-Time"],["value","Contract"],["value","Remote"],["for","edit-salary-min"],[2,"display","flex","gap","10px","align-items","center"],[1,"input-icon","input-peso"],["id","edit-salary-min",1,"form-control",3,"ngModelChange","ngModel"],[3,"value"],["id","edit-salary-max",1,"form-control",3,"ngModelChange","ngModel"],["for","edit-description"],["id","edit-description","rows","5",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-secondary",3,"click","disabled"],[1,"modal-content"],[1,"fas","fa-exclamation-triangle","text-warning","me-2"],[1,"text-muted","small"],[1,"btn","btn-danger",3,"click"],[1,"fas","fa-info-circle","text-primary","me-2"]],template:function(t,r){t&1&&(f(0,"h1",0),y(1,"My Job Postings"),m(),f(2,"div",1)(3,"div",2)(4,"div",3),G(5,Rq,2,0,"p",4)(6,Pq,2,0,"p",4)(7,kq,23,1),m(),f(8,"div",5),G(9,Uq,28,12,"div",6)(10,Bq,4,0,"div",7),m()()(),G(11,Qq,50,22,"div",8),G(12,Xq,63,9,"div",8),G(13,eW,11,3,"div",8),G(14,tW,18,0,"div",8),G(15,nW,13,1,"div",8)),t&2&&(E(5),J(r.loading?5:r.jobs.length===0?6:7),E(4),J(r.selectedJob?9:10),E(2),J(r.selectedApplicant&&r.selectedJob?11:-1),E(),J(r.showEditModal&&r.editingJob?12:-1),E(),J(r.showDeleteConfirmModal?13:-1),E(),J(r.showRejectConfirmModal?14:-1),E(),J(r.showAlertModal?15:-1))},dependencies:[ut,dr,bn,Qr,Yr,Xt,Kr,_n,dn,Ql,Yl],styles:[".job-list[_ngcontent-%COMP%], .job-details-card[_ngcontent-%COMP%], .modal-content[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], p[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-family:Poppins,sans-serif}h1[_ngcontent-%COMP%]{font-size:2.25rem;color:var(--primary-color);font-weight:700}.input-icon-container[_ngcontent-%COMP%]{position:relative;width:100%}.input-icon[_ngcontent-%COMP%]{position:absolute;top:50%;left:14px;transform:translateY(-50%);color:#64748b;font-size:1.1rem;z-index:2;pointer-events:none}.dropdown-arrow[_ngcontent-%COMP%]{position:absolute;top:50%;right:14px;transform:translateY(-50%);color:#64748b;font-size:.8rem;z-index:2;pointer-events:none}.form-control[_ngcontent-%COMP%], select.form-control[_ngcontent-%COMP%]{padding:10px 45px;border:none;border-radius:8px;background-color:#fff;box-shadow:0 1px 3px #0000000d;font-size:1rem;transition:background-color .3s,box-shadow .3s;font-family:Poppins,sans-serif;height:auto;appearance:none;width:100%}.form-control[_ngcontent-%COMP%]:focus{outline:none;background-color:#fff;border:1px solid #3b82f6;box-shadow:0 1px 3px #0000001a}.job-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.job-item[_ngcontent-%COMP%]{padding:16px;border:1px solid #e0e0e0;border-radius:8px;margin-bottom:0;cursor:pointer;background:#fff;transition:all .2s ease}.job-item[_ngcontent-%COMP%]:hover{border-color:#d6e5f7;background-color:#d6e5f7;transform:none;box-shadow:0 1px 3px #0000001a}.job-item.active[_ngcontent-%COMP%]{border-color:#d6e5f7;background-color:#d6e5f7;border-width:1px}.job-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--primary-color);margin-bottom:6px;font-weight:600}.job-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.5rem;color:var(--text-muted)}.job-details-card[_ngcontent-%COMP%]{padding:40px;border:1px solid #e2e8f0;border-radius:12px;background-color:#fff;box-shadow:0 5px 10px #0000000d;position:sticky;top:20px}.job-details-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:800;font-size:2rem;margin-bottom:.5rem}.job-details-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--text-muted);font-size:1.1rem;font-weight:500}.applicants-section[_ngcontent-%COMP%]{padding-top:24px;margin-top:24px;border-top:1px solid #f4f4f5}.applicant-item[_ngcontent-%COMP%]{border:1px solid #e4e4e7;border-radius:12px;padding:16px!important;background-color:#f8fafc;box-shadow:none;transition:border-color .2s}.applicant-item[_ngcontent-%COMP%]:hover{border-color:var(--primary-color)}.action-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#18181b;border-color:#18181b}.action-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#55555a;border-color:#55555a}.action-buttons[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background-color:#ef4444;border-color:#ef4444}.action-buttons[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover{background-color:#dc2626;border-color:#dc2626}.modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000}.modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:12px;padding:24px;max-width:600px;box-shadow:0 8px 20px #0003;max-height:90vh;overflow-y:auto}.modal-lg[_ngcontent-%COMP%]{max-width:1100px!important;width:95%}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:16px;color:#051a49;font-weight:600}.modal-footer[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:flex-end;padding-top:20px;margin-top:20px;border-top:1px solid #e0e0e0}.modal-footer[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;border-radius:8px;padding:8px 16px;font-weight:600}.empty-details-icon[_ngcontent-%COMP%]{font-size:6rem;color:silver;margin-bottom:20px;display:block;margin-left:auto;margin-right:auto;width:fit-content;transform:translate(5px)}.empty-details[_ngcontent-%COMP%]{padding:40px;color:#999}.form-group[_ngcontent-%COMP%]{margin-bottom:16px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500;color:#333}.input-peso[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem;color:#64748b;margin-top:0}.applicant-header[_ngcontent-%COMP%]{background-color:#f8f9fa}.applicant-avatar[_ngcontent-%COMP%]{flex-shrink:0}.applicant-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;color:#051a49;margin:0}.qa-item[_ngcontent-%COMP%]{background-color:#fafafa;transition:all .2s ease}.qa-item[_ngcontent-%COMP%]:hover{background-color:#f0f4f9;border-color:#3b82f6!important}.qa-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-size:.95rem}.qa-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child{font-size:.9rem;color:#475569}p[_ngcontent-%COMP%]{font-family:Poppins;font-size:1.15rem}@media (max-width: 991px){.row.mx-5.my-4[_ngcontent-%COMP%]{margin-left:1rem!important;margin-right:1rem!important;flex-direction:column}.col-4[_ngcontent-%COMP%], .col[_ngcontent-%COMP%]{width:100%!important;flex:0 0 100%}.job-list[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto;margin-bottom:20px;border-bottom:1px solid #e0e0e0;padding-bottom:20px}.job-details-card[_ngcontent-%COMP%]{padding:20px;margin-top:0}.job-details-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}.action-buttons[_ngcontent-%COMP%]{flex-direction:column}.action-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]})};function rW(n,e){n&1&&(f(0,"div",2)(1,"div",3)(2,"span",4),y(3,"Loading..."),m()()())}function iW(n,e){if(n&1&&(f(0,"div",5),y(1),m()),n&2){let t=S(2);E(),H(t.error)}}function oW(n,e){if(n&1&&(f(0,"div",6),y(1),m()),n&2){let t=S(2);E(),H(t.successMessage)}}function sW(n,e){if(n&1&&te(0,"img",29),n&2){let t=S(3);z("src",t.profileImageUrl,Oa)}}function aW(n,e){if(n&1){let t=re();f(0,"div",14)(1,"div",17)(2,"label",15),y(3,"First Name"),m(),f(4,"input",18),ye("ngModelChange",function(i){U(t);let o=S(3);return Ee(o.firstName,i)||(o.firstName=i),B(i)}),m()(),f(5,"div",17)(6,"label",15),y(7,"Last Name"),m(),f(8,"input",18),ye("ngModelChange",function(i){U(t);let o=S(3);return Ee(o.lastName,i)||(o.lastName=i),B(i)}),m()()()}if(n&2){let t=S(3);E(4),ge("ngModel",t.firstName),z("disabled",t.savingProfile),E(4),ge("ngModel",t.lastName),z("disabled",t.savingProfile)}}function cW(n,e){if(n&1){let t=re();f(0,"div",10)(1,"label",15),y(2,"Company"),m(),f(3,"input",18),ye("ngModelChange",function(i){U(t);let o=S(3);return Ee(o.company,i)||(o.company=i),B(i)}),m()()}if(n&2){let t=S(3);E(3),ge("ngModel",t.company),z("disabled",t.savingProfile)}}function lW(n,e){if(n&1){let t=re();f(0,"div",10)(1,"label",15),y(2,"Headline"),m(),f(3,"input",30),ye("ngModelChange",function(i){U(t);let o=S(3);return Ee(o.headline,i)||(o.headline=i),B(i)}),m()()}if(n&2){let t=S(3);E(3),ge("ngModel",t.headline),z("disabled",t.savingProfile)}}function uW(n,e){if(n&1){let t=re();f(0,"div",7)(1,"div",8)(2,"div",9)(3,"h4",10),y(4,"Profile Information"),m(),f(5,"div",11),$n(6,sW,1,1,"img",12),f(7,"input",13),V("change",function(i){U(t);let o=S(2);return B(o.onProfileImageSelected(i))}),m()(),G(8,aW,9,4,"div",14),G(9,cW,4,2,"div",10),G(10,lW,4,2,"div",10),f(11,"div",10)(12,"label",15),y(13,"Bio / About"),m(),f(14,"textarea",16),ye("ngModelChange",function(i){U(t);let o=S(2);return Ee(o.bio,i)||(o.bio=i),B(i)}),m()(),f(15,"div",14)(16,"div",17)(17,"label",15),y(18,"Location"),m(),f(19,"input",18),ye("ngModelChange",function(i){U(t);let o=S(2);return Ee(o.location,i)||(o.location=i),B(i)}),m()(),f(20,"div",17)(21,"label",15),y(22,"Phone"),m(),f(23,"input",19),ye("ngModelChange",function(i){U(t);let o=S(2);return Ee(o.phone,i)||(o.phone=i),B(i)}),m()()(),f(24,"div",10)(25,"label",15),y(26,"Website / Portfolio"),m(),f(27,"input",20),ye("ngModelChange",function(i){U(t);let o=S(2);return Ee(o.website,i)||(o.website=i),B(i)}),m()(),f(28,"button",21),V("click",function(){U(t);let i=S(2);return B(i.saveProfile())}),y(29),m()()(),f(30,"div",22)(31,"div",9)(32,"h4",10),y(33,"Account Settings"),m(),f(34,"div",10)(35,"label",15),y(36,"Email"),m(),f(37,"input",23),ye("ngModelChange",function(i){U(t);let o=S(2);return Ee(o.email,i)||(o.email=i),B(i)}),m(),f(38,"small",24),y(39," Changing your email updates the email used to log in. "),m()(),te(40,"hr",25),f(41,"div",10)(42,"label",15),y(43,"New Password"),m(),f(44,"input",26),ye("ngModelChange",function(i){U(t);let o=S(2);return Ee(o.newPassword,i)||(o.newPassword=i),B(i)}),m()(),f(45,"div",10)(46,"label",15),y(47,"Confirm New Password"),m(),f(48,"input",26),ye("ngModelChange",function(i){U(t);let o=S(2);return Ee(o.confirmPassword,i)||(o.confirmPassword=i),B(i)}),m()(),f(49,"button",27),V("click",function(){U(t);let i=S(2);return B(i.saveAccountSettings())}),y(50),m(),f(51,"p",28),y(52," For security reasons, you may be asked to log in again after changing sensitive information. "),m()()()()}if(n&2){let t=S(2);E(6),z("ngIf",t.profileImageUrl),E(),z("disabled",t.savingProfile),E(),J(t.profile.role!=="employer"?8:-1),E(),J(t.profile.role==="employer"?9:-1),E(),J(t.profile.role!=="employer"?10:-1),E(4),ge("ngModel",t.bio),z("disabled",t.savingProfile),E(5),ge("ngModel",t.location),z("disabled",t.savingProfile),E(4),ge("ngModel",t.phone),z("disabled",t.savingProfile),E(4),ge("ngModel",t.website),z("disabled",t.savingProfile),E(),z("disabled",t.savingProfile),E(),De(" ",t.savingProfile?"Saving...":"Save Profile"," "),E(8),ge("ngModel",t.email),z("disabled",t.savingAccount),E(7),ge("ngModel",t.newPassword),z("disabled",t.savingAccount),E(4),ge("ngModel",t.confirmPassword),z("disabled",t.savingAccount),E(),z("disabled",t.savingAccount),E(),De(" ",t.savingAccount?"Saving...":"Update Account Settings"," ")}}function dW(n,e){if(n&1&&(G(0,iW,2,1,"div",5),G(1,oW,2,1,"div",6),G(2,uW,53,23,"div",7)),n&2){let t=S();J(t.error?0:-1),E(),J(t.successMessage?1:-1),E(),J(t.profile?2:-1)}}var wg=class n{authService=P(qe);profile=null;firstName="";lastName="";company="";headline="";bio="";location="";website="";phone="";email="";newPassword="";confirmPassword="";profileImageFile=null;profileImageUrl=null;loadingProfile=!1;savingProfile=!1;savingAccount=!1;error=null;successMessage=null;constructor(){this.loadProfile()}loadProfile(){return b(this,null,function*(){this.loadingProfile=!0,this.error=null;try{yield this.authService.waitForAuthState();let e=this.authService.userProfile(),t=this.authService.currentUser();if(!e||!t){this.error="You must be logged in to view your profile.";return}this.profile=e,this.firstName=e.firstName||"",this.lastName=e.lastName||"",this.company=e.companyName||"",this.headline=e.headline||"",this.bio=e.bio||"",this.location=e.location||"",this.website=e.website||"",this.phone=e.phone||"",this.profileImageUrl=e.profileImage||null,this.email=t.email||e.email}catch(e){console.error("Error loading profile:",e),this.error="Failed to load profile."}finally{this.loadingProfile=!1}})}onProfileImageSelected(e){let t=e.target;if(!t.files||t.files.length===0)return;this.profileImageFile=t.files[0];let r=new FileReader;r.onload=()=>{this.profileImageUrl=r.result},r.readAsDataURL(this.profileImageFile)}saveProfile(){return b(this,null,function*(){if(!this.profile?.uid){this.error="Profile not loaded properly.";return}this.savingProfile=!0,this.error=null,this.successMessage=null;try{let e={};this.firstName&&(e.firstName=this.firstName),this.lastName&&(e.lastName=this.lastName),this.company&&(e.companyName=this.company),this.headline&&(e.headline=this.headline),this.bio&&(e.bio=this.bio),this.location&&(e.location=this.location),this.website&&(e.website=this.website),this.phone&&(e.phone=this.phone),this.profileImageUrl&&(e.profileImage=this.profileImageUrl),yield this.authService.updateUserProfile(this.profile.uid,e),this.successMessage="Profile updated successfully.",yield this.loadProfile()}catch(e){console.error("Error saving profile:",e),this.error=e?.message||"Failed to update profile."}finally{this.savingProfile=!1}})}saveAccountSettings(){return b(this,null,function*(){if(this.profile){if(this.newPassword&&this.newPassword!==this.confirmPassword){this.error="New password and confirmation do not match.";return}this.savingAccount=!0,this.error=null,this.successMessage=null;try{this.email&&this.email!==this.profile.email&&(yield this.authService.updateEmail(this.email)),this.newPassword&&(yield this.authService.updatePassword(this.newPassword),this.newPassword="",this.confirmPassword=""),this.successMessage="Account settings updated successfully.",yield this.loadProfile()}catch(e){console.error("Error updating account settings:",e),this.error=e?.message||"Failed to update account settings."}finally{this.savingAccount=!1}}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-profile"]],decls:5,vars:1,consts:[[1,"container","py-4"],[1,"mb-4"],[1,"text-center","py-5"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"row","g-4"],[1,"col-lg-7"],[1,"card","p-4","mb-4"],[1,"mb-3"],[1,"mb-3","text-center"],["class","rounded-circle mb-2","style","width:120px;height:120px;object-fit:cover;","alt","Profile Image",3,"src",4,"ngIf"],["type","file","accept","image/*",1,"form-control",3,"change","disabled"],[1,"row"],[1,"form-label"],["rows","4","placeholder","Tell others a bit about yourself.",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"col-md-6","mb-3"],["type","text",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","tel",1,"form-control",3,"ngModelChange","ngModel","disabled"],["type","url",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"btn","btn-primary",3,"click","disabled"],[1,"col-lg-5"],["type","email",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"text-muted"],[1,"my-4"],["type","password",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"btn","btn-outline-primary","w-100",3,"click","disabled"],[1,"text-muted","small","mt-3"],["alt","Profile Image",1,"rounded-circle","mb-2",2,"width","120px","height","120px","object-fit","cover",3,"src"],["type","text","placeholder","e.g. Senior Frontend Developer, Hiring Manager at TechCorp",1,"form-control",3,"ngModelChange","ngModel","disabled"]],template:function(t,r){t&1&&(f(0,"div",0)(1,"h2",1),y(2,"My Profile"),m(),G(3,rW,4,0,"div",2)(4,dW,3,3),m()),t&2&&(E(3),J(r.loadingProfile?3:4))},dependencies:[ut,vs,bn,Xt,_n,dn],styles:[".container[_ngcontent-%COMP%]{max-width:1100px;font-family:Poppins,sans-serif}.card[_ngcontent-%COMP%]{box-shadow:0 4px 10px #0000000d;border-radius:12px;border:1px solid #e4e4e7;background:#fff}h2[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{color:var(--primary-color);font-weight:700}.form-label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-main)}input.form-control[_ngcontent-%COMP%], textarea.form-control[_ngcontent-%COMP%]{border-radius:8px;border-color:#cbd5e1;font-family:Poppins,sans-serif}input.form-control[_ngcontent-%COMP%]:focus, textarea.form-control[_ngcontent-%COMP%]:focus{border-color:var(--primary-color);box-shadow:0 0 0 1px var(--primary-color)}button.btn-primary[_ngcontent-%COMP%]{border-radius:999px;background-color:var(--primary-color);border-color:var(--primary-color)}button.btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--primary-hover)}button.btn-outline-primary[_ngcontent-%COMP%]{border-radius:999px;color:var(--primary-color);border-color:var(--primary-color)}button.btn-outline-primary[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);color:#fff}@media (max-width: 991px){.row.g-4[_ngcontent-%COMP%]{display:flex;flex-direction:column}.col-lg-7[_ngcontent-%COMP%], .col-lg-5[_ngcontent-%COMP%]{width:100%}.card[_ngcontent-%COMP%]{padding:20px!important}.row[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}}"]})};var hW=()=>[],fW=(n,e)=>e.uid,pW=(n,e)=>e.id;function mW(n,e){if(n&1&&(f(0,"div",22),y(1),m()),n&2){let t,r,i,o=S();ct("alert-success",((t=o.actionMessage())==null?null:t.type)==="success")("alert-danger",((r=o.actionMessage())==null?null:r.type)==="error"),E(),De(" ",(i=o.actionMessage())==null?null:i.text," ")}}function gW(n,e){n&1&&(f(0,"div",21)(1,"div",23)(2,"span",24),y(3,"Loading..."),m()()())}function yW(n,e){n&1&&y(0," No users found matching your search criteria. ")}function vW(n,e){n&1&&y(0," No users available. ")}function _W(n,e){if(n&1&&(f(0,"div",25),G(1,yW,1,0)(2,vW,1,0),m()),n&2){let t=S(2);E(),J(t.filteredUsers().length===0&&(t.searchEmail()||t.searchRole())?1:2)}}function bW(n,e){if(n&1&&y(0),n&2){let t=S().$implicit;an(" ",t.firstName," ",t.lastName," ")}}function EW(n,e){if(n&1&&y(0),n&2){let t=S().$implicit;De(" ",t.company," ")}}function wW(n,e){n&1&&y(0," N/A ")}function IW(n,e){if(n&1){let t=re();f(0,"tr")(1,"td"),y(2),m(),f(3,"td")(4,"span",39),y(5),m()(),f(6,"td"),G(7,bW,1,2)(8,EW,1,1)(9,wW,1,0),m(),f(10,"td"),y(11),Hn(12,"date"),m(),f(13,"td")(14,"button",40),V("click",function(){let i=U(t).$implicit,o=S(3);return B(o.selectUser(i))}),y(15," View "),m(),f(16,"button",41),V("click",function(){let i=U(t).$implicit,o=S(3);return B(o.openDeleteConfirm(i.uid))}),y(17," Delete "),m()()()}if(n&2){let t=e.$implicit,r=S(3);E(2),H(t.email),E(2),z("ngClass",r.getRoleBadgeClass(t.role)),E(),H(t.role),E(2),J(t.firstName&&t.lastName?7:t.company?8:9),E(4),H(co(12,5,t.createdAt,"short"))}}function CW(n,e){if(n&1&&(f(0,"option",32),y(1),m()),n&2){let t=e.$implicit,r=S(3);z("value",t)("selected",r.pageSize()===t),E(),H(t)}}function DW(n,e){if(n&1){let t=re();f(0,"button",42),V("click",function(){let i=U(t).$index,o=S(3);return B(o.goToPage(i+1))}),y(1),m()}if(n&2){let t=e.$index,r=S(3);ct("btn-primary",r.currentPage()===t+1)("btn-outline-primary",r.currentPage()!==t+1),E(),De(" ",t+1," ")}}function TW(n,e){if(n&1){let t=re();f(0,"div",26)(1,"table",27)(2,"thead",28)(3,"tr")(4,"th"),y(5,"Email"),m(),f(6,"th"),y(7,"Role"),m(),f(8,"th"),y(9,"Name/Company"),m(),f(10,"th"),y(11,"Created"),m(),f(12,"th"),y(13,"Actions"),m()()(),f(14,"tbody"),He(15,IW,18,8,"tr",null,fW),m()()(),f(17,"div",29)(18,"div")(19,"label",30),y(20,"Rows per page:"),m(),f(21,"select",31),V("change",function(i){U(t);let o=S(2);return B(o.changePageSize(i.target.value))}),He(22,CW,2,3,"option",32,Ul),m()(),f(24,"div",33)(25,"button",34),V("click",function(){U(t);let i=S(2);return B(i.previousPage())}),y(26," Previous "),m(),f(27,"div",35),He(28,DW,2,5,"button",36,vi),m(),f(30,"button",37),V("click",function(){U(t);let i=S(2);return B(i.nextPage())}),y(31," Next "),m()(),f(32,"div")(33,"small",38),y(34),m()()()}if(n&2){let t=S(2);E(15),ze(t.paginatedUsers()),E(7),ze(t.pageSizeOptions),E(3),z("disabled",t.currentPage()===1),E(3),ze(gs(4,hW).constructor(t.totalPages())),E(2),z("disabled",t.currentPage()===t.totalPages()),E(4),an("Page ",t.currentPage()," of ",t.totalPages())}}function SW(n,e){if(n&1&&G(0,_W,3,1,"div",25)(1,TW,35,5),n&2){let t=S();J(t.paginatedUsers().length===0?0:1)}}function AW(n,e){if(n&1&&(f(0,"div",50)(1,"label",51),y(2,"Name:"),m(),f(3,"p"),y(4),m()()),n&2){let t,r=S(2);E(4),an("",(t=r.selectedUser())==null?null:t.firstName," ",(t=r.selectedUser())==null?null:t.lastName)}}function xW(n,e){if(n&1&&(f(0,"div",50)(1,"label",51),y(2,"Company:"),m(),f(3,"p"),y(4),m()()),n&2){let t,r=S(2);E(4),H((t=r.selectedUser())==null?null:t.company)}}function MW(n,e){if(n&1&&(f(0,"div",50)(1,"label",51),y(2,"Saved Jobs:"),m(),f(3,"p"),y(4),m()()),n&2){let t=S(2);E(4),De("",t.selectedUser().savedJobs.length," jobs saved")}}function RW(n,e){n&1&&(f(0,"p",38),te(1,"i",56),y(2,"Loading..."),m())}function PW(n,e){n&1&&(f(0,"p",38),y(1,"No job applications"),m())}function NW(n,e){if(n&1&&(f(0,"li",57)(1,"div")(2,"strong"),y(3),m(),te(4,"br"),f(5,"small",38),y(6),m()(),f(7,"span",58),y(8),m()()),n&2){let t=e.$implicit;E(3),H(t.title),E(3),an("",t.company," - ",t.location),E(2),H(t.type)}}function kW(n,e){if(n&1&&(f(0,"ul",55),He(1,NW,9,4,"li",57,pW),m()),n&2){let t=S(3);E(),ze(t.selectedUserAppliedJobs())}}function OW(n,e){if(n&1&&(f(0,"div",50)(1,"label",51),y(2,"Applied Jobs:"),m(),G(3,RW,3,0,"p",38)(4,PW,2,0,"p",38)(5,kW,3,0,"ul",55),m()),n&2){let t=S(2);E(3),J(t.loadingAppliedJobs()?3:t.selectedUserAppliedJobs().length===0?4:5)}}function FW(n,e){if(n&1){let t=re();f(0,"div",43),V("click",function(){U(t);let i=S();return B(i.closeModal())}),m(),f(1,"div",44)(2,"div",45)(3,"div",46)(4,"h5",47),y(5,"User Details"),m(),f(6,"button",48),V("click",function(){U(t);let i=S();return B(i.closeModal())}),m()(),f(7,"div",49)(8,"div",50)(9,"label",51),y(10,"Email:"),m(),f(11,"p"),y(12),m()(),f(13,"div",50)(14,"label",51),y(15,"Role:"),m(),f(16,"p")(17,"span",39),y(18),m()()(),G(19,AW,5,2,"div",50),G(20,xW,5,1,"div",50),f(21,"div",50)(22,"label",51),y(23,"User ID:"),m(),f(24,"p",52),y(25),m()(),f(26,"div",50)(27,"label",51),y(28,"Created:"),m(),f(29,"p"),y(30),Hn(31,"date"),m()(),G(32,MW,5,1,"div",50),G(33,OW,6,1,"div",50),m(),f(34,"div",53)(35,"button",20),V("click",function(){U(t);let i=S();return B(i.openDeleteConfirm(i.selectedUser().uid))}),y(36," Delete User "),m(),f(37,"button",54),V("click",function(){U(t);let i=S();return B(i.closeModal())}),y(38,"Close"),m()()()()}if(n&2){let t,r,i,o,s,a,l,u,h=S();E(12),H((t=h.selectedUser())==null?null:t.email),E(5),z("ngClass",h.getRoleBadgeClass(h.selectedUser().role)),E(),De(" ",(r=h.selectedUser())==null?null:r.role," "),E(),J((i=h.selectedUser())!=null&&i.firstName&&((i=h.selectedUser())!=null&&i.lastName)?19:-1),E(),J((o=h.selectedUser())!=null&&o.company?20:-1),E(5),H((s=h.selectedUser())==null?null:s.uid),E(5),H(co(31,9,(a=h.selectedUser())==null?null:a.createdAt,"medium")),E(2),J((l=h.selectedUser())!=null&&l.savedJobs&&h.selectedUser().savedJobs.length>0?32:-1),E(),J(((u=h.selectedUser())==null?null:u.role)==="applicant"?33:-1)}}function LW(n,e){if(n&1){let t=re();f(0,"div",43),V("click",function(){U(t);let i=S();return B(i.closeDeleteConfirm())}),m(),f(1,"div",44)(2,"div",45)(3,"h2"),y(4,"Confirm Deletion"),m(),f(5,"p"),y(6,"Are you sure you want to delete this user? This action cannot be undone."),m(),f(7,"div",53)(8,"button",54),V("click",function(){U(t);let i=S();return B(i.closeDeleteConfirm())}),y(9,"Cancel"),m(),f(10,"button",20),V("click",function(){U(t);let i=S();return B(i.confirmDelete())}),y(11," Delete "),m()()()()}}var Ig=class n{firestore=P(br);jobsService=P(Lt);allUsers=ee([]);selectedUser=ee(null);selectedUserAppliedJobs=ee([]);loading=ee(!1);loadingAppliedJobs=ee(!1);actionMessage=ee(null);searchEmail=ee("");searchRole=ee("");showDeleteConfirmModal=!1;userToDelete=null;currentPage=ee(1);pageSize=ee(10);pageSizeOptions=[5,10,25,50];filteredUsers=gn(()=>{let e=this.allUsers(),t=this.searchEmail().toLowerCase(),r=this.searchRole();return t&&(e=e.filter(i=>i.email.toLowerCase().includes(t))),r&&(e=e.filter(i=>i.role===r)),e});totalPages=gn(()=>Math.ceil(this.filteredUsers().length/this.pageSize()));paginatedUsers=gn(()=>{let e=this.filteredUsers(),t=(this.currentPage()-1)*this.pageSize(),r=t+this.pageSize();return e.slice(t,r)});ngOnInit(){return b(this,null,function*(){yield this.loadUsers()})}loadUsers(){return b(this,null,function*(){this.loading.set(!0);try{let e=Lo(this.firestore,"users"),r=(yield Gs(e)).docs.map(i=>{let o=i.data();return ne(j({uid:i.id},o),{createdAt:o.createdAt?.toDate?o.createdAt.toDate():o.createdAt})});this.allUsers.set(r),this.currentPage.set(1)}catch(e){console.error("Error loading users:",e),this.showMessage("error","Failed to load users")}finally{this.loading.set(!1)}})}resetFilters(){this.searchEmail.set(""),this.searchRole.set(""),this.currentPage.set(1)}selectUser(e){return b(this,null,function*(){if(this.selectedUser.set(e),this.selectedUserAppliedJobs.set([]),this.actionMessage.set(null),e.role==="applicant"){this.loadingAppliedJobs.set(!0);try{let t=yield this.jobsService.getJobsAppliedByUser(e.uid);this.selectedUserAppliedJobs.set(t)}catch(t){console.error("Error loading applied jobs:",t)}finally{this.loadingAppliedJobs.set(!1)}}})}closeModal(){this.selectedUser.set(null),this.selectedUserAppliedJobs.set([]),this.actionMessage.set(null)}openDeleteConfirm(e){this.userToDelete=e,this.showDeleteConfirmModal=!0}closeDeleteConfirm(){this.showDeleteConfirmModal=!1,this.userToDelete=null}confirmDelete(){return b(this,null,function*(){if(this.userToDelete)try{yield this.jobsService.removeUserFromAllApplications(this.userToDelete),yield eg($t(this.firestore,"users",this.userToDelete)),yield this.loadUsers(),this.showMessage("success","User and all their data have been deleted. Note: The user will be removed from Firebase Authentication on their next login attempt."),this.closeDeleteConfirm(),this.closeModal()}catch(e){console.error("Error deleting user:",e),this.showMessage("error","Failed to delete user")}})}nextPage(){this.currentPage()<this.totalPages()&&this.currentPage.set(this.currentPage()+1)}previousPage(){this.currentPage()>1&&this.currentPage.set(this.currentPage()-1)}goToPage(e){e>=1&&e<=this.totalPages()&&this.currentPage.set(e)}changePageSize(e){this.pageSize.set(e),this.currentPage.set(1)}getRoleBadgeClass(e){switch(e){case"admin":return"bg-danger";case"employer":return"bg-primary";case"applicant":return"bg-success";default:return"bg-secondary"}}showMessage(e,t){this.actionMessage.set({type:e,text:t}),setTimeout(()=>this.actionMessage.set(null),3e3)}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Qe({type:n,selectors:[["app-user-management"]],decls:34,vars:8,consts:[[1,"container","py-4"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"badge","bg-dark"],[1,"alert",3,"alert-success","alert-danger"],[1,"mb-4"],[1,"row","justify-content-center"],[1,"col-lg-12"],[1,"row","g-2","align-items-center","search-bar-wrapper"],[1,"col-md-4"],[1,"input-icon-container"],[1,"fas","fa-envelope","input-icon"],["type","text","placeholder","Search by Email",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-3"],[1,"fas","fa-user-tag","input-icon"],[1,"form-control",3,"ngModelChange","ngModel"],["value",""],["value","admin"],["value","employer"],["value","applicant"],[1,"col-md-2"],[1,"btn","btn-danger",3,"click"],[1,"text-center","py-5"],[1,"alert"],["role","status",1,"spinner-border"],[1,"visually-hidden"],[1,"alert","alert-info","text-center"],[1,"table-responsive"],[1,"table","table-hover"],[1,"table-dark"],[1,"d-flex","justify-content-between","align-items-center","mt-4"],[1,"me-2"],[1,"form-select","d-inline-block",2,"width","auto",3,"change"],[3,"value","selected"],[1,"pagination","m-0"],[1,"btn","btn-outline-primary","me-1",3,"click","disabled"],["role","group",1,"btn-group"],["type","button",1,"btn",3,"btn-primary","btn-outline-primary"],[1,"btn","btn-outline-primary","ms-1",3,"click","disabled"],[1,"text-muted"],[1,"badge",3,"ngClass"],[1,"btn","btn-sm","btn-outline-primary","me-1",3,"click"],["title","Delete User",1,"btn","btn-sm","btn-outline-danger",3,"click"],["type","button",1,"btn",3,"click"],[1,"modal-backdrop",3,"click"],[1,"modal-container"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"fw-bold"],[1,"text-muted","small"],[1,"modal-footer"],[1,"btn","btn-secondary",3,"click"],[1,"list-group","mt-2"],[1,"fas","fa-spinner","fa-spin","me-2"],[1,"list-group-item","d-flex","justify-content-between","align-items-center"],[1,"badge","bg-info"]],template:function(t,r){t&1&&(f(0,"div",0)(1,"div",1)(2,"h2"),y(3,"User Management"),m(),f(4,"span",2),y(5),m()(),G(6,mW,2,5,"div",3),f(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),te(13,"i",10),f(14,"input",11),ye("ngModelChange",function(o){return Ee(r.searchEmail,o)||(r.searchEmail=o),o}),m()()(),f(15,"div",12)(16,"div",9),te(17,"i",13),f(18,"select",14),ye("ngModelChange",function(o){return Ee(r.searchRole,o)||(r.searchRole=o),o}),f(19,"option",15),y(20,"All Roles"),m(),f(21,"option",16),y(22,"Admin"),m(),f(23,"option",17),y(24,"Employer"),m(),f(25,"option",18),y(26,"Applicant"),m()()()(),f(27,"div",19)(28,"button",20),V("click",function(){return r.resetFilters()}),y(29," Reset Filters "),m()()()()()(),G(30,gW,4,0,"div",21)(31,SW,2,1),m(),G(32,FW,39,12),G(33,LW,12,0)),t&2&&(E(5),an("",r.allUsers().length," Total Users | ",r.filteredUsers().length," Filtered"),E(),J(r.actionMessage()?6:-1),E(8),ge("ngModel",r.searchEmail),E(4),ge("ngModel",r.searchRole),E(12),J(r.loading()?30:31),E(2),J(r.selectedUser()?32:-1),E(),J(r.showDeleteConfirmModal?33:-1))},dependencies:[ut,dr,bn,Qr,Yr,Xt,Kr,_n,dn,Yl],styles:[".badge-meta[_ngcontent-%COMP%]{background-color:#051a49;color:#fff;padding:.5em .8em;font-weight:500;border-radius:4px;font-family:Poppins,sans-serif}.table[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;border-radius:12px;overflow:hidden}.table-dark[_ngcontent-%COMP%]{--bs-table-bg: #051a49;--bs-table-border-color: #051a49;color:#fff}.card[_ngcontent-%COMP%]{border:1px solid #e0e0e0;box-shadow:0 1px 3px #0000001a;border-radius:12px;font-family:Poppins,sans-serif}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600}.search-bar-wrapper[_ngcontent-%COMP%]{background-color:transparent;box-shadow:none;overflow:visible}.input-icon-container[_ngcontent-%COMP%]{position:relative;width:100%}.input-icon[_ngcontent-%COMP%]{position:absolute;left:30px;top:50%;transform:translateY(-50%);color:#64748b;font-size:1.1rem;z-index:2;margin-top:2px}.form-control[_ngcontent-%COMP%]{padding:10px 15px;border:none;border-radius:8px;background-color:#fff;box-shadow:0 1px 3px #0000000d;font-size:1rem;transition:background-color .3s,box-shadow .3s;font-family:Poppins,sans-serif}.input-icon-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:65px}.form-control[_ngcontent-%COMP%]:focus{outline:none;background-color:#fff;border:1px solid #3b82f6;box-shadow:none}.btn-outline-primary[_ngcontent-%COMP%]{--bs-btn-color: #3b82f6;--bs-btn-border-color: #3b82f6;--bs-btn-hover-color: #fff;--bs-btn-hover-bg: #3b82f6;--bs-btn-active-bg: #2563eb;--bs-btn-active-border-color: #2563eb}.btn-primary[_ngcontent-%COMP%]{--bs-btn-bg: #3b82f6;--bs-btn-border-color: #3b82f6}.btn-danger[_ngcontent-%COMP%]{--bs-btn-bg: #dc3545;--bs-btn-border-color: #dc3545;--bs-btn-hover-bg: #c82333;--bs-btn-hover-border-color: #c82333;color:#fff;padding:10px 16px;font-size:1rem}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:1040}.modal-container[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:1050;width:100%;max-width:600px;padding:20px}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:12px;box-shadow:0 10px 40px #0003;overflow:hidden;font-family:Poppins,sans-serif}.modal-header[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;align-items:center}.modal-title[_ngcontent-%COMP%]{margin:0;font-weight:600}.modal-body[_ngcontent-%COMP%]{padding:20px;max-height:400px;overflow-y:auto}.modal-footer[_ngcontent-%COMP%]{padding:20px;border-top:1px solid #e0e0e0;display:flex;gap:10px;justify-content:flex-end}.btn-close[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;cursor:pointer;opacity:.5}.btn-close[_ngcontent-%COMP%]:hover{opacity:1}.pagination[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:4px}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(:first-child){margin-left:-1px}h2[_ngcontent-%COMP%]{font-family:Poppins;font-weight:700}.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;border-color:#6c757d;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268;border-color:#5a6268}@media (max-width: 991px){.search-bar-wrapper[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{flex-direction:column;gap:10px}.col-md-4[_ngcontent-%COMP%], .col-md-3[_ngcontent-%COMP%], .col-md-2[_ngcontent-%COMP%], .col-md-2[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;border-radius:8px;border:1px solid #e0e0e0}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{white-space:nowrap}.d-flex.justify-content-between[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;text-align:center}}"]})};var cC=()=>b(null,null,function*(){let n=P(qe),e=P(Ge);return yield n.waitForAuthState(),n.isLoggedIn()?n.isEmployer()||n.isAdmin()?!0:(e.navigate(["/"]),!1):(e.navigate(["/login"]),!1)}),lC=()=>b(null,null,function*(){let n=P(qe),e=P(Ge);return yield n.waitForAuthState(),n.isLoggedIn()?n.isAdmin()?!0:(e.navigate(["/"]),!1):(e.navigate(["/login"]),!1)});var Cg=()=>b(null,null,function*(){let n=P(qe),e=P(Ge);return yield n.waitForAuthState(),n.isLoggedIn()?!0:(e.navigate(["/login"]),!1)});var dO=[{path:"",component:bg},{path:"job-list",component:pg},{path:"create-job",component:mg,canActivate:[cC]},{path:"employer-jobs",component:Eg,canActivate:[cC]},{path:"login",component:gg},{path:"admin",component:yg,canActivate:[lC]},{path:"user-management",component:Ig,canActivate:[lC]},{path:"saved-jobs",component:vg,canActivate:[Cg]},{path:"applied-jobs",component:_g,canActivate:[Cg]},{path:"profile",component:wg,canActivate:[Cg]}];var hO={production:!1,firebase:{apiKey:"AIzaSyBDpWMfxyFMiJG5F1i-YddxaL8SYyFyA1A",authDomain:"community-appdev.firebaseapp.com",projectId:"community-appdev",storageBucket:"community-appdev.firebasestorage.app",messagingSenderId:"903859173134",appId:"1:903859173134:web:03b539ce71d1f532de095f",measurementId:"G-F6S948FX0K"}};var fO={providers:[Ev(),c0({eventCoalescing:!0}),lb(dO),OM(()=>FM(hO.firebase)),HR(()=>{let n=qR();return Qp(n,Yp).catch(e=>{console.error("Error setting auth persistence:",e)}),n}),Nk(()=>Ok())]};k0(tg,fO).catch(n=>console.error(n));
